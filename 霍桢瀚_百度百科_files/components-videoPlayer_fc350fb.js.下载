;/*!wiki-common:packages/components/videoPlayer/common/config.js*/
define("wiki-common:packages/components/videoPlayer/common/config",function(e,A,a){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.UI_WRAPPER_CLASSNAMES=A.SETTING_STORAGE=A.PLAYER_CLASS_NAMES=A.CLASSNAME_PREFIX=A.ACTIVE_DURATION=void 0;A.PLAYER_CLASS_NAMES={LOADSTART:"bkplayer-status-loadstart",ENDED:"bkplayer-status-ended",PAUSED:"bkplayer-status-paused",ERROR:"bkplayer-status-error",SEEKING:"bkplayer-status-seeking",WAITING:"bkplayer-status-waiting",PLAYING:"bkplayer-status-playing",ACTIVE:"bkplayer-status-user-active",HAS_START:"bkplayer-status-has-start",CONTROLS_HIDE:"bkplayer-custom-controls-hide",ALL_SCREEN:"bkplayer-all-screen",LIVE_PLAY:"bkplayer-live-play",MINI:"bkplayer-mini",VERTICAL:"bkplayer-vertical",HORIZONTAL:"bkplayer-horizontal"};A.ACTIVE_DURATION=3e3;var E="bkplayer";A.CLASSNAME_PREFIX=E,A.UI_WRAPPER_CLASSNAMES="bkplayer-ui-wrapper";A.SETTING_STORAGE={AUTO_PLAY_NEXT:"BKPLAYER_SETTING_AUTO_PLAY_NEXT",AUTO_LOOP:"BKPLAYER_SETTING_AUTO_LOOP",AUTO_MINI:"BKPLAYER_SETTING_AUTO_MINI"}});
;/*!wiki-common:packages/components/videoPlayer/common/event.js*/
define("wiki-common:packages/components/videoPlayer/common/event",function(e,T,_){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.customEvent=T.CUSTOM_EVENTS=void 0;e=new((e=e("wiki-common:packages/utils/eventEmitter"))&&e.__esModule?e:{default:e}).default;T.customEvent=e;T.CUSTOM_EVENTS={CONTROLS_SHOW:"CONTROLS_SHOW",CONTROLS_HIDE:"CONTROLS_HIDE",TOGGLE_TIP:"TOGGLE_TIP",LOG:"LOG",PLAY_NEXT:"PLAY_NEXT",TOGGLE_MINI:"TOGGLE_MINI",TOGGLE_MINI_SWITCH:"TOGGLE_MINI_SWITCH",TOGGLE_HAS_NEXT:"TOGGLE_HAS_NEXT"}});
;/*!wiki-common:packages/components/videoPlayer/plugins/ClassNameManager.js*/
define("wiki-common:packages/components/videoPlayer/plugins/ClassNameManager",function(e,t,a){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e("wiki-common:node_modules/larkplayer/dist/larkplayer.min"),s=e("wiki-common:packages/components/videoPlayer/common/config");function l(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,a){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r)return r=Object.getOwnPropertyDescriptor(r,t),r.get?r.get.call(arguments.length<3?e:a):r.value}).apply(this,arguments)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=u(a),t=(e=r?(e=u(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=r.util.toTitleCase,e=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e);var a,r=A(o);function o(e,t){var a;if(this instanceof o)return(a=r.call(this,e,t)).handleMouseEnter=a.handleMouseEnter.bind(S(a)),a.handleMouseMove=a.handleMouseMove.bind(S(a)),a.handleMouseLeave=a.handleMouseLeave.bind(S(a)),a.handleFirstplay=a.handleFirstplay.bind(S(a)),a.activeTimeoutHandler=null,a.activeTimeout=s.ACTIVE_DURATION,a.events=["loadstart","loadedmetadata","canplay","canplaythrough","error","playing","waiting","seeking","seeked","ended","play","pause"],a.events.forEach(function(e){var t="handle".concat(E(e));a[t]=a[t].bind(S(a)),a.player.on(e,a[t])}),a.player.on("mouseenter",a.handleMouseEnter),a.player.on("mousemove",a.handleMouseMove),a.player.on("mouseleave",a.handleMouseLeave),a.player.on("firstplay",a.handleFirstplay),a.player.addClass(s.PLAYER_CLASS_NAMES.PAUSED),window.screen.height/window.screen.width>16/9&&a.player.addClass(s.PLAYER_CLASS_NAMES.ALL_SCREEN),a;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"dispose",value:function(){var t=this;clearTimeout(this.activeTimeoutHandler),this.player&&(this.player.off("mouseenter",this.handleMouseEnter),this.player.off("mousemove",this.handleMouseMove),this.player.off("mouseleave",this.handleMouseLeave),this.events.forEach(function(e){t.player.off(e,t["handle".concat(E(e))])}),this.player.off("firstplay",this.handleFirstplay),n(u(o.prototype),"dispose",this).call(this))}},{key:"handleMouseEnter",value:function(e){var t=this;clearTimeout(this.activeTimeoutHandler),this.player.hasClass(s.PLAYER_CLASS_NAMES.ACTIVE)||this.player.addClass(s.PLAYER_CLASS_NAMES.ACTIVE),this.activeTimeoutHandler=setTimeout(function(){t.player.removeClass(s.PLAYER_CLASS_NAMES.ACTIVE)},this.activeTimeout)}},{key:"handleMouseMove",value:function(e){this.handleMouseEnter(e)}},{key:"handleMouseLeave",value:function(e){clearTimeout(this.activeTimeoutHandler),this.player.removeClass(s.PLAYER_CLASS_NAMES.ACTIVE)}},{key:"handleLoadstart",value:function(){this.player.addClass(s.PLAYER_CLASS_NAMES.LOADSTART)}},{key:"handleLoadedmetadata",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.LOADSTART),!isFinite(this.player.duration())?this.player.addClass(s.PLAYER_CLASS_NAMES.LIVE_PLAY):this.player.removeClass(o.LIVE_PLAY)}},{key:"handlePlay",value:function(){var e=this;this.player.removeClass(s.PLAYER_CLASS_NAMES.LOADSTART),this.player.removeClass(s.PLAYER_CLASS_NAMES.SEEKING),this.player.removeClass(s.PLAYER_CLASS_NAMES.WAITING),this.player.removeClass(s.PLAYER_CLASS_NAMES.PAUSED),this.player.removeClass(s.PLAYER_CLASS_NAMES.ENDED),this.player.removeClass(s.PLAYER_CLASS_NAMES.ERROR),this.player.addClass(s.PLAYER_CLASS_NAMES.PLAYING),clearTimeout(this.activeTimeoutHandler),this.player.addClass(s.PLAYER_CLASS_NAMES.ACTIVE),this.activeTimeoutHandler=setTimeout(function(){e.player.removeClass(s.PLAYER_CLASS_NAMES.ACTIVE)},this.activeTimeout)}},{key:"handleWaiting",value:function(){this.player.addClass(s.PLAYER_CLASS_NAMES.WAITING)}},{key:"handleCanplay",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.WAITING),this.player.removeClass(s.PLAYER_CLASS_NAMES.LOADSTART),this.player.paused()&&(this.player.removeClass(s.PLAYER_CLASS_NAMES.PLAYING),this.player.addClass(s.PLAYER_CLASS_NAMES.PAUSED))}},{key:"handleCanplaythrough",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.WAITING)}},{key:"handlePlaying",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.WAITING),this.player.removeClass(s.PLAYER_CLASS_NAMES.LOADSTART),this.player.removeClass(s.PLAYER_CLASS_NAMES.SEEKING),this.player.removeClass(s.PLAYER_CLASS_NAMES.PAUSED),this.player.removeClass(s.PLAYER_CLASS_NAMES.ERROR),this.player.removeClass(s.PLAYER_CLASS_NAMES.ENDED)}},{key:"handleSeeking",value:function(){this.player.addClass(s.PLAYER_CLASS_NAMES.SEEKING)}},{key:"handleSeeked",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.SEEKING),this.player.removeClass(s.PLAYER_CLASS_NAMES.WAITING),this.player.removeClass(s.PLAYER_CLASS_NAMES.LOADSTART)}},{key:"handleFirstplay",value:function(){var e=this;this.player.addClass(s.PLAYER_CLASS_NAMES.HAS_START),clearTimeout(this.activeTimeoutHandler),this.player.addClass(s.PLAYER_CLASS_NAMES.ACTIVE),this.activeTimeoutHandler=setTimeout(function(){e.player.removeClass(s.PLAYER_CLASS_NAMES.ACTIVE)},this.activeTimeout)}},{key:"handlePause",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.PLAYING),this.player.addClass(s.PLAYER_CLASS_NAMES.PAUSED)}},{key:"handleEnded",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.PLAYING),this.player.removeClass(s.PLAYER_CLASS_NAMES.ERROR),this.player.addClass(s.PLAYER_CLASS_NAMES.ENDED)}},{key:"handleError",value:function(){this.player.removeClass(s.PLAYER_CLASS_NAMES.PLAYING),this.player.removeClass(s.PLAYER_CLASS_NAMES.ENDED),this.player.removeClass(s.PLAYER_CLASS_NAMES.PAUSED),this.player.removeClass(s.PLAYER_CLASS_NAMES.LOADSTART),this.player.removeClass(s.PLAYER_CLASS_NAMES.SEEKING),this.player.removeClass(s.PLAYER_CLASS_NAMES.WAITING),this.player.addClass(s.PLAYER_CLASS_NAMES.ERROR)}}])&&l(t.prototype,e),a&&l(t,a),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.Plugin);t.default=e,a.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/plugins/ControlsEvent.js*/
define("wiki-common:packages/components/videoPlayer/plugins/ControlsEvent",function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e("wiki-common:node_modules/larkplayer/dist/larkplayer.min"),i=e("wiki-common:packages/components/videoPlayer/common/config"),l=e("wiki-common:packages/components/videoPlayer/common/event");function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(o)return o=Object.getOwnPropertyDescriptor(o,t),o.get?o.get.call(arguments.length<3?e:r):o.value}).apply(this,arguments)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(r){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(r),t=(e=o?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=o.util.toTitleCase,y=o.util.featureDetector,h=o.util.includes,e=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);var r,o=s(n);function n(e,t){if(this instanceof n)return(e=o.call(this,e,t)).handleAllEvents("on"),e;throw new TypeError("Cannot call a class as a function")}return t=n,(e=[{key:"handleAllEvents",value:function(r){var o=this,n=["touchstart","touchend"],i=["mouseenter","mousemove","mouseleave"];["play","pause","ended"].concat(n,i).forEach(function(e){var t="handle".concat(p(e));o[t]=o[t].bind(o),o.player&&(h(n,e)?y.touch&&o.player[r](e,o[t]):h(i,e)&&y.touch||o.player[r](e,o[t]))})}},{key:"dispose",value:function(){clearTimeout(this.timeoutHandler),this.handleAllEvents("off"),a(f(n.prototype),"dispose",this).call(this)}},{key:"setTimeoutTriggerControlsHide",value:function(){var e=this;this.timeoutHandler=setTimeout(function(){e.player&&e.player.trigger(l.CUSTOM_EVENTS.CONTROLS_HIDE)},i.ACTIVE_DURATION)}},{key:"handlePlay",value:function(){this.player&&(clearTimeout(this.timeoutHandler),this.player.trigger(l.CUSTOM_EVENTS.CONTROLS_SHOW),this.setTimeoutTriggerControlsHide())}},{key:"handleTouchstart",value:function(){clearTimeout(this.timeoutHandler)}},{key:"handleTouchend",value:function(){this.player&&(clearTimeout(this.timeoutHandler),this.player.hasClass(i.PLAYER_CLASS_NAMES.ACTIVE)?(this.player.trigger(l.CUSTOM_EVENTS.CONTROLS_SHOW),this.setTimeoutTriggerControlsHide()):this.player.paused()||this.player.trigger(l.CUSTOM_EVENTS.CONTROLS_HIDE))}},{key:"handleMouseenter",value:function(){this.player&&(clearTimeout(this.timeoutHandler),this.player.trigger(l.CUSTOM_EVENTS.CONTROLS_SHOW),this.setTimeoutTriggerControlsHide())}},{key:"handleMousemove",value:function(){this.handleMouseenter()}},{key:"handleMouseleave",value:function(){this.player&&(clearTimeout(this.timeoutHandler),this.player.paused()||this.player.trigger(l.CUSTOM_EVENTS.CONTROLS_HIDE))}},{key:"handlePause",value:function(){this.player&&(clearTimeout(this.timeoutHandler),this.player.trigger(l.CUSTOM_EVENTS.CONTROLS_SHOW))}},{key:"handleEnded",value:function(){this.player&&(clearTimeout(this.timeoutHandler),this.player.trigger(l.CUSTOM_EVENTS.CONTROLS_SHOW))}}])&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(o.Plugin);t.default=e,r.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/plugins/HlsPlugin.js*/
define("wiki-common:packages/components/videoPlayer/plugins/HlsPlugin",function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e("wiki-common:node_modules/larkplayer/dist/larkplayer.min"),o=(y=e("wiki-common:node_modules/hls.js/dist/hls"))&&y.__esModule?y:{default:y},l=e("wiki-common:packages/components/videoPlayer/common/event");function s(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function a(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(r),t=(e=n?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d={loadLevel:0,maxMaxBufferLength:10,testBandwidth:!1,defaultLevels:[{height:320},{height:480},{height:720}]},y=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);var r,n=h(i);function i(e,t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");e=n.call(this,e,t),t=a(a({},d),t);return e.handleFullscreenLevel=e.handleFullscreenLevel.bind(f(e)),e.player.isReady=!1,e.levels=t.defaultLevels,e.hls=new o.default(t),e.timer=null,e.timer1=null,e.hasTip=!1,e.initEvents(),e}return t=i,e=[{key:"canPlay",value:function(e,t){return o.default.isSupported()&&(/application\/((x-mpegURL)|(vnd\.apple\.mpegurl))/i.test(t)||/\.m3u8?/i.test(e))}},{key:"isSupported",value:function(){return o.default.isSupported()}}],(r=[{key:"initEvents",value:function(){var n=this;this.hls.on(o.default.Events.MANIFEST_PARSED,function(e,t){t&&t.levels&&t.levels.length&&(n.levels=t.levels,n.hls.loadLevel=n.getLoadLevel(),n.hls.nextLevel=n.hls.loadLevel),n.player.triggerReady()}),this.hls.on(o.default.Events.FRAG_CHANGED,function(e,t){var t=t.frag||{},r=n.lastFragment;r&&n.hls.currentLevel>r.level&&(n.hls.trigger(o.default.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:t.startDTS}),clearTimeout(n.time1),n.timer1=setTimeout(function(){n.hasTip&&l.customEvent.emit(l.CUSTOM_EVENTS.TOGGLE_TIP,"已成功为您切换全屏播放模式"),clearTimeout(n.timer),n.timer=setTimeout(function(){l.customEvent.emit(l.CUSTOM_EVENTS.TOGGLE_TIP,""),n.hasTip=!1},1e3)},1e3)),n.lastFragment=t}),this.hls.on(o.default.Events.ERROR,function(e,t){t.fatal&&(t.type===o.default.ErrorTypes.MEDIA_ERROR?n.handleMediaError():(o.default.ErrorTypes.NETWORK_ERROR,n.hls.destroy()))}),this.player.on("fullscreenchange",this.handleFullscreenLevel)}},{key:"getLoadLevel",value:function(){for(var e=this.levels||d.defaultLevels||[],t=this.getPlayerRealHeight(),r=0;r<e.length;r++)if(t<=(e[r]||{}).height)return r;return e.length-1}},{key:"getPlayerRealHeight",value:function(){var e=this.player,t=window.devicePixelRatio||1,r=0;return(r=e&&"function"==typeof e.height?e.height()||0:r)*t||0}},{key:"updateLevel",value:function(e){var t,r=this;this.hls&&(t=this.getLoadLevel(),this.hls.nextLoadLevel!==t&&(e&&(l.customEvent.emit(l.CUSTOM_EVENTS.TOGGLE_TIP,"正在为您切换成全屏播放模式"),this.hasTip=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){r.hasTip=!1,l.customEvent.emit(l.CUSTOM_EVENTS.TOGGLE_TIP,"")},8e3)),this.hls.loadLevel=t,this.hls.nextLoadLevel=t,this.hls.nextLevel=t))}},{key:"src",value:function(e){this.player.isReady=!1,this.hls.attachMedia(this.player.tech.el),this.hls.loadSource(e)}},{key:"internalPlay",value:function(){var e=this.player.techGet("play");e&&e.then&&e.then(null,function(e){console.error(e)})}},{key:"play",value:function(){var e=this;this.player.isReady?this.internalPlay():this.player.ready(function(){e.internalPlay()})}},{key:"handleMediaError",value:function(){var e=Date.now();!this.recoverDecodingErrorDate||3e3<e-this.recoverDecodingErrorDate?(this.recoverDecodingErrorDate=e,this.hls.recoverMediaError()):!this.recoverSwapAudioCodecDate||3e3<e-this.recoverSwapAudioCodecDate?(this.recoverSwapAudioCodecDate=e,this.hls.swapAudioCodec(),this.hls.recoverMediaError()):this.hls.destroy()}},{key:"handleFullscreenLevel",value:function(e){this.isFullscreen=e.detail.isFullscreen,this.updateLevel(this.isFullscreen),this.isFullscreen||(clearTimeout(this.timer),clearTimeout(this.timer1),l.customEvent.emit(l.CUSTOM_EVENTS.TOGGLE_TIP,""),this.hasTip=!1)}},{key:"dispose",value:function(){this.player&&this.player.off&&this.player.off("fullscreenchange",this.handleFullscreenLevel),this.hls instanceof o.default&&(this.hls.destroy(),this.hls.bufferTimer&&(clearInterval(this.hls.bufferTimer),this.hls.bufferTimer=void 0)),clearTimeout(this.timer),clearTimeout(this.timer1),this.hls=null}}])&&u(t.prototype,r),e&&u(t,e),Object.defineProperty(t,"prototype",{writable:!1}),i}(n.MediaSourceHandler);t.default=y,r.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/ProgressBar/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/ProgressBar/index.jsx",function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(r=e("wiki-common:node_modules/react/index"))&&r.__esModule?r:{default:r},a=e("wiki-common:node_modules/larkplayer/dist/larkplayer.min"),l=e("wiki-common:packages/utils/datetime"),s=e("wiki-common:packages/components/videoPlayer/common/event");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n),t=(e=r?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n,r=c(i);function i(e){var t;if(this instanceof i)return(t=r.call(this,e)).state={percent:0,hoverLightWidth:0,sliding:!1,timeText:"",timeTextLeft:0},t.el=o.default.createRef(),t.player=e.player,t.onClick=t.onClick.bind(h(t)),t.onSlideStart=t.onSlideStart.bind(h(t)),t.onSlideMove=t.onSlideMove.bind(h(t)),t.onSlideEnd=t.onSlideEnd.bind(h(t)),t.update=t.update.bind(h(t)),t.handleTimeUpdate=t.handleTimeUpdate.bind(h(t)),t.handleSlideStart=t.handleSlideStart.bind(h(t)),t.handleSlideEnd=t.handleSlideEnd.bind(h(t)),t.handleMouseOver=t.handleMouseOver.bind(h(t)),t.handleMouseMove=t.handleMouseMove.bind(h(t)),t.handleMouseOut=t.handleMouseOut.bind(h(t)),t.handleProgress=t.handleProgress.bind(h(t)),t.player.on("progress",t.handleProgress),t.player.on("canplay",t.handleProgress),t.player.on("timeupdate",t.handleTimeUpdate),t.handleProgress(),t;throw new TypeError("Cannot call a class as a function")}return t=i,(e=[{key:"handleProgress",value:function(){var e=this.player.buffered(),t=this.player.duration(),n=this.player.currentTime();if(0<t)for(var r=0;r<e.length;r++)if(e.start(r)<=n&&e.end(r)>=n){this.setState({width:e.end(r)/t*100+"%"});break}}},{key:"handleTimeUpdate",value:function(){var e=this.player.duration(),t=this.player.currentTime(),t=e&&t?t/e*100+"%":0;this.setState({percent:t})}},{key:"onClick",value:function(e){this.update(e)}},{key:"onSlideStart",value:function(e){e.preventDefault(),this.originalPaused=this.player.paused(),this.player.pause()}},{key:"onSlideMove",value:function(e){e.preventDefault(),this.player.paused()||this.player.pause(),this.update(e)}},{key:"onSlideEnd",value:function(e){var t=this,e=a.DOM.getPointerPosition(this.el.current,e),e=this.player.duration()*e.x,e=(this.player.currentTime(e),!this.originalPaused&&void 0!==this.originalPaused),n=Math.ceil(this.player.currentTime())>=this.player.duration();this.player.paused()&&e&&!n&&setTimeout(function(){t.player.play()},0),s.customEvent.emit(s.CUSTOM_EVENTS.LOG,{name:"progressBarUse"})}},{key:"update",value:function(e){var e=a.DOM.getPointerPosition(this.el.current,e),t=100*e.x+"%",e=this.player.duration()*e.x;this.player.currentTime(e),this.setState({percent:t})}},{key:"showToolTip",value:function(e){var t=this.player.duration();t&&(e=a.DOM.getPointerPosition(this.el.current,e),t=parseInt(t*e.x,10),isNaN(t)||this.setState({timeText:(0,l.formatDuration)(Math.floor(1e3*t)),timeTextLeft:this.el.current.offsetWidth*e.x}))}},{key:"showHoverLine",value:function(e){e=a.DOM.getPointerPosition(this.el.current,e),e=this.el.current.offsetWidth*e.x;this.setState({hoverLightWidth:e+"px"})}},{key:"hideHoverLine",value:function(){this.setState({hoverLightWidth:0})}},{key:"handleMouseOver",value:function(e){this.showToolTip(e),this.showHoverLine(e)}},{key:"handleMouseMove",value:function(e){this.showToolTip(e),this.showHoverLine(e)}},{key:"handleMouseOut",value:function(e){this.setState({timeText:"",timeTextLeft:0}),this.hideHoverLine(e)}},{key:"handleSlideStart",value:function(e){this.onSlideStart(e),this.setState({sliding:!0}),a.Events.on(document,"mousemove",this.onSlideMove),a.Events.on(document,"mouseup",this.handleSlideEnd)}},{key:"handleSlideEnd",value:function(e){this.onSlideEnd(e),this.setState({sliding:!1}),a.Events.off(document,"mousemove",this.onSlideMove),a.Events.off(document,"mouseup",this.handleSlideEnd)}},{key:"componentWillUnmount",value:function(){this.player.off("progress",this.handleProgress),this.player.off("canplay",this.handleProgress),this.player.off("timeupdate",this.handleTimeUpdate)}},{key:"render",value:function(){var e=this.state,t=e.percent,n=e.hoverLightWidth,r=e.sliding,i=e.timeText,e=e.timeTextLeft;return o.default.createElement("div",{className:"bkplayer-progress-bar ".concat(r?"bkplayer-sliding":""),ref:this.el,onClick:this.onClick,onMouseDown:this.handleSlideStart,onTouchStart:this.handleSlideStart,onMouseOver:this.handleMouseOver,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut},o.default.createElement("div",{className:"bkplayer-progress-bar-hover-light",style:{width:n}}),o.default.createElement("div",{className:"bkplayer-progress-bar-except-fill"},o.default.createElement("div",{className:"bkplayer-progress-bar__background"}),o.default.createElement("div",{className:"bkplayer-progress-bar__line",style:{width:t}},o.default.createElement("div",{className:"bkplayer-progress-bar__line__handle"},o.default.createElement("div",{className:"bkplayer-progress-bar__line__handle-except-fill"}))),o.default.createElement("div",{className:"bkplayer-buffer-bar"},o.default.createElement("div",{className:"bkplayer-buffer-bar__line",style:{width:this.state.width}}))),o.default.createElement("div",{className:"bkplayer-progress-tooltip",style:{left:e+"px"}},i))}}])&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.default.Component);t.default=r,n.exports=t.default});
;/*!wiki-common:packages/icons/play-radius.svg*/
define("wiki-common:packages/icons/play-radius.svg",function(e,t,n){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve"},e),r.createElement("path",{d:"M7.4,20.7l11.6-7c1-0.6,1.4-2,0.7-3c-0.2-0.3-0.4-0.6-0.8-0.8L7.3,3c-1-0.6-2.4-0.3-3,0.8 C4.1,4.1,4,4.5,4,4.9l0,14C4.1,20,5,21,6.2,21C6.6,21,7,20.9,7.4,20.7z"}))},n.exports=t.default});
;/*!wiki-common:packages/icons/pause.svg*/
define("wiki-common:packages/icons/pause.svg",function(e,t,n){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve"},e),r.createElement("path",{d:"M5.5,2C6.9,2,8,3.1,8,4.5v15C8,20.9,6.9,22,5.5,22S3,20.9,3,19.5v-15C3,3.1,4.1,2,5.5,2z  M18.5,2C19.9,2,21,3.1,21,4.5v15c0,1.4-1.1,2.5-2.5,2.5h0c-1.4,0-2.5-1.1-2.5-2.5v-15C16,3.1,17.1,2,18.5,2L18.5,2z"}))},n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/PlayButton/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/PlayButton/index.jsx",function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.player;return t.default.createElement("div",{className:"bkplayer-play-button",onClick:function(e){e.stopPropagation(),a.togglePlay()}},t.default.createElement("div",{className:"bkplayer-icon bkplayer-icon-play","aria-label":"播放"},t.default.createElement(n.default,null)),t.default.createElement("div",{className:"bkplayer-icon bkplayer-icon-pause","aria-label":"暂停"},t.default.createElement(o.default,null)))};var t=i(e("wiki-common:node_modules/react/index")),n=i(e("wiki-common:packages/icons/play-radius.svg")),o=i(e("wiki-common:packages/icons/pause.svg"));function i(e){return e&&e.__esModule?e:{default:e}}l.exports=a.default});
;/*!wiki-common:packages/icons/play-next.svg*/
define("wiki-common:packages/icons/play-next.svg",function(e,t,n){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=o?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 24 24",style:{enableBackground:"new 0 0 24 24"},xmlSpace:"preserve"},e),r.createElement("g",null,r.createElement("path",{d:"M19.6,4C20.4,4,21,4.6,21,5.4v13.3c0,0.7-0.6,1.4-1.4,1.4s-1.4-0.6-1.4-1.4V5.4 C18.3,4.6,18.9,4,19.6,4z M3.2,5.4c0.5-0.9,1.6-1.2,2.5-0.7l0,0l9.8,5.7c0.3,0.2,0.5,0.4,0.7,0.7c0.5,0.9,0.2,2-0.7,2.5l0,0 l-9.8,5.7c-0.3,0.2-0.6,0.2-0.9,0.3c-1,0-1.8-0.8-1.8-1.8l0,0L3,6.3C3,6,3.1,5.7,3.2,5.4z"})))},n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/PlayNextButton/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/PlayNextButton/index.jsx",function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e){return o(e)}var n=e.player,e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,u=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,u.useState)(!0),2),r=e[0],o=e[1];return(0,u.useEffect)(function(){return i.customEvent.on(i.CUSTOM_EVENTS.TOGGLE_HAS_NEXT,t),function(){i.customEvent.off(i.CUSTOM_EVENTS.TOGGLE_HAS_NEXT,t)}},[]),u.default.createElement("div",{"aria-label":"下一集",className:"bkplayer-icon bkplayer-play-next-button ".concat(r?"":"disabled"),onClick:function(){r&&(n.playNext("click"),i.customEvent.emit(i.CUSTOM_EVENTS.LOG,{name:"clickPlayNext"}))}},u.default.createElement(l.default,null))};var r,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var u;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((u=o?Object.getOwnPropertyDescriptor(e,n):null)&&(u.get||u.set)?Object.defineProperty(r,n,u):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index")),l=(r=e("wiki-common:packages/icons/play-next.svg"))&&r.__esModule?r:{default:r},i=e("wiki-common:packages/components/videoPlayer/common/event");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.exports=t.default});
;/*!wiki-common:packages/icons/volume.svg*/
define("wiki-common:packages/icons/volume.svg",function(e,t,n){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=o?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 20 20",style:{enableBackground:"new 0 0 20 20"},xmlSpace:"preserve"},e),r.createElement("g",{transform:"translate(0.281330, 1.683750)"},r.createElement("path",{d:"M8.7,0c1.2,0,2.2,0.9,2.2,2.1l0,0.2v12.2c0,0.5-0.2,1-0.4,1.3c-0.7,1-2,1.2-3,0.6l-0.1-0.1 l-3.9-2.9l-1,0c-1.2,0-2.1-0.9-2.2-2.1l0-0.2V5.6c0-1.2,0.9-2.1,2.1-2.2l0.2,0l1,0l3.9-2.9C7.7,0.2,8.2,0,8.7,0z M16.4,2.3 c1.9,1.7,3,4,3,6.5c0,2.5-0.9,4.7-2.6,6.4l-0.2,0.2l-1.2-1.4c1.4-1.3,2.2-3.1,2.2-5.2c0-1.9-0.8-3.6-2.2-5l-0.2-0.2L16.4,2.3z  M8.7,1.8c-0.1,0-0.1,0-0.2,0l-0.1,0L4.6,4.8C4.3,5,4,5.1,3.6,5.1l-0.2,0h-1c-0.2,0-0.4,0.1-0.4,0.3l0,0.1v5.6 c0,0.2,0.1,0.4,0.3,0.4l0.1,0h1c0.3,0,0.7,0.1,1,0.3l0.1,0.1l3.9,2.9c0.2,0.1,0.4,0.1,0.6-0.1c0,0,0.1-0.1,0.1-0.2l0-0.1V2.2 C9.1,2,8.9,1.8,8.7,1.8z M14.1,4.8c1,1.2,1.5,2.6,1.5,4.1c0,1.4-0.5,2.8-1.4,3.9L14.1,13l-1.4-1.2c0.7-0.8,1.1-1.9,1.1-2.9 c0-1-0.3-1.9-1-2.7L12.7,6L14.1,4.8z"})))},n.exports=t.default});
;/*!wiki-common:packages/icons/mute.svg*/
define("wiki-common:packages/icons/mute.svg",function(e,t,n){"use strict";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var l;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((l=o?Object.getOwnPropertyDescriptor(e,n):null)&&(l.get||l.set)?Object.defineProperty(r,n,l):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 20 20",style:{enableBackground:"new 0 0 20 20"},xmlSpace:"preserve"},e),r.createElement("g",{transform:"translate(0.500000, 1.500000)"},r.createElement("path",{id:"\\u8DEF\\u5F84-4",d:"M0.1,5.8v5.4c0,1.2,1,2.2,2.2,2.2l1,0l3.8,2.8c1,0.7,2.3,0.5,3.1-0.5c0.3-0.4,0.4-0.8,0.4-1.3 V2.6c0-1.2-1-2.2-2.2-2.2c-0.5,0-0.9,0.2-1.3,0.4L3.3,3.6h-1C1.1,3.6,0.1,4.6,0.1,5.8z M1.9,5.8c0-0.2,0.2-0.4,0.4-0.4h1 c0.4,0,0.8-0.1,1.1-0.3l3.8-2.8c0.1-0.1,0.2-0.1,0.2-0.1c0.2,0,0.4,0.2,0.4,0.4v11.9c0,0.1,0,0.2-0.1,0.2 c-0.1,0.2-0.4,0.2-0.6,0.1L4.3,12c-0.3-0.2-0.7-0.4-1.1-0.4h-1c-0.2,0-0.4-0.2-0.4-0.4V5.8z"}),r.createElement("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(15.056130, 8.470917) rotate(-135.000000) translate(-15.056130, -8.470917) translate(10.056130, 3.470917)"},r.createElement("path",{id:"\\u5F62\\u72B6\\u7ED3\\u5408",d:"M5.5,0.1l0,3.6l3.6,0v1.8l-3.6,0l0,3.6H3.7l0-3.6l-3.6,0V3.7l3.6,0l0-3.6H5.5z"}))))},n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/Volume/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/Volume/index.jsx",function(e,t,n){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(e("wiki-common:node_modules/react/index")),u=e("wiki-common:node_modules/larkplayer/dist/larkplayer.min"),r=o(e("wiki-common:packages/icons/volume.svg")),a=o(e("wiki-common:packages/icons/mute.svg")),c=e("wiki-common:packages/components/videoPlayer/common/event");function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=p(n),t=(e=o?(e=p(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e=function(e){var t=l;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e);var n,o=m(l);function l(e){var t;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");(t=o.call(this,e)).lineRef=i.default.createRef(),t.player=e.player;e=(e.playerOptions||{}).muted;return t.defaultVolume=.6,t.allHeight=90,t.state={status:e?"muted":"volume",volume:e?0:.6},t.player.volume(e?0:t.defaultVolume),t.volumeRecord={last:t.defaultVolume,current:t.player.volume()},t.onSlideStart=t.onSlideStart.bind(f(t)),t.onSlideMove=t.onSlideMove.bind(f(t)),t.onSlideEnd=t.onSlideEnd.bind(f(t)),t.handleClick=t.handleClick.bind(f(t)),t.update=t.update.bind(f(t)),t.iconClick=t.iconClick.bind(f(t)),t.handleSlideStart=t.handleSlideStart.bind(f(t)),t.handleSlideEnd=t.handleSlideEnd.bind(f(t)),t}return t=l,(e=[{key:"onSlideStart",value:function(){this.isSliding=!0,this.tmpVolume=this.state.volume}},{key:"onSlideMove",value:function(e){e.preventDefault(),this.lineRef.current&&(e=u.DOM.getPointerPosition(this.lineRef.current,e),this.update(e.y))}},{key:"onSlideEnd",value:function(){var e=this;this.isSliding=!1,this.updateVolumeRecord(),setTimeout(function(){c.customEvent.emit(c.CUSTOM_EVENTS.LOG,{name:"volumeUse",type:e.state.volume>e.tmpVolume?1:2})},800)}},{key:"updateVolumeRecord",value:function(){this.volumeRecord={last:this.volumeRecord.current,current:this.player.volume()}}},{key:"handleClick",value:function(){var e,t=this;this.lineRef.current&&(this.tmpVolume=this.state.volume,e=u.DOM.getPointerPosition(this.lineRef.current,event),this.update(e.y),setTimeout(function(){c.customEvent.emit(c.CUSTOM_EVENTS.LOG,{name:"volumeUse",type:t.state.volume>t.tmpVolume?1:2})},800))}},{key:"update",value:function(e){var t=Math.floor(100*e)/100,e=0===e?"muted":"volume";this.setState({volume:t,status:e}),this.player.volume(t),0!==this.player.volume()&&this.player.muted(!1)}},{key:"iconClick",value:function(){this.player.volume()&&!this.player.muted()?(this.update(0),c.customEvent.emit(c.CUSTOM_EVENTS.LOG,{name:"volumeUse",type:3})):(this.update(this.volumeRecord.last||this.defaultVolume),c.customEvent.emit(c.CUSTOM_EVENTS.LOG,{name:"volumeUse",type:4}))}},{key:"handleSlideStart",value:function(e){this.onSlideStart(e),u.Events.on(document,"mousemove",this.onSlideMove),u.Events.on(document,"mouseup",this.handleSlideEnd)}},{key:"handleSlideEnd",value:function(e){this.onSlideEnd(e),u.Events.off(document,"mousemove",this.onSlideMove),u.Events.off(document,"mouseup",this.handleSlideEnd)}},{key:"componentDidMount",value:function(){this.update(this.player.volume())}},{key:"render",value:function(){var e=this.state,t=e.status,e=e.volume,n=(100*e).toFixed()+"%",e=this.allHeight*e;return i.default.createElement("div",{className:"bkplayer-volume"},i.default.createElement("div",{className:"bkplayer-icon bkplayer-volume-button",onClick:this.iconClick},"muted"===t?i.default.createElement(a.default,null):i.default.createElement(r.default,null)),i.default.createElement("div",{className:"bkplayer-volume-wrap"},i.default.createElement("div",{className:"bkplayer-volume-content"},i.default.createElement("div",{className:"bkplayer-volume-text"},n),i.default.createElement("div",{className:"bkplayer-volume-slider"},i.default.createElement("div",{className:"bkplayer-volume-line",ref:this.lineRef,onClick:this.handleClick},i.default.createElement("div",{className:"bkplayer-volume-line-padding",style:{height:e+"px"}})),i.default.createElement("div",{className:"bkplayer-volume-slider-handle",onMouseDown:this.handleSlideStart,style:{bottom:e+"px"}})))))}}])&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.default.Component);t.default=e,n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/Time/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/Time/index.jsx",function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(r=e("wiki-common:node_modules/react/index"))&&r.__esModule?r:{default:r},i=e("wiki-common:packages/utils/datetime");function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=d(n),t=(e=r?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return f(t)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e);var n,r=l(o);function o(e){var t;if(this instanceof o)return(t=r.call(this,e)).player=e.player,t.state={timeText:"00:00",duration:"00:00"},t.handleTimeupdate=t.handleTimeupdate.bind(f(t)),t.handleLoadedMetaData=t.handleLoadedMetaData.bind(f(t)),t.player.on("durationchange",t.handleLoadedMetaData),t.player.on("loadedmetadata",t.handleLoadedMetaData),t.player.on("timeupdate",t.handleTimeupdate),t;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"handleTimeupdate",value:function(){this.setState({timeText:(0,i.formatDuration)(1e3*this.player.currentTime())})}},{key:"handleLoadedMetaData",value:function(){this.setState({duration:(0,i.formatDuration)(1e3*this.player.duration())})}},{key:"reset",value:function(){this.setState({timeText:"00:00",duration:"00:00"})}},{key:"render",value:function(){return a.default.createElement("div",{className:"bkplayer-time"},a.default.createElement("div",{className:"bkplayer-current-time"},this.state.timeText),a.default.createElement("span",{className:"bkplayer-time-separator"}," / "),a.default.createElement("div",{className:"bkplayer-duration"},this.state.duration))}}])&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.default.Component);t.default=r,n.exports=t.default});
;/*!wiki-common:packages/icons/fullscreen.svg*/
define("wiki-common:packages/icons/fullscreen.svg",function(e,t,n){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var c;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((c=o?Object.getOwnPropertyDescriptor(e,n):null)&&(c.get||c.set)?Object.defineProperty(r,n,c):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 20 20",style:{enableBackground:"new 0 0 20 20"},xmlSpace:"preserve"},e),r.createElement("g",{id:"\\u7F16\\u7EC4-6",transform:"translate(2.200000, 2.200000)"},r.createElement("path",{id:"\\u5F62\\u72B6\\u7ED3\\u5408",d:"M6.1,0.1v1.8H3.5c-0.1,0-0.2,0-0.3,0l3.4,3.4L5.3,6.6L1.9,3.2c0,0.1,0,0.2,0,0.3l0,0v2.6 H0.1V3.5c0-1.9,1.5-3.4,3.4-3.4l0,0H6.1z"}),r.createElement("path",{id:"Path",d:"M6.1,13.9H3.5c-0.9,0-1.6-0.7-1.6-1.6V9.7H0.1v2.6c0,1.9,1.5,3.4,3.4,3.4h2.6V13.9z"}),r.createElement("path",{id:"Path_1_",d:"M9.7,1.9h2.6c0.9,0,1.6,0.7,1.6,1.6v2.6h1.8V3.5c0-1.9-1.5-3.4-3.4-3.4H9.7V1.9z"}),r.createElement("path",{id:"\\u5F62\\u72B6\\u7ED3\\u5408_1_",d:"M10.5,9.2l3.4,3.4c0-0.1,0-0.2,0-0.3l0,0V9.7h1.8v2.6c0,1.9-1.5,3.4-3.4,3.4l0,0H9.7 v-1.8h2.6c0.1,0,0.2,0,0.3,0l-3.4-3.4L10.5,9.2z"})))},n.exports=t.default});
;/*!wiki-common:packages/icons/fullscreen-close.svg*/
define("wiki-common:packages/icons/fullscreen-close.svg",function(e,t,n){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),r.createElement("title",null,"进入全屏icon"),r.createElement("g",{id:"pc",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u5168\\u5C4F\\u6001",transform:"translate(-1576.000000, -871.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4-9",transform:"translate(1228.000000, 871.000000)"},r.createElement("g",{id:"\\u8FDB\\u5165\\u5168\\u5C4Ficon",transform:"translate(348.000000, 0.000000)"},r.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#D8D8D8",opacity:0,x:0,y:0,width:24,height:24}),r.createElement("path",{d:"M2.44008172,9.7759378 L2.44008172,7.5759378 L5.62035739,7.5759378 C6.65130203,7.5759378 7.49592046,6.77818049 7.5705739,5.76630465 L7.5759378,5.62035739 L7.5759378,2.44008172 L9.7759378,2.44008172 L9.7759378,5.62035739 C9.7759378,7.84587369 8.0264712,9.66278018 5.82776277,9.77085209 L5.62035739,9.7759378 L2.44008172,9.7759378 Z M7.5759378,21.6400817 L7.5759378,18.4598061 C7.5759378,17.4288614 6.77818049,16.584243 5.76630465,16.5095895 L5.62035739,16.5042256 L2.44008172,16.5042256 L2.44008172,14.3042256 L5.62035739,14.3042256 C7.84587369,14.3042256 9.66278018,16.0536922 9.77085209,18.2524007 L9.7759378,18.4598061 L9.7759378,21.6400817 L7.5759378,21.6400817 Z M18.4598061,9.7759378 C16.2342897,9.7759378 14.4173833,8.0264712 14.3093114,5.82776277 L14.3042256,5.62035739 L14.3042256,2.44008172 L16.5042256,2.44008172 L16.5042256,5.62035739 C16.5042256,6.65130203 17.301983,7.49592046 18.3138588,7.5705739 L18.4598061,7.5759378 L21.6400817,7.5759378 L21.6400817,9.7759378 L18.4598061,9.7759378 Z M14.3042256,21.6400817 L14.3042256,18.4598061 C14.3042256,16.2342897 16.0536922,14.4173833 18.2524007,14.3093114 L18.4598061,14.3042256 L21.6400817,14.3042256 L21.6400817,16.5042256 L18.4598061,16.5042256 C17.4288614,16.5042256 16.584243,17.301983 16.5095895,18.3138588 L16.5042256,18.4598061 L16.5042256,21.6400817 L14.3042256,21.6400817 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408",fill:"#FFFFFF",fillRule:"nonzero"}))))))},n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/FullscreenButton/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/FullscreenButton/index.jsx",function(e,l,n){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e){var l=e.player;return t.default.createElement("div",{className:"bkplayer-fullscreen-button",onClick:function(){l.isFullscreen()?(l.exitFullscreen(),u.customEvent.emit(u.CUSTOM_EVENTS.LOG,{name:"clickFullscreenBtn",type:-1})):(l.requestFullscreen(),u.customEvent.emit(u.CUSTOM_EVENTS.LOG,{name:"clickFullscreenBtn",type:1}))}},t.default.createElement("div",{className:"bkplayer-icon bkplayer-request-fullscreen","aria-label":"全屏"},t.default.createElement(c.default,null)),t.default.createElement("div",{className:"bkplayer-icon bkplayer-exit-fullscreen","aria-label":"退出全屏"},t.default.createElement(a.default,null)))};var t=s(e("wiki-common:node_modules/react/index")),c=s(e("wiki-common:packages/icons/fullscreen.svg")),a=s(e("wiki-common:packages/icons/fullscreen-close.svg")),u=e("wiki-common:packages/components/videoPlayer/common/event");function s(e){return e&&e.__esModule?e:{default:e}}n.exports=l.default});
;/*!wiki-common:packages/icons/check.svg*/
define("wiki-common:packages/icons/check.svg",function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=a(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var u;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((u=o?Object.getOwnPropertyDescriptor(e,n):null)&&(u.get||u.set)?Object.defineProperty(r,n,u):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e),r.createElement("g",{id:"pc",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u9ED8\\u8BA4\\u6001-\\u5168\\u96C6/\\u6682\\u505C\\u6001",transform:"translate(-800.000000, -509.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4-22\\u5907\\u4EFD-4",transform:"translate(776.000000, 396.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(14.000000, 24.000000)"},r.createElement("g",{id:"Group",transform:"translate(10.000000, 0.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4-15",transform:"translate(0.000000, 87.000000)"},r.createElement("g",{id:"\\u5BF9\\u52FE_\\u9009\\u4E2D\\u6001",transform:"translate(0.000000, 2.000000)"},r.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#D8D8D8",opacity:0,x:0,y:0,width:13,height:13}),r.createElement("path",{d:"M11.3866323,2 L13,3.59433916 L5.81695538,10.3519727 C5.4304723,10.7155666 4.82729103,10.7139835 4.44272184,10.3483659 L0.510970477,6.61037162 L0.510970477,6.61037162 L2.10678151,5 L5.11057637,7.90484438 L11.3866323,2 Z",id:"\\u8DEF\\u5F84",fill:"#FFFFFF",fillRule:"nonzero"})))))))))},n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/PlaybackRate/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/PlaybackRate/index.jsx",function(e,t,n){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){return n.playbackRate(r)}var n=e.player,e=y((0,u.useState)(s[2].value),2),r=e[0],a=e[1],e=y((0,u.useState)("倍速"),2),o=e[0],l=e[1];return(0,u.useEffect)(function(){return n.playbackRate(r),n.on("firstplay",t),function(){return n.off("firstplay",t)}},[r]),u.default.createElement("div",{className:"bkplayer-playback"},u.default.createElement("div",{className:"bkplayer-playback-btn"},o),u.default.createElement("div",{className:"bkplayer-playback-list-wrap"},u.default.createElement("ul",{className:"bkplayer-playback-list"},s.map(function(t){return u.default.createElement("li",{className:"".concat(r===t.value?"selected":""),key:t.value,onClick:function(){var e;a((e=t).value),l(e.text),i.customEvent.emit(i.CUSTOM_EVENTS.LOG,{name:"clickPlaybackRate",type:e.value})}},u.default.createElement(c.default,null),t.text)}))))};var r,u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};t=f(t);if(t&&t.has(e))return t.get(e);var n,r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var o;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=a?Object.getOwnPropertyDescriptor(e,n):null)&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index")),c=(r=e("wiki-common:packages/icons/check.svg"))&&r.__esModule?r:{default:r},i=e("wiki-common:packages/components/videoPlayer/common/event");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=[{text:"0.5x",value:.5},{text:"0.75x",value:.75},{text:"1.0x",value:1},{text:"1.25x",value:1.25},{text:"1.5x",value:1.5},{text:"2.0x",value:2}];n.exports=t.default});
;/*!wiki-common:packages/icons/setting.svg*/
define("wiki-common:packages/icons/setting.svg",function(e,t,n){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var c;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((c=o?Object.getOwnPropertyDescriptor(e,n):null)&&(c.get||c.set)?Object.defineProperty(r,n,c):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1em",height:"1em",viewBox:"0 0 20 20",style:{enableBackground:"new 0 0 20 20"},xmlSpace:"preserve"},e),r.createElement("g",{transform:"translate(1.500000, 1.500000)"},r.createElement("path",{d:"M10.9,0.3l3.5,2c1.5,0.8,2.4,2.4,2.4,4.1v4.1c0,1.7-0.9,3.3-2.4,4.1l-3.5,2 c-1.5,0.8-3.3,0.8-4.7,0l-3.5-2c-1.5-0.8-2.4-2.4-2.4-4.1V6.5c0-1.7,0.9-3.3,2.4-4.1l3.5-2c1.4-0.8,3.1-0.8,4.5-0.1L10.9,0.3z  M10,1.9L9.8,1.8C8.9,1.4,7.9,1.4,7.1,1.9l-3.5,2C2.6,4.5,2,5.4,2,6.5v4.1c0,1.1,0.6,2,1.5,2.5l3.5,2c0.9,0.5,2,0.5,2.9,0l3.5-2 c0.9-0.5,1.5-1.5,1.5-2.5V6.5c0-1.1-0.6-2-1.5-2.5L10,1.9z"}),r.createElement("path",{d:"M8.5,11.7c1.8,0,3.2-1.4,3.2-3.2s-1.4-3.2-3.2-3.2S5.3,6.8,5.3,8.5S6.8,11.7,8.5,11.7z  M8.5,9.9c-0.8,0-1.4-0.6-1.4-1.4c0-0.8,0.6-1.4,1.4-1.4c0.8,0,1.4,0.6,1.4,1.4C9.9,9.3,9.3,9.9,8.5,9.9z"})))},n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/Setting/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/Setting/index.jsx",function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e){return u(e)}function n(e){e||m(!1)}function o(){var e=a.autoLoop(),t=a.autoPlayNext();e?a.play():t&&i&&a.playNext("auto")}var a=e.player,e=e.options,r=v((0,y.useState)(!0),2),i=r[0],u=r[1],r=v((0,y.useState)(a.autoPlayNext()),2),l=r[0],c=r[1],r=v((0,y.useState)(a.autoLoop()),2),s=r[0],r=(r[1],v((0,y.useState)(a.autoMini()),2)),f=r[0],m=r[1],p=e.scope||"";return(0,y.useEffect)(function(){return a.on("ended",o),g.customEvent.on(g.CUSTOM_EVENTS.TOGGLE_HAS_NEXT,t),g.customEvent.on(g.CUSTOM_EVENTS.TOGGLE_MINI_SWITCH,n),function(){a.off("ended",o),g.customEvent.off(g.CUSTOM_EVENTS.TOGGLE_HAS_NEXT,t),g.customEvent.off(g.CUSTOM_EVENTS.TOGGLE_MINI_SWITCH,n)}},[i]),(0,y.useEffect)(function(){a.autoPlayNext(l)},[l]),(0,y.useEffect)(function(){a.autoLoop(s)},[s]),(0,y.useEffect)(function(){a.autoMini(f)},[f]),y.default.createElement("div",{className:"bkplayer-setting"},y.default.createElement("div",{className:"bkplayer-setting-btn"},y.default.createElement("div",{className:"bkplayer-icon bkplayer-icon-play"},y.default.createElement(E.default,null))),y.default.createElement("div",{className:"bkplayer-setting-items-wrap"},y.default.createElement("div",{className:"bkplayer-setting-items"},y.default.createElement("li",{className:"bkplayer-setting-autoplay"},y.default.createElement("span",{className:"bkplayer-setting-autoplay-text"},"自动连播"),y.default.createElement(d.default,{onChange:function(){g.customEvent.emit(g.CUSTOM_EVENTS.LOG,{name:"settingAutoPlayNext",type:l?-1:1}),b.default.set(p+S.SETTING_STORAGE.AUTO_PLAY_NEXT,!l),c(!l)},className:"bkplayer-setting-switch",checked:l})),e.settingAutoMini&&y.default.createElement("li",{className:"bkplayer-setting-automini"},y.default.createElement("span",{className:"bkplayer-setting-automini-text"},"小窗播放"),y.default.createElement(d.default,{onChange:function(){g.customEvent.emit(g.CUSTOM_EVENTS.LOG,{name:"settingAutoMini",type:f?-1:1}),b.default.set(p+S.SETTING_STORAGE.AUTO_MINI,!f),m(!f)},className:"bkplayer-setting-switch",checked:f})))))};var y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=a?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n])}o.default=e,t&&t.set(e,o);return o}(e("wiki-common:node_modules/react/index")),d=o(e("wiki-common:node_modules/rc-switch/lib/index")),E=o(e("wiki-common:packages/icons/setting.svg")),b=o(e("wiki-common:packages/utils/storage")),g=e("wiki-common:packages/components/videoPlayer/common/event"),S=e("wiki-common:packages/components/videoPlayer/common/config");function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){u=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/ControlBar/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/ControlBar/index.jsx",function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.options;return o.default.createElement("div",{className:"bkplayer-control-bar"},o.default.createElement("div",{className:"bkplayer-gradient-bottom"}),o.default.createElement(n.default,e),o.default.createElement("div",{className:"bkplayer-control-left"},o.default.createElement(l.default,e),t.showPlayNextBtn&&o.default.createElement(i.default,e),o.default.createElement(d.default,e)),o.default.createElement("div",{className:"bkplayer-control-right"},o.default.createElement(r.default,e),o.default.createElement(c.default,e),o.default.createElement(u.default,e),o.default.createElement(m.default,e)))};var o=s(e("wiki-common:node_modules/react/index")),n=s(e("wiki-common:packages/components/videoPlayer/ui/ProgressBar/index.jsx")),l=s(e("wiki-common:packages/components/videoPlayer/ui/PlayButton/index.jsx")),i=s(e("wiki-common:packages/components/videoPlayer/ui/PlayNextButton/index.jsx")),c=s(e("wiki-common:packages/components/videoPlayer/ui/Volume/index.jsx")),d=s(e("wiki-common:packages/components/videoPlayer/ui/Time/index.jsx")),m=s(e("wiki-common:packages/components/videoPlayer/ui/FullscreenButton/index.jsx")),r=s(e("wiki-common:packages/components/videoPlayer/ui/PlaybackRate/index.jsx")),u=s(e("wiki-common:packages/components/videoPlayer/ui/Setting/index.jsx"));function s(e){return e&&e.__esModule?e:{default:e}}a.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/Loading/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/Loading/index.jsx",function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){return d.default.createElement("div",{className:"bkplayer-loading"},d.default.createElement("div",{className:"bkplayer-loading-spinner"}))};var d=(e=e("wiki-common:node_modules/react/index"))&&e.__esModule?e:{default:e};n.exports=a.default});
;/*!wiki-common:packages/components/videoPlayer/ui/Error/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/Error/index.jsx",function(e,t,r){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){var e,t=r.tech.el.error;switch(parseInt(t.code,10)){case 1:e="加载失败，点击重试(MEDIA_ERR_ABORTED)";break;case 2:e="加载失败，请检查您的网络(MEDIA_ERR_NETWORK)";break;case 3:e="视频解码失败(MEDIA_ERR_DECODE)";break;case 4:e="加载失败，该资源无法访问或者浏览器不支持该视频类型(MEDIA_ERR_SRC_NOT_SUPPORTED)";break;default:e="加载失败，点击重试"}o(e)}var r=e.player,e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],u=!0,c=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{u||null==r.return||r.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,a.useState)("加载失败，请稍后重试"),2),n=e[0],o=e[1];return(0,a.useEffect)(function(){return r.on("error",t),function(){r.off("error",t)}},[]),a.default.createElement("div",{className:"bkplayer-error",onClick:function(){var e=r.src();setTimeout(function(){r.src(e),r.play()},0)}},a.default.createElement("div",{className:"bkplayer-error-cnt"},a.default.createElement("div",{className:"bkplayer-error-text"},n)))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}n.default=e,t&&t.set(e,n);return n}(e("wiki-common:node_modules/react/index"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.exports=t.default});
;/*!wiki-common:packages/icons/replay.svg*/
define("wiki-common:packages/icons/replay.svg",function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};t=c(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var u;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((u=o?Object.getOwnPropertyDescriptor(e,n):null)&&(u.get||u.set)?Object.defineProperty(r,n,u):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return r.createElement("svg",o({fill:"currentColor",id:"\\u56FE\\u5C42_2",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 40 40",style:{enableBackground:"new 0 0 40 40"},xmlSpace:"preserve",width:"1em",height:"1em"},e),r.createElement("path",{id:"\\u8DEF\\u5F84",d:"M19.7,3C29.2,3,37,10.6,37,20.1s-7.8,17.1-17.3,17.1c-7.1,0-13.3-4.2-16-10.6l-0.1-0.3l3.7-1.5 c2,5,6.9,8.3,12.4,8.3c7.4,0,13.3-5.9,13.3-13.1S27.1,7,19.7,7C14,7,9.1,10.5,7.2,15.6l0,0.1c-0.2,0.9-1,1.5-1.9,1.5 c-1.1,0-2-0.9-2-2V6.5h4l0,1.7C10.4,5,14.8,3,19.7,3z"}))},n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/Complete/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/Complete/index.jsx",function(e,t,n){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){return a(!1)}function n(){console.log("ui complete ended"),r.autoLoop()||a(!0)}var r=e.player,e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,u.useState)(!1),2),o=e[0],a=e[1];return(0,u.useEffect)(function(){return r.on("ended",n),r.on("play",t),function(){r.off("ended",n),r.off("play",t)}},[]),u.default.createElement("div",{className:"bkplayer-complete-mask ".concat(o?"show":"")},u.default.createElement("div",{className:"bkplayer-complete-mask-btns"},u.default.createElement("div",{className:"bkplayer-complete-mask-btn",style:{fontSize:"32px"},onClick:function(){return r.play()}},u.default.createElement(c.default,null))),u.default.createElement("div",{className:"bkplayer-complete-mask-tip"},"重播"))};var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};t=i(t);if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("wiki-common:node_modules/react/index")),c=(e=e("wiki-common:packages/icons/replay.svg"))&&e.__esModule?e:{default:e};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.exports=t.default});
;/*!wiki-common:packages/components/videoPlayer/ui/Tip/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/Tip/index.jsx",function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){return r(t||"")}var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,u=[],i=!0,a=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(u.push(r.value),!e||u.length!==e);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(""),2),n=e[0],r=e[1];return(0,o.useEffect)(function(){return u.customEvent.on(u.CUSTOM_EVENTS.TOGGLE_TIP,t),function(){return u.customEvent.off(u.CUSTOM_EVENTS.TOGGLE_TIP,t)}},[]),n?o.default.createElement("div",{className:"bkplayer-tip"},n):""};var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=a(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var u;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((u=o?Object.getOwnPropertyDescriptor(t,n):null)&&(u.get||u.set)?Object.defineProperty(r,n,u):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("wiki-common:node_modules/react/index")),u=t("wiki-common:packages/components/videoPlayer/common/event");function a(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.exports=e.default});
;/*!wiki-common:packages/components/videoPlayer/ui/index.jsx*/
define("wiki-common:packages/components/videoPlayer/ui/index.jsx",function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.renderTo=function(e){(0,o.default)({element:e.element,component:function(){return i.default.createElement(m,e.props)}})};var i=a(e("wiki-common:node_modules/react/index")),o=a(e("wiki-common:packages/components/renderToDom/index")),l=a(e("wiki-common:packages/components/videoPlayer/ui/ControlBar/index.jsx")),r=a(e("wiki-common:packages/components/videoPlayer/ui/Loading/index.jsx")),u=a(e("wiki-common:packages/components/videoPlayer/ui/Error/index.jsx")),c=a(e("wiki-common:packages/components/videoPlayer/ui/Complete/index.jsx")),d=a(e("wiki-common:packages/components/videoPlayer/ui/Tip/index.jsx"));function a(e){return e&&e.__esModule?e:{default:e}}function m(e){var n=e.player,t=e.options,o=t.plugins||[],a=o.filter(function(e){return"video"===e.position}),o=o.filter(function(e){return"ui"===e.position});return i.default.createElement(i.default.Fragment,null,!t.disable&&i.default.createElement("div",{className:"bkplayer-ui"},i.default.createElement("div",{className:"bkplayer-ui-mask",onClick:function(){return n.togglePlay()}}),i.default.createElement(l.default,e),i.default.createElement(r.default,e),i.default.createElement(u.default,e),!t.disableComplete&&i.default.createElement(c.default,e),i.default.createElement(d.default,e),o.map(function(e){return e.content({player:n})})),a.map(function(e){return e.content({player:n})}))}});
;/*!wiki-common:packages/components/videoPlayer/index.js*/
define("wiki-common:packages/components/videoPlayer/index",function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};t=f(t);if(t&&t.has(e))return t.get(e);var i,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in e){var r;"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&((r=o?Object.getOwnPropertyDescriptor(e,i):null)&&(r.get||r.set)?Object.defineProperty(n,i,r):n[i]=e[i])}n.default=e,t&&t.set(e,n);return n}(e("wiki-common:node_modules/larkplayer/dist/larkplayer.min")),s=e("wiki-common:packages/utils/obj"),u=h(e("wiki-common:packages/utils/storage")),p=e("wiki-common:packages/components/videoPlayer/common/config"),y=e("wiki-common:packages/components/videoPlayer/common/event"),n=h(e("wiki-common:packages/components/videoPlayer/plugins/ClassNameManager")),o=h(e("wiki-common:packages/components/videoPlayer/plugins/ControlsEvent")),r=h(e("wiki-common:packages/components/videoPlayer/plugins/HlsPlugin")),c=e("wiki-common:packages/components/videoPlayer/ui/index.jsx");function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(f=function(e){return e?i:t})(e)}function d(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}l.MediaSourceHandler.register(r.default,{name:"hls"}),l.Plugin.register(n.default,{name:"classNameManager"}),l.Plugin.register(o.default,{name:"controlsEvent"});e=function(){function a(e,t){var i=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.el=e,this.CUSTOM_EVENTS=y.CUSTOM_EVENTS,this.options=t,this.uiOptions=t.ui||{},this.scope=this.uiOptions.scope||"";var n=u.default.get(this.scope+p.SETTING_STORAGE.AUTO_PLAY_NEXT),o=u.default.get(this.scope+p.SETTING_STORAGE.AUTO_LOOP),r=u.default.get(this.scope+p.SETTING_STORAGE.AUTO_MINI),n=(this.isAutoPlayNext=null===n||!!n,this.isAutoLoop=!!o,this.isAutoMini=null===r||!!r,this.settingAutoMini=this.uiOptions.settingAutoMini||!1,(0,s.isBoolean)(t.autoPlayNext)&&(this.isAutoPlayNext=t.autoPlayNext),(0,s.isBoolean)(t.autoLoop)&&(this.isAutoLoop=t.autoLoop),(0,s.isBoolean)(t.isAutoMini)&&(this.isAutoMini=t.isAutoMini),this.settingAutoMini||(this.isAutoMini=!1),this.url=t.src||"",this.cover=t.poster||"",{src:this.url,poster:this.cover,preload:t.preload||"metadata",muted:t.muted,className:p.CLASSNAME_PREFIX});this.player=(0,l.default)(e,n,function(){t.muted&&i.muted(!0),t.autoplay&&i.play(),"function"==typeof t.onReady&&t.onReady()}),this.renderUI(n),this.tech=this.player.tech||{},this.handleScroll=this.handleScroll.bind(this),this.onEnded=this.onEnded.bind(this),this.isAutoMini&&document.addEventListener("scroll",this.handleScroll),this.on("ended",this.onEnded)}var e,t,i;return e=a,i=[{key:"isSupportHls",value:function(){return r.default.isSupported()}}],(t=[{key:"renderUI",value:function(e){var t=document.createElement("div");t.className=p.UI_WRAPPER_CLASSNAMES,this.player.el.appendChild(t),(0,c.renderTo)({element:t,props:{options:this.uiOptions,playerOptions:e,player:this}})}},{key:"onEnded",value:function(){this.autoLoop()&&this.play()}},{key:"handleScroll",value:function(){var e=this.uiOptions.miniConfig||{},t=e.wrapperEl;t&&this.isAutoMini&&(t=t.getBoundingClientRect(),!this.isMini&&t.bottom<=(e.marginTop||0)?(this.isMini=!0,this.toggleMini(!0)):this.isMini&&t.bottom>(e.marginTop||0)&&(this.isMini=!1,this.toggleMini(!1)))}},{key:"toggleMini",value:function(e){y.customEvent.emit(y.CUSTOM_EVENTS.TOGGLE_MINI,e),this.closedMini=!1}},{key:"closeMini",value:function(){this.toggleMini(!1),this.closedMini=!0}},{key:"playNext",value:function(){y.customEvent.emit(y.CUSTOM_EVENTS.PLAY_NEXT,{type:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"manual"})}},{key:"autoPlayNext",value:function(e){if(void 0===e)return this.isAutoPlayNext;this.isAutoPlayNext=!!e}},{key:"autoLoop",value:function(e){if(void 0===e)return this.closedMini?this.isAutoPlayNext:this.isAutoLoop;this.isAutoLoop=!!e}},{key:"autoMini",value:function(e){if(void 0===e)return this.isAutoMini;this.isAutoMini=!!e,this.isAutoMini?document.addEventListener("scroll",this.handleScroll):(document.removeEventListener("scroll",this.handleScroll),this.toggleMini(!1),y.customEvent.emit(y.CUSTOM_EVENTS.TOGGLE_MINI_SWITCH,!1))}},{key:"on",value:function(e,t){if(this.player)return y.CUSTOM_EVENTS[e]?void y.customEvent.on(e,t):this.player.on(e,t)}},{key:"off",value:function(e,t){if(this.player)return(y.CUSTOM_EVENTS[e]?y.customEvent:this.player).off(e,t)}},{key:"trigger",value:function(e,t){if(this.player)return y.CUSTOM_EVENTS[e]?y.customEvent.emit(e,t):this.player.trigger(e)}},{key:"dispose",value:function(){var e;if(this.player)return this.off("ended",this.onEnded),document.removeEventListener("scroll",this.handleScroll),(e=this.player).dispose.apply(e,arguments)}},{key:"width",value:function(){var e;if(this.player)return(e=this.player).width.apply(e,arguments)}},{key:"height",value:function(){var e;if(this.player)return(e=this.player).height.apply(e,arguments)}},{key:"reset",value:function(){return this.player.reset()}},{key:"src",value:function(){var e;if(this.player)return(e=this.player).src.apply(e,arguments)}},{key:"poster",value:function(){var e;if(this.player)return(e=this.player).poster.apply(e,arguments)}},{key:"togglePlay",value:function(){this.paused()?(this.play(),y.customEvent.emit(y.CUSTOM_EVENTS.LOG,{name:"togglePlay",type:0})):(this.pause(),y.customEvent.emit(y.CUSTOM_EVENTS.LOG,{name:"togglePlay",type:1}))}},{key:"pause",value:function(){var e;if(this.player)return(e=this.player).pause.apply(e,arguments)}},{key:"play",value:function(){var e;if(this.player)return(e=this.player).play.apply(e,arguments)}},{key:"paused",value:function(){var e;if(this.player)return(e=this.player).paused.apply(e,arguments)}},{key:"currentTime",value:function(){var e;if(this.player)return(e=this.player).currentTime.apply(e,arguments)}},{key:"muted",value:function(){var e;if(this.player)return(e=this.player).muted.apply(e,arguments)}},{key:"duration",value:function(){var e;if(this.player)return(e=this.player).duration.apply(e,arguments)}},{key:"loop",value:function(){var e;if(this.player)return(e=this.player).loop.apply(e,arguments)}},{key:"buffered",value:function(){var e;if(this.player)return(e=this.player).buffered.apply(e,arguments)}},{key:"updateLevel",value:function(){}},{key:"playbackRate",value:function(){var e;if(this.player)return(e=this.player).playbackRate.apply(e,arguments)}},{key:"volume",value:function(){var e;if(this.player)return(e=this.player).volume.apply(e,arguments)}},{key:"requestFullscreen",value:function(){var e;if(this.player)return(e=this.player).requestFullscreen.apply(e,arguments)}},{key:"exitFullscreen",value:function(){var e;if(this.player)return(e=this.player).exitFullscreen.apply(e,arguments)}},{key:"isFullscreen",value:function(){var e;if(this.player)return(e=this.player).isFullscreen.apply(e,arguments)}},{key:"isSupportHls",value:function(){return r.default.isSupported()}}])&&d(e.prototype,t),i&&d(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}();t.default=e,i.exports=t.default});