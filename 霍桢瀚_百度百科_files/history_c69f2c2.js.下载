function getParaOffset(){var e=[];return $('.main-content > div[label-module^="para"]').each(function(t){$(this).find("br").length>0&&(e[t]=$(this).find("br").length)}),e}function addLabelCon(e,t){if(e){var n=e.next();if(n.hasClass("label-content"))n.append('<div class="label-item">'+t+"</div>");else{var o='<div class="label-content">';o+='<div class="label-content-title">【修改建议】</div>',o+='<div class="label-item">'+t+"</div></div>",e.after(o)}}}var $=require("wiki-common:widget/lib/jquery/jquery"),label=require("wiki-lemma:widget/tools/label/label"),ResizeObserver=require("wiki-lemma:node_modules/resize-observer-polyfill/dist/ResizeObserver"),throttle=require("wiki-lemma:node_modules/lodash.throttle/index"),setLabel=throttle(function(e){label.removeLabel(),$.each(e.arrComment,function(e,t){var n=$.parseJSON(t.offset),o={moduleNode:$(n.path).get(0),offset:n.offset,length:n.length,comment:t.mentorComment},i=label.showLabel(o,!0);$.each(i[0],function(e,n){n.attr("data-commentId",t.commentId)}),i[1].attr("data-commentId",t.commentId)})},1e3);window.baikeInfo&&window.baikeInfo.versionInfo&&window.baikeInfo.versionInfo.commitId&&$.ajax({type:"GET",url:"/api/usertask/getcomments",data:{commitId:window.baikeInfo.versionInfo.commitId},success:function(e){if(!e.errno){var t=new ResizeObserver(function(){setLabel(e)});t.observe(document.body)}}});var supportsPointerEvents=function(){var e=document.createElement("_"),t=!1;"pointerEvents"in e.style&&(t=!0);var n=$(".J-page-history");n.addClass(t?"style-support-pointer-events":"style-support-no-pointer-events")}();