;/*!wiki-common:node_modules/@baidu/clickstream-sdk/lib/index.js*/
define("wiki-common:node_modules/@baidu/clickstream-sdk/lib/index",function(e,t,n){var r,i;r=this,i=function(R){"use strict";function q(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?q(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function e(e,t,n){t&&M(e.prototype,t),n&&M(e,n)}function n(e,t){return e(t={exports:{}},t.exports),t.exports}function u(e){try{return!!e()}catch(e){return!0}}function W(e){return Z?Y.createElement(e):{}}function F(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(t||"function"!=typeof(n=e.toString)||o(r=n.call(e)))throw TypeError("Can't convert object to primitive value");return r}function B(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function c(e,t){return re.call(e,t)}function p(e,t,n){var r,i,o,a=e&p.F,c=e&p.G,u=e&p.P,s=e&p.B,l=c?h:e&p.S?h[t]||(h[t]={}):(h[t]||{}).prototype,f=c?g:g[t]||(g[t]={}),d=f.prototype||(f.prototype={});for(r in n=c?t:n)i=((o=!a&&l&&void 0!==l[r])?l:n)[r],o=s&&o?w(i,h):u&&"function"==typeof i?w(Function.call,i):i,l&&y(l,r,i,e&p.U),f[r]!=i&&v(f,r,o),u&&d[r]!=i&&(d[r]=i)}function $(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}function s(e){return fe.call(e).slice(8,-1)}function G(e){return de(pe(e))}function _(e){return 0<e?ve(me(e),9007199254740991):0}function H(e,t){return(e=me(e))<0?ye(e+t,0):we(e,t)}function V(c){return function(e,t,n){var r,i=G(e),o=_(i.length),a=H(n,o);if(c&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((c||a in i)&&i[a]===t)return c||a||0;return!c&&-1}}function U(e,t){return!!e&&u(function(){t?e.call(null,function(){},1):e.call(null)})}function J(e){return Object(pe(e))}function K(e,t){return ke(e=e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!ke(n.prototype)||(n=void 0),o(n)&&null===(n=n[Ee])&&(n=void 0)),new(void 0===n?Array:n)(t);var n}function X(f,e){var d=1==f,p=2==f,h=3==f,g=4==f,m=6==f,v=5==f||m,y=e||K;return function(e,t,n){for(var r,i,o=J(e),a=de(o),c=w(t,n,3),u=_(a.length),s=0,l=d?y(e,u):p?y(e,0):void 0;s<u;s++)if((v||s in a)&&(i=c(r=a[s],s,o),f))if(d)l[s]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return s;case 2:l.push(r)}else if(g)return!1;return m?-1:h||g?g:l}}function Q(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),Pe))?t:Ie?s(e):"Object"==(t=s(e))&&"function"==typeof e.callee?"Arguments":t}var h=n(function(e){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),g=n(function(e){e=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)}),o=(g.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),k=function(e){if(o(e))return e;throw TypeError(e+" is not an object!")},r=!u(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Y=h.document,Z=o(Y)&&o(Y.createElement),ee=!r&&!u(function(){return 7!=Object.defineProperty(W("div"),"a",{get:function(){return 7}}).a}),te=Object.defineProperty,ne={f:r?Object.defineProperty:function(e,t,n){if(k(e),t=F(t,!0),k(n),ee)try{return te(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},v=r?function(e,t,n){return ne.f(e,t,B(1,n))}:function(e,t,n){return e[t]=n,e},re={}.hasOwnProperty,ie=0,oe=Math.random(),ae=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++ie+oe).toString(36))},ce=n(function(e){var t="__core-js_shared__",n=h[t]||(h[t]={});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:g.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),ue=ce("native-function-to-string",Function.toString),y=n(function(e){var o=ae("src"),t="toString",a=(""+ue).split(t);g.inspectSource=function(e){return ue.call(e)},(e.exports=function(e,t,n,r){var i="function"==typeof n;i&&!c(n,"name")&&v(n,"name",t),e[t]!==n&&(i&&!c(n,o)&&v(n,o,e[t]?""+e[t]:a.join(String(t))),e===h?e[t]=n:r?e[t]?e[t]=n:v(e,t,n):(delete e[t],v(e,t,n)))})(Function.prototype,t,function(){return"function"==typeof this&&this[o]||ue.call(this)})}),l=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},w=function(r,i,e){if(l(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}},i=(h.core=g,p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,p),se=[].slice,le={},a=Function.bind||function(a){var c=l(this),u=se.call(arguments,1),s=function(){var e=u.concat(se.call(arguments));if(this instanceof s){var t=c,n=e.length,r=e;if(!(n in le)){for(var i=[],o=0;o<n;o++)i[o]="a["+o+"]";le[n]=Function("F,a","return new F("+i.join(",")+")")}return le[n](t,r)}return $(c,e,a)};return o(c.prototype)&&(s.prototype=c.prototype),s},fe=(i(i.P,"Function",{bind:a}),{}.toString),de=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==s(e)?e.split(""):Object(e)},pe=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},he=Math.ceil,ge=Math.floor,me=function(e){return isNaN(e=+e)?0:(0<e?ge:he)(e)},ve=Math.min,ye=Math.max,we=Math.min,be=V(!1),xe=[].indexOf,_e=!!xe&&1/[1].indexOf(1,-0)<0,ke=(i(i.P+i.F*(_e||!U(xe)),"Array",{indexOf:function(e){return _e?xe.apply(this,arguments)||0:be(this,e,arguments[1])}}),Array.isArray||function(e){return"Array"==s(e)}),f=(i(i.S,"Array",{isArray:ke}),n(function(e){var t=ce("wks"),n=h.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:ae)("Symbol."+e))}).store=t})),Ee=f("species"),Se=X(0),a=U([].forEach,!0),Pe=(i(i.P+i.F*!a,"Array",{forEach:function(e){return Se(this,e,arguments[1])}}),f("toStringTag")),Ie="Arguments"==s(function(){return arguments}()),a={};a[f("toStringTag")]="z",a+""!="[object z]"&&y(Object.prototype,"toString",function(){return"[object "+Q(this)+"]"},!0);function Ae(e,t){return void 0===(e=k(e).constructor)||null==(e=k(e)[qe])?t:l(e)}function Ce(){var e,t=+this;Be.hasOwnProperty(t)&&(e=Be[t],delete Be[t],e())}function De(e){Ce.call(e.data)}var Te,b={},Oe=f("iterator"),je=Array.prototype,Ne=f("iterator"),Le=g.getIteratorMethod=function(e){if(null!=e)return e[Ne]||e["@@iterator"]||b[Q(e)]},Re=n(function(e){var f={},d={},e=e.exports=function(e,t,n,r,i){var o,a,c,u,i=i?function(){return e}:Le(e),s=w(n,r,t?2:1),l=0;if("function"!=typeof i)throw TypeError(e+" is not iterable!");if(void 0===i||b.Array!==i&&je[Oe]!==i){for(c=i.call(e);!(a=c.next()).done;)if((u=function(e,t,n,r){try{return r?t(k(n)[0],n[1]):t(n)}catch(t){r=e.return;throw void 0!==r&&k(r.call(e)),t}}(c,s,a.value,t))===f||u===d)return u}else for(o=_(e.length);l<o;l++)if((u=t?s(k(a=e[l])[0],a[1]):s(e[l]))===f||u===d)return u};e.BREAK=f,e.RETURN=d}),qe=f("species"),a=h.document,ze=a&&a.documentElement,Me=h.process,a=h.setImmediate,d=h.clearImmediate,x=h.MessageChannel,We=h.Dispatch,Fe=0,Be={},x=(a&&d||(a=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return Be[++Fe]=function(){$("function"==typeof e?e:Function(e),t)},Te(Fe),Fe},d=function(e){delete Be[e]},"process"==s(Me)?Te=function(e){Me.nextTick(w(Ce,e,1))}:We&&We.now?Te=function(e){We.now(w(Ce,e,1))}:x?(Ge=(x=new x).port2,x.port1.onmessage=De,Te=w(Ge.postMessage,Ge,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(Te=function(e){h.postMessage(e+"","*")},h.addEventListener("message",De,!1)):Te="onreadystatechange"in W("script")?function(e){ze.appendChild(W("script")).onreadystatechange=function(){ze.removeChild(this),Ce.call(e)}}:function(e){setTimeout(w(Ce,e,1),0)}),{set:a,clear:d}),$e=x.set,Ge=h.MutationObserver||h.WebKitMutationObserver,He=h.process,a=h.Promise,Ve="process"==s(He);function Ue(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=l(n),this.reject=l(r)}function Je(e,t,n){e&&!c(e=n?e:e.prototype,et)&&Ze(e,et,{configurable:!0,value:t})}function Ke(e){e=h[e],r&&e&&!e[tt]&&ne.f(e,tt,{configurable:!0,get:function(){return this}})}var Xe={f:function(e){return new Ue(e)}},Qe=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}},d=h.navigator,Ye=d&&d.userAgent||"",Ze=ne.f,et=f("toStringTag"),tt=f("species"),nt=f("iterator"),rt=!1;try{var it=[7][nt]();it.return=function(){rt=!0},Array.from(it,function(){throw 2})}catch(R){}function ot(){}var at,ct,ut,st,E,lt,ft,dt,pt,ht,gt=x.set,mt=(dt=Ve?function(){He.nextTick(It)}:!Ge||h.navigator&&h.navigator.standalone?a&&a.resolve?(ft=a.resolve(void 0),function(){ft.then(It)}):function(){$e.call(h,It)}:(pt=!0,ht=document.createTextNode(""),new Ge(It).observe(ht,{characterData:!0}),function(){ht.data=pt=!pt}),function(e){e={fn:e,next:void 0};lt&&(lt.next=e),E||(E=e,dt()),lt=e}),d="Promise",vt=h.TypeError,yt=h.process,it=yt&&yt.versions,wt=it&&it.v8||"",S=h.Promise,bt="process"==Q(yt),xt=ct=Xe.f,x=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[f("species")]=function(e){e(ot,ot)};return(bt||"function"==typeof PromiseRejectionEvent)&&e.then(ot)instanceof t&&0!==wt.indexOf("6.6")&&-1===Ye.indexOf("Chrome/66")}catch(e){}}(),_t=function(e){var t;return!(!o(e)||"function"!=typeof(t=e.then))&&t},kt=function(f,n){var r;f._n||(f._n=!0,r=f._c,mt(function(){for(var i,s=f._v,l=1==f._s,e=0,t=function(e){var t,n,r,i,o=l?e.ok:e.fail,a=e.resolve,c=e.reject,u=e.domain;try{o?(l||(2==f._h&&(i=f,gt.call(h,function(){var e;bt?yt.emit("rejectionHandled",i):(e=h.onrejectionhandled)&&e({promise:i,reason:i._v})})),f._h=1),!0===o?t=s:(u&&u.enter(),t=o(s),u&&(u.exit(),r=!0)),t===e.promise?c(vt("Promise-chain cycle")):(n=_t(t))?n.call(t,a,c):a(t)):c(s)}catch(e){u&&!r&&u.exit(),c(e)}};r.length>e;)t(r[e++]);f._c=[],f._n=!1,n&&!f._h&&(i=f,gt.call(h,function(){var e,t,n=i._v,r=Et(i);if(r&&(e=Qe(function(){bt?yt.emit("unhandledRejection",n,i):(t=h.onunhandledrejection)?t({promise:i,reason:n}):(t=h.console)&&t.error&&t.error("Unhandled promise rejection",n)}),i._h=bt||Et(i)?2:1),i._a=void 0,r&&e.e)throw e.v}))}))},Et=function(e){return 1!==e._h&&0===(e._a||e._c).length},St=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),kt(t,!0))},Pt=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw vt("Promise can't be resolved itself");(n=_t(e))?mt(function(){var t={_w:r,_d:!1};try{n.call(e,w(Pt,t,1),w(St,t,1))}catch(e){St.call(t,e)}}):(r._v=e,r._s=1,kt(r,!1))}catch(e){St.call({_w:r,_d:!1},e)}}};function It(){var e,t;for(Ve&&(e=He.domain)&&e.exit();E;){t=E.fn,E=E.next;try{t()}catch(e){throw E?dt():lt=void 0,e}}lt=void 0,e&&e.enter()}x||(S=function(e){var t=this;if(!(t instanceof S)||"_h"in t)throw TypeError("Promise: incorrect invocation!");l(e),at.call(this);try{e(w(Pt,this,1),w(St,this,1))}catch(e){St.call(this,e)}},(at=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(e,t){for(var n in t)y(e,n,t[n],void 0);return e}(S.prototype,{then:function(e,t){var n=xt(Ae(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=bt?yt.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&kt(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),ut=function(){var e=new at;this.promise=e,this.resolve=w(Pt,e,1),this.reject=w(St,e,1)},Xe.f=xt=function(e){return e===S||e===st?new ut:ct(e)}),i(i.G+i.W+i.F*!x,{Promise:S}),Je(S,d),Ke(d),st=g.Promise,i(i.S+i.F*!x,d,{reject:function(e){var t=xt(this);return(0,t.reject)(e),t.promise}}),i(i.S+i.F*!x,d,{resolve:function(e){var t=this;return k(t),o(e)&&e.constructor===t?e:((0,(t=Xe.f(t)).resolve)(e),t.promise)}}),i(i.S+i.F*!(x&&function(){if(rt){var e=!1;try{var t=[7],n=t[nt]();n.next=function(){return{done:e=!0}},t[nt]=function(){return n},S.all(t).catch(ot)}catch(e){}return e}}()),d,{all:function(e){var a=this,t=xt(a),c=t.resolve,u=t.reject,n=Qe(function(){var r=[],i=0,o=1;Re(e,!1,function(e){var t=i++,n=!1;r.push(void 0),o++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||c(r))},u)}),--o||c(r)});return n.e&&u(n.v),t.promise},race:function(e){var t=this,n=xt(t),r=n.reject,i=Qe(function(){Re(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}});e(Ct,[{key:"reconnect",value:function(){var e=this;this.lockReconnect||this.curReconnect>=this.maxReconnect||(this.curReconnect++,this.closeCallback&&this.closeCallback(),this.lockReconnect=!0,this.reTimeId&&clearTimeout(this.reTimeId),this.reTimeId=setTimeout(function(){e.initWebsocket(e.openData),e.lockReconnect=!1},this.config.reconnectInterval))}},{key:"initWebsocket",value:function(e,t,n,r,i){var o=this,t=(this.openData=e,t&&(this.openCallback=t),n&&(this.closeCallback=n),r&&(this.resolveAuto=r),this.config.url);this.ws=new WebSocket(t),this.ws.onerror=function(){o.closeCallback(),i&&console.warn("websocket服务出错了"),o.reconnect()},this.ws.onclose=function(){o.closeCallback(),i&&console.warn("websocket服务关闭了"),o.reconnect()},this.ws.onopen=function(){o.openCallback(),o.logWsConfig(e,i),o.heartCheck.start()},this.ws.onmessage=function(e){o.heartCheck.start();e=e.data&&JSON.parse(e.data).data;e&&0<e.length&&o.resolveAuto(e)}}},{key:"logWebsocket",value:function(e,t){this.ws&&1===this.ws.readyState?this.ws.send(e):t&&console.warn("ws未连接，无法发送数据")}},{key:"logWsConfig",value:function(e,t){this.logWebsocket(e,t)}}]);var At=Ct;function Ct(e){t(this,Ct),this.maxReconnect=3,this.curReconnect=0,this.openData={},this.config=e.websocket,this.ws=null,this.lockReconnect=!1,this.reTimeId,this.openCallback=null,this.closeCallback=null,this.resolveAuto=null,this.heartCheck={timeout:this.config.heartInterval,timeoutId:null,serverTimeoutId:null,current:this,start:function(){var e=this;this.timeoutId&&clearTimeout(this.timeoutId),this.serverTimeoutId&&clearTimeout(this.serverTimeoutId),this.timeoutId=setTimeout(function(){1===e.current.ws.readyState&&e.current.ws.send("heartCheck"),e.serverTimeoutId=setTimeout(function(){e.current.ws.close()},e.timeout)},this.timeout)}}}function Dt(e,t,n){var r,i,o,a,c,u,s,l;e.getconfig?(o=(o={url:"https://cstm.baidu.com/log/getconf",data:e,success:function(e){n&&n(e.data||[])},error:function(e){console.log("获取自动打点流配置失败",e)}})||{}).url?(a="jsonp_"+Math.ceil(1e4*Math.random()),c=document.getElementsByTagName("head")[0],o.data.callback=a,u=function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}(o.data),s=document.createElement("script"),l=null,c.appendChild(s),window[a]=function(e){l&&clearTimeout(l),window[a]=null,o.success&&o.success(e)},s.src=o.url+"?"+u,o.time&&(l=setTimeout(function(){window[a]=null,c.removeChild(s),o.error&&o.error({message:"超时"})},o.time))):console.warn("jsonp参数不合法"):(u=t+"?params="+encodeURIComponent(e),r=window.page||{},i="httplog_"+(new Date).getTime(),(t=r[i]=new Image).onload=t.onerror=function(){r[i]=null},t.src=u)}function Tt(e){Wt[Mt][e]=!0}function Ot(e,t){return{value:t,done:!!e}}function jt(e){return Ft[e]||(Ft[e]=ae(e))}function Nt(e,t){var n,r=G(e),i=0,o=[];for(n in r)n!=$t&&c(r,n)&&o.push(n);for(;t.length>i;)!c(r,n=t[i++])||~Bt(o,n)||o.push(n);return o}function Lt(){}function Rt(){return this}var qt,P,zt,Mt=f("unscopables"),Wt=Array.prototype,Ft=(null==Wt[Mt]&&v(Wt,Mt,{}),ce("keys")),Bt=V(!1),$t=jt("IE_PROTO"),Gt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ht=Object.keys||function(e){return Nt(e,Gt)},Vt=r?Object.defineProperties:function(e,t){k(e);for(var n,r=Ht(t),i=r.length,o=0;o<i;)ne.f(e,n=r[o++],t[n]);return e},Ut=jt("IE_PROTO"),Jt=function(){var e=W("iframe"),t=Gt.length;for(e.style.display="none",ze.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Jt=e.F;t--;)delete Jt.prototype[Gt[t]];return Jt()},a=Object.create||function(e,t){var n;return null!==e?(Lt.prototype=k(e),n=new Lt,Lt.prototype=null,n[Ut]=e):n=Jt(),void 0===t?n:Vt(n,t)},it={},Kt=(v(it,f("iterator"),function(){return this}),jt("IE_PROTO")),Xt=Object.prototype,x=Object.getPrototypeOf||function(e){return e=J(e),c(e,Kt)?e[Kt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Xt:null},d=f("iterator"),Qt=!([].keys&&"next"in[].keys()),Yt="values",Zt=(Xr=Array,O="values",N=Kr="Array",(T=qt=function(e,t){this._t=G(e),this._i=0,this._k=t}).prototype=a(it,{next:B(1,function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Ot(1)):Ot(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])})}),Je(T,N+" Iterator"),T=Kr+" Iterator",N=!1,P=Xr.prototype,zt=P[d]||P["@@iterator"]||P[O],O=zt||en(O),a=en("entries"),(D=P.entries||zt)&&(D=x(D.call(new Xr)))!==Object.prototype&&D.next&&(Je(D,T,!0),"function"!=typeof D[d]&&v(D,d,Rt)),zt&&zt.name!==Yt&&(N=!0,O=function(){return zt.call(this)}),!Qt&&!N&&P[d]||v(P,d,O),b[Kr]=O,b[T]=Rt,Xr={values:O,keys:en("keys"),entries:a},i(i.P+i.F*(Qt||N),Kr,Xr),Xr);function en(e){if(!Qt&&e in P)return P[e];switch(e){case"keys":case Yt:return function(){return new qt(this,e)}}return function(){return new qt(this,e)}}b.Arguments=b.Array,Tt("keys"),Tt("values"),Tt("entries");for(var tn=f("iterator"),nn=f("toStringTag"),rn=b.Array,on={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},an=Ht(on),cn=0;cn<an.length;cn++){var un,sn=an[cn],ln=on[sn],fn=h[sn],I=fn&&fn.prototype;if(I&&(I[tn]||v(I,tn,rn),I[nn]||v(I,nn,sn),b[sn]=rn,ln))for(un in Zt)I[un]||y(I,un,Zt[un],!0)}function A(e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e||"function"==typeof e||void 0===e||null==e)t=e;else if(Array.isArray(e))for(var t=[],n=0;n<e.length;n++)t[n]=A(e[n]);else if("object"===z(e))for(var r in t={},e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=A(e[r]));else t=e;return t}function C(e){return"[object Object]"===Object.prototype.toString.call(e)}function dn(e){for(var t in e)Array.isArray(e[t])||C(e[t])?e[t]=dn(e[t]):e[t]=String(e[t]);return JSON.stringify(e)}function pn(e){var t;return o(e)&&(void 0!==(t=e[wn])?!!t:"RegExp"==s(e))}function hn(e,t,n){return t+(n?bn(e,t).length:1)}function gn(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==Q(e))throw new TypeError("RegExp#exec called on incompatible receiver");return xn.call(e,t)}function mn(){var e=k(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}var D,vn=["appname","timestamp","sv","av","trace","sample","page_id"],yn=(e(Pn,[{key:"getBaseParam",value:function(){return this.baseParam}},{key:"setBaseParam",value:function(e,t){if(C(e))for(var n in e)-1<vn.indexOf(n)&&(this.baseParam[n]=e[n]);else t&&console.warn("设置基础字段参数不是object")}}]),Pn),wn=f("match"),bn=function(e,t){var n,e=String(pe(e)),t=me(t),r=e.length;return t<0||r<=t?"":(n=e.charCodeAt(t))<55296||56319<n||t+1===r||(n=e.charCodeAt(t+1))<56320||57343<n?e.charAt(t):e.slice(t,t+2)},xn=RegExp.prototype.exec,_n=RegExp.prototype.exec,kn=String.prototype.replace,x=_n,En=(D=/a/,d=/b*/g,_n.call(D,"a"),_n.call(d,"a"),0!==D.lastIndex||0!==d.lastIndex),Sn=void 0!==/()??/.exec("")[1];function Pn(){t(this,Pn),this.baseParam={sv:"v1.0.1",av:"1.0.0"}}function In(n,e,t){var o,r,i=f(n),a=!u(function(){var e={};return e[i]=function(){return 7},7!=""[n](e)}),c=a?!u(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[Tn]=function(){return t}),t[i](""),!e}):void 0;a&&c&&("replace"!==n||On)&&("split"!==n||jn)||(o=/./[i],t=(c=t(pe,i,""[n],function(e,t,n,r,i){return t.exec===Dn?a&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}))[0],r=c[1],y(String.prototype,n,t),v(RegExp.prototype,i,2==e?function(e,t){return r.call(e,this,t)}:function(e){return r.call(e,this)}))}function An(e,t){if(k(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var T,Cn,Dn=x=En||Sn?function(e){var t,n,r,i,o=this;return Sn&&(n=new RegExp("^"+o.source+"$(?!\\s)",mn.call(o))),En&&(t=o.lastIndex),r=_n.call(o,e),En&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),Sn&&r&&1<r.length&&kn.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}:x,Tn=(i({target:"RegExp",proto:!0,forced:Dn!==/./.exec},{exec:Dn}),f("species")),On=!u(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),jn=(Cn=(T=/(?:)/).exec,T.exec=function(){return Cn.apply(this,arguments)},2===(T="ab".split(T)).length&&"a"===T[0]&&"b"===T[1]),Nn=Math.min,Ln=[].push,Rn=4294967295,qn=!u(function(){RegExp(Rn,"y")}),zn=(In("split",2,function(i,o,h,g){var m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!pn(e))return h.call(n,e,t);for(var r,i,o,a=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,s=void 0===t?Rn:t>>>0,l=new RegExp(e.source,c+"g");(r=Dn.call(l,n))&&!((i=l.lastIndex)>u&&(a.push(n.slice(u,r.index)),1<r.length&&r.index<n.length&&Ln.apply(a,r.slice(1)),o=r[0].length,u=i,a.length>=s));)l.lastIndex===r.index&&l.lastIndex++;return u===n.length?!o&&l.test("")||a.push(""):a.push(n.slice(u)),a.length>s?a.slice(0,s):a}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:h.call(this,e,t)}:h;return[function(e,t){var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):m.call(String(n),e,t)},function(e,t){var n=g(m,e,this,t,m!==h);if(n.done)return n.value;var n=k(e),r=String(this),e=Ae(n,RegExp),i=n.unicode,o=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(qn?"y":"g"),a=new e(qn?n:"^(?:"+n.source+")",o),c=void 0===t?Rn:t>>>0;if(0==c)return[];if(0===r.length)return null===gn(a,r)?[r]:[];for(var u=0,s=0,l=[];s<r.length;){a.lastIndex=qn?s:0;var f,d=gn(a,qn?r:r.slice(s));if(null===d||(f=Nn(_(a.lastIndex+(qn?0:s)),r.length))===u)s=hn(r,s,i);else{if(l.push(r.slice(u,s)),l.length===c)return l;for(var p=1;p<=d.length-1;p++)if(l.push(d[p]),l.length===c)return l;s=u=f}}return l.push(r.slice(u)),l}]}),{f:{}.propertyIsEnumerable}),Mn=Object.getOwnPropertyDescriptor,Wn={f:r?Mn:function(e,t){if(e=G(e),t=F(t,!0),ee)try{return Mn(e,t)}catch(e){}if(c(e,t))return B(!zn.f.call(e,t),e[t])}},Fn=Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=w(Function.call,Wn.f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return An(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),Bn=Gt.concat("length","prototype"),O={f:Object.getOwnPropertyNames||function(e){return Nt(e,Bn)}},$n=ne.f,a=O.f,Gn=j=h.RegExp,Hn=j.prototype,Vn=/a/g,Un=/a/g,Jn=new j(Vn)!==Vn;if(r&&(!Jn||u(function(){return Un[f("match")]=!1,j(Vn)!=Vn||j(Un)==Un||"/a/i"!=j(Vn,"i")}))){for(var j=function(e,t){var n=this instanceof j,r=pn(e),i=void 0===t;return!n&&r&&e.constructor===j&&i?e:(r=Jn?new Gn(r&&!i?e.source:e,t):Gn((r=e instanceof j)?e.source:e,r&&i?mn.call(e):t),i=j,(e=(n?this:Hn).constructor)!==i&&"function"==typeof e&&(t=e.prototype)!==i.prototype&&o(t)&&Fn&&Fn(r,t),r)},Kn=a(Gn),Xn=0;Kn.length>Xn;)!function(t){t in j||$n(j,t,{configurable:!0,get:function(){return Gn[t]},set:function(e){Gn[t]=e}})}(Kn[Xn++]);(Hn.constructor=j).prototype=Hn,y(h,"RegExp",j)}Ke("RegExp"),In("match",1,function(r,i,u,s){return[function(e){var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=s(u,e,this);if(t.done)return t.value;var n=k(e),r=String(this);if(!n.global)return gn(n,r);for(var i=n.unicode,o=[],a=n.lastIndex=0;null!==(c=gn(n,r));){var c=String(c[0]);""===(o[a]=c)&&(n.lastIndex=hn(r,_(n.lastIndex),i)),a++}return 0===a?null:o}]});function Qn(e){y(RegExp.prototype,tr,e,!0)}var N=Date.prototype,Yn="Invalid Date",Zn=N.toString,er=N.getTime,tr=(new Date(NaN)+""!=Yn&&y(N,"toString",function(){var e=er.call(this);return e==e?Zn.call(this):Yn}),r&&"g"!=/./g.flags&&ne.f(RegExp.prototype,"flags",{configurable:!0,get:mn}),"toString"),nr=/./.toString;function rr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}u(function(){return"/a/b"!=nr.call({source:"a",flags:"b"})})?Qn(function(){var e=k(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?mn.call(e):void 0)}):nr.name!=tr&&Qn(function(){return nr.call(this)});var ir={"www.baidu.com":"baidusearch","m.baidu.com":"baidusearch","m5.baidu.com":"baidusearch","www.baike.com":"toutiaobaike","baike.so.com":"360baike","m.baike.so.com":"360baike","zh.wikipedia.org":"wikipedia","zh.m.wikipedia.org":"wikipedia","baike.soso.com":"sogoubaike","baike.wap.soso.com":"sogoubaike","m.sm.cn":"shenma","so.m.sm.cn":"shenma","wap.sogou.com":"sougou","m.sogou.com":"sougou","www.sogou.com":"sougou","www.so.com":"360search","m.so.com":"360search","www.bing.com":"bing","cn.bing.com":"bing","yandex.com":"yandex","www.soso.com":"soso","haokan.baidu.com":"baidu-haokan","tieba.baidu.com":"baidu-tieba","image.baidu.com":"baidu-image","wk.baidu.com":"wenku","wapwenku.baidu.com":"wenku","wenku.baidu.com":"wenku","jingyan.baidu.com":"jingyan","zhidao.baidu.com":"zhidao","power.baidu.com":"zhidao","zhidaocommit.baidu.cn":"zhidao","zhidao.baidu.cn":"zhidao","z.baidu.com":"zhidao","wapiknow.baidu.com":"zhidao","wapiknow.baidu.cn":"zhidao","app.wapiknow.baidu.com":"zhidao","baobao.baidu.com":"bbzd","hanyu.baidu.com":"hanyu","haoxue.baidu.com":"haoxue","youjia.baidu.com":"youjia","expert.baidu.com":"expert","shushuo.baidu.com":"shushuo","www.iqiyi.com":"iqiyi","m.iqiyi.com":"iqiyi","wenda.so.com":"360wenda","m.wenda.so.com":"360wenda","iask.sina.com.cn":"iasksina","www.haodf.com":"haodf","m.haodf.com":"haodf","wenda.tianya.cn":"tianyawenda","www.zhihu.com":"zhihu","m.zhihu.com":"zhihu","wenda.sohu.com":"sohuwenda","wenda.sogou.com":"sohuwenda","wenwen.sogou.com":"sogouwenwen","wenwen.m.sogou.com":"sogouwenwen","muzhi.baidu.com":"muzhibaidu","www.39.net":"39jiankang","m.39.net":"39jiankang","www.xywy.com":"xywy","club.xywy.com":"xywy","3g.xywy.com":"xywy","3g.club.xywy.com":"xywy","www.120ask.com":"120ask","m.120ask.com":"120ask","www.chunyuyisheng.com":"chunyuyisheng","www.wenbing.cn":"wenbing","www.qiuyi.cn":"qiuyi","www.fh21.com.cn":"fh21","wap.fh21.com.cn":"fh21","www.qqyy.com":"qqyy","www.myzx.cn":"myzx","m.myzx.cn":"myzx","www.99.com.cn":"99jiankang","m.99.com.cn":"99jiankang","www.babytree.com":"babytree","m.babytree.com":"babytree","3g.babytree.com":"babytree","www.pcbaby.com.cn":"pcbaby","m.pcbaby.com.cn":"pcbaby","www.ci123.com":"ci123","www.mama.cn":"mama","www.yaolan.com":"yaolan","3g.yaolan.com":"yaolan","beijing.iyaya.com":"iyaya","www.iyaya.com":"iyaya","zuoye.baidu.com":"zuoyebang","homework.baidu.com":"zuoyebang","www.zuoyebang.com":"zuoyebang","www.zybang.com":"zuoyebang","www.jyeoo.com":"jyeoo","shop.jyeoo.com":"jyeoo","m.jyeoo.com":"jyeoo","www.mofangge.com":"mofangge","user.mofangge.com":"mofangge","zuowen.mofangge.com":"mofangge","zuoye.mofangge.com":"mofangge","bxt.mofangge.com":"mofangge","17.mofangge.com":"mofangge","zone.mofangge.com":"mofangge","m.mofangge.com":"mofangge"},or=[{domain:"google.co",channel:"google"},{domain:"yahoo.co",channel:"yahoo"}];function ar(e,t){t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=e.split("?")[1]&&e.split("?")[1].match(t);return null!=e?unescape(e[2]):null}function cr(e){e=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),e=document.cookie&&document.cookie.match(e);return null!=e?unescape(e[2]):null}function ur(e,t){var n=new Date;n.setTime(n.getTime()+31536e6),document.cookie=e+"="+t+";domain="+document.domain+";path=/;expires="+n.toGMTString()}var sr={web:["url","referer","ua","baiduid","device","sid","cuid","uk","network","channel","fr","visitId"],xcx:["device","swan_id","app_version","app_key","scene","baiduid","session_id","cuid","uk","sid","network","os_version","host_app","host_version","sdk_version","url","referer","screen","device_mfr","device_md","channel","fr","visitId"]},lr=(e(fr,[{key:"setInitPlatParam",value:function(t,e){var n=this;this.platParam.url=window.location.href,this.platParam.referer=document.referrer,this.platParam.ua=navigator.userAgent,document.cookie&&document.cookie.split("; ").forEach(function(e){e=e.split("=");"BAIDUID"===e[0]?n.platParam.baiduid=e[1]:"pc"===t&&"H_PS_PSSID"===e[0]||"h5"===t&&"H_WISE_SIDS"===e[0]?n.platParam.sid=e[1]:"BAIDUCUID"===e[0]&&(n.platParam.cuid=e[1])}),this.platParam.channel=function(e){var t=e&&e.split("/")[2],n="";if(t)if(-1<t.indexOf("baike.baidu")||-1<t.indexOf("baike.otp.baidu"))(n=cr("channel"))||(n="NA");else if(ir[t])ur("channel",n=ir[t]);else{for(var r=0;r<or.length;r++)if(-1<t.indexOf(or[r].domain)){n=or[r].channel;break}ur("channel",n=""===n?t:n)}else(e=new Date).setTime(e.getTime()-1),document.cookie="channel=;domain="+document.domain+";path=/;expires="+e.toGMTString(),n="NA";return n}(document.referrer),e&&(this.platParam.visitId=function(e){e=e&&e.split("/")[2];if(e&&-1<e.indexOf("baike.baidu")||-1<e.indexOf("baike.otp.baidu"))return cr("baikeVisitId");e=rr();return ur("baikeVisitId",e),e}(document.referrer)),ar(this.platParam.url,"fr")&&(this.platParam.fr=ar(this.platParam.url,"fr"))}},{key:"getPlatform",value:function(){return this.platform}},{key:"getPlatParam",value:function(){return this.platParam}},{key:"setPlatParam",value:function(e,t,n){if(""!==this.platform)if(C(e)){var r,n=void 0!==e.setVisitId?e.setVisitId:n;for(r in this.setInitPlatParam(e.device,n),e)-1<sr[this.platform].indexOf(r)&&(this.platParam[r]=e[r])}else t&&console.warn("设置平台字段参数不是object");else t&&console.warn("设置平台字段参数之前，请先设置平台。")}}]),fr);function fr(){t(this,fr),this.platform="web",this.platParam={}}function dr(e,t,n){if(!C(e))return n&&console.warn("检测必填字段的数据不是object"),0;for(var r=0;r<t.length;r++)if(void 0===e[t[r]])return n&&console.warn("必填字段",t,"缺少字段"+t[r]),0;return 1}var L={viewPage:{default:{atype:"view",stype:"page"},required:["page"],keys:["page","page_param","series","ignore","has_video"]},viewEl:{default:{atype:"view",stype:"element"},required:["page"],keys:["page","page_param","element","element_param","element_type","element_id","position_top","position_left","list","list_param","index","list2","list2_param","list2_index","list3","list3_param","list3_index","series","is_video","video_id"],ename:"element"},viewElDraw:{default:{atype:"view",stype:"element-draw"},required:["page"],keys:["page","page_param","element","element_param","element_type","element_id","position_top","position_left","list","list_param","index","list2","list2_param","list2_index","list3","list3_param","list3_index","series","is_video","video_id"],ename:"element"},actClick:{default:{atype:"act",stype:"click"},required:["page"],keys:["page","page_param","element","element_param","element_type","element_id","position_top","position_left","list","list_param","index","list2","list2_param","list2_index","list3","list3_param","list3_index","series","nav","nav_target","clk_type","times"],ename:"element"},actVideo:{default:{atype:"act",stype:"video"},required:["video_action"],keys:["page","page_param","video_name","video_id","video_param","video_action","video_position","duration","video_position_p","play_times","series"],ename:"video_action"},actScroll:{default:{atype:"act",stype:"scroll"},required:["page"],keys:["page","page_param","scroll_top","scroll_left","scroll_top_p","scroll_left_p","page_height","page_width","scroll_top_max","scroll_left_max","scroll_top_max_p","scroll_left_max_p","direction","series"]},actEvent:{default:{atype:"act",stype:"event"},required:["act_type"],keys:["page","page_param","element","element_param","act_type","act_param","series"],ename:"act_type"},timingPage:{default:{atype:"timing",stype:"page"},required:["page_id","page","time_duration"],keys:["page_id","page","page_param","time_duration","time_all","time_piece","tick"]},timingVideo:{default:{atype:"timing",stype:"video"},required:["time_duration"],keys:["page","page_param","video_name","video_id","video_param","video_position","duration","video_position_p","play_times","time_duration","time_single","time_piece","tick"]},timingOthers:{default:{atype:"timing",stype:"others"},required:["page","timing_type","time_duration"],keys:["page","timing_type","time_duration","position"],ename:"timing_type"},eventError:{default:{atype:"event",stype:"error"},required:[],keys:["page","page_param","event_level","event_file","event_line","event_msg"]}};function pr(e){var t=e.baseParam,n=e.pt,r=e.ptInfo,e=e.isDebug,t={setconfig:1,common:m(m({},t),{},{platform:n,ptInfo:r})};return e&&(console.log("logConfig"),console.log(t)),dn(A(t))}function hr(e,t,n,r){if("getconfig"===n)return r?{getconfig:dn(A(t.getconfig))}:dn(A(t));var i=e.baseParam,o=e.pt,a=e.ptInfo,e=e.isDebug;if(!n||!L[n])return e&&console.warn("发送的type不对，当前type是"+n),"noType";if(!dr(t,L[n].required,e))return e&&console.warn("发送"+n+"类型的必填信息不全"),"noRequired";var c,u=A(t),s={},l={},f={},d={},p={},h={},t={},g=(u.ruleId&&(t.rule_id=u.ruleId,delete u.ruleId),{});for(c in u)-1<L[n].keys.indexOf(c)?s[c]=u[c]:"ext"===c?l=u[c]:0===c.indexOf("f_")?f[c]=u[c]:0===c.indexOf("c_")?d[c]=u[c]:-1<vn.indexOf(c)?p[c]=u[c]:-1<sr[o].indexOf(c)?h[c]=u[c]:g[c]=u[c],delete u[c];if(L[n].ename&&(s.ename=s[L[n].ename]),r)return r=m({setconfig:0,common:m(m(m({},i),{},{timestamp:(new Date).getTime()},p),{},{platform:o,ptInfo:m(m({},a),h)}),action:m(m({},L[n].default),{},{actionInfo:s,ext:l,commonExt:f,customExt:d,customUser:g})},t),e&&(console.log("logHttp"),console.log(r)),dn(A(r));i=m({setconfig:0,common:m(m({timestamp:(new Date).getTime()},p),{},{ptInfo:h}),action:m(m({},L[n].default),{},{actionInfo:s,ext:l,commonExt:f,customExt:d,customUser:g})},t);return e&&(console.log("logWebsocket"),console.log(i)),dn(A(i))}e(mr,[{key:"getGlobalParam",value:function(){return this.globalParam}},{key:"setGlobalParam",value:function(e,t){if(C(e)){for(var n in e)if(void 0!==this.globalParam[n])if(C(this.globalParam[n])&&C(e[n]))for(var r in e[n])this.globalParam[n][r]?this.globalParam[n][r]=e[n][r]:t&&console.warn("设置全局参数中，"+n+"中的"+r+"不是全局参数");else this.globalParam[n]=e[n]}else t&&console.warn("设置全局参数不是object")}}]);var gr=mr;function mr(){t(this,mr),this.globalParam={debug:!1,http:{url:"https://cstm.baidu.com/log/common/v.gif"},websocket:{url:"wss://cstm.baidu.com/log/index",reconnectInterval:2e3,heartInterval:3e3,binaryType:"blob"}}}var vr=[].slice,yr=(i(i.P+i.F*u(function(){ze&&vr.call(ze)}),"Array",{slice:function(e,t){var n=_(this.length),r=s(this);if(t=void 0===t?n:t,"Array"==r)return vr.call(this,e,t);for(var i=H(e,n),e=H(t,n),o=_(e-i),a=new Array(o),c=0;c<o;c++)a[c]="String"==r?this.charAt(i+c):this[i+c];return a}}),Math.max),wr=Math.min,br=Math.floor,xr=/\$([$&`']|\d\d?|<[^>]*>)/g,_r=/\$([$&`']|\d\d?)/g,kr=(In("replace",2,function(i,o,b,x){return[function(e,t){var n=i(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,n,t):b.call(String(n),e,t)},function(e,t){var n=x(b,e,this,t);if(n.done)return n.value;var r,i=k(e),o=String(this),a="function"==typeof t,c=(a||(t=String(t)),i.global);c&&(r=i.unicode,i.lastIndex=0);for(var u=[];;){var s=gn(i,o);if(null===s)break;if(u.push(s),!c)break;""===String(s[0])&&(i.lastIndex=hn(o,_(i.lastIndex),r))}for(var l,f="",d=0,p=0;p<u.length;p++){for(var s=u[p],h=String(s[0]),g=yr(wr(me(s.index),o.length),0),m=[],v=1;v<s.length;v++)m.push(void 0===(l=s[v])?l:String(l));var y=s.groups,w=a?(w=[h].concat(m,g,o),void 0!==y&&w.push(y),String(t.apply(void 0,w))):function(o,a,c,u,s,e){var l=c+o.length,f=u.length,t=_r;return void 0!==s&&(s=J(s),t=xr),b.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,c);case"'":return a.slice(l);case"<":n=s[t.slice(1,-1)];break;default:var r,i=+t;if(0==i)return e;if(f<i)return 0!==(r=br(i/10))&&r<=f?void 0===u[r-1]?t.charAt(1):u[r-1]+t.charAt(1):e;n=u[i-1]}return void 0===n?"":n})}(h,o,g,m,y,t);d<=g&&(f+=o.slice(d,g)+w,d=g+h.length)}return f+o.slice(d)}]}),X(2)),Er=(i(i.P+i.F*!U([].filter,!0),"Array",{filter:function(e){return kr(this,e,arguments[1])}}),X(5)),Sr=!0,Pr=("find"in[]&&Array(1).find(function(){Sr=!1}),i(i.P+i.F*Sr,"Array",{find:function(e){return Er(this,e,1<arguments.length?arguments[1]:void 0)}}),Tt("find"),[].sort),Ir=[1,2,3],Ar=(i(i.P+i.F*(u(function(){Ir.sort(void 0)})||!u(function(){Ir.sort(null)})||!U(Pr)),"Array",{sort:function(e){return void 0===e?Pr.call(J(this)):Pr.call(J(this),l(e))}}),n(function(R){var n=window;function f(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function q(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function z(){_()}var e,d,b,o,M,p,W,F,x,u,s,_,k,r,E,h,i,a,g,S="sizzle"+ +new Date,l=n.document,P=0,B=0,$=O(),G=O(),H=O(),m=O(),V=function(e,t){return e===t&&(s=!0),0},U={}.hasOwnProperty,t=[],J=t.pop,K=t.push,I=t.push,X=t.slice,y=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",c="[\\x20\\t\\r\\n\\f]",v="(?:\\\\[\\da-fA-F]{1,6}"+c+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Y="\\["+c+"*("+v+")(?:"+c+"*([*^$|!~]?=)"+c+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+v+"))|)"+c+"*\\]",Z=":("+v+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Y+")*)|.*)\\)|)",ee=new RegExp(c+"+","g"),w=new RegExp("^"+c+"+|((?:^|[^\\\\])(?:\\\\.)*)"+c+"+$","g"),te=new RegExp("^"+c+"*,"+c+"*"),ne=new RegExp("^"+c+"*([>+~]|"+c+")"+c+"*"),re=new RegExp(c+"|>"),ie=new RegExp(Z),oe=new RegExp("^"+v+"$"),A={ID:new RegExp("^#("+v+")"),CLASS:new RegExp("^\\.("+v+")"),TAG:new RegExp("^("+v+"|[*])"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+c+"*(even|odd|(([+-]|)(\\d*)n|)"+c+"*(?:([+-]|)"+c+"*(\\d+)|))"+c+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+c+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+c+"*((?:-\\d)?\\d*)"+c+"*\\)|)(?=[^-]|$)","i")},ae=/HTML$/i,ce=/^(?:input|select|textarea|button)$/i,ue=/^h\d$/i,C=/^[^{]+\{\s*\[native \w/,se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,le=/[+~]/,D=new RegExp("\\\\[\\da-fA-F]{1,6}"+c+"?|\\\\([^\\r\\n\\f])","g"),fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,de=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(t=X.call(l.childNodes),l.childNodes),t[l.childNodes.length].nodeType}catch(n){I={apply:t.length?function(e,t){K.apply(e,X.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function T(e,t,n,r){var i,o,a,c,u,s,l=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&(_(t),t=t||k,E)){if(11!==f&&(c=se.exec(e)))if(i=c[1]){if(9===f){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(l&&(s=l.getElementById(i))&&g(t,s)&&s.id===i)return n.push(s),n}else{if(c[2])return I.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&d.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(i)),n}if(d.qsa&&!m[e+" "]&&(!h||!h.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(s=e,l=t,1===f&&(re.test(e)||ne.test(e))){for((l=le.test(e)&&me(t.parentNode)||t)===t&&d.scope||((a=t.getAttribute("id"))?a=a.replace(fe,q):t.setAttribute("id",a=S)),o=(u=p(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+ye(u[o]);s=u.join(",")}try{return I.apply(n,l.querySelectorAll(s)),n}catch(t){m(e,!0)}finally{a===S&&t.removeAttribute("id")}}}return F(e.replace(w,"$1"),t,n,r)}function O(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function j(e){return e[S]=!0,e}function N(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function pe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&de(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function L(a){return j(function(o){return o=+o,j(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=T.support={},M=T.isXML=function(e){var t=e.namespaceURI,e=(e.ownerDocument||e).documentElement;return!ae.test(t||e&&e.nodeName||"HTML")},_=T.setDocument=function(e){var e=e?e.ownerDocument||e:l;return e!=k&&9===e.nodeType&&e.documentElement&&(r=(k=e).documentElement,E=!M(k),l!=k&&(e=k.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",z,!1):e.attachEvent&&e.attachEvent("onunload",z)),d.scope=N(function(e){return r.appendChild(e).appendChild(k.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=N(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=N(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=C.test(k.getElementsByClassName),d.getById=N(function(e){return r.appendChild(e).id=S,!k.getElementsByName||!k.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(D,f);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E)return(t=t.getElementById(e))?[t]:[]}):(b.filter.ID=function(e){var t=e.replace(D,f);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},i=[],h=[],(d.qsa=C.test(k.querySelectorAll))&&(N(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&h.push("[*^$]="+c+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||h.push("\\["+c+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+S+"-]").length||h.push("~="),(t=k.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||h.push("\\["+c+"*name"+c+"*="+c+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||h.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||h.push(".#.+[+~]"),e.querySelectorAll("\\\f"),h.push("[\\r\\n\\f]")}),N(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&h.push("name"+c+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&h.push(":enabled",":disabled"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(d.matchesSelector=C.test(a=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&N(function(e){d.disconnectedMatch=a.call(e,"*"),a.call(e,"[s!='']:x"),i.push("!=",Z)}),h=h.length&&new RegExp(h.join("|")),i=i.length&&new RegExp(i.join("|")),e=C.test(r.compareDocumentPosition),g=e||C.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=e?function(e,t){return e===t?(s=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==k||e.ownerDocument==l&&g(l,e)?-1:t==k||t.ownerDocument==l&&g(l,t)?1:u?y(u,e)-y(u,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return s=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],c=[t];if(!i||!o)return e==k?-1:t==k?1:i?-1:o?1:u?y(u,e)-y(u,t):0;if(i===o)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;a[r]===c[r];)r++;return r?he(a[r],c[r]):a[r]==l?-1:c[r]==l?1:0}),k},T.matches=function(e,t){return T(e,null,null,t)},T.matchesSelector=function(e,t){if(_(e),d.matchesSelector&&E&&!m[t+" "]&&(!i||!i.test(t))&&(!h||!h.test(t)))try{var n=a.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){m(t,!0)}return 0<T(t,k,null,[e]).length},T.contains=function(e,t){return(e.ownerDocument||e)!=k&&_(e),g(e,t)},T.attr=function(e,t){(e.ownerDocument||e)!=k&&_(e);var n=b.attrHandle[t.toLowerCase()],n=n&&U.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==n?n:d.attributes||!E?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},T.escape=function(e){return(e+"").replace(fe,q)},T.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},T.uniqueSort=function(e){var t,n=[],r=0,i=0;if(s=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(V),s){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=T.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=T.selectors={cacheLength:50,createPseudo:j,match:A,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(D,f),e[3]=(e[3]||e[4]||e[5]||"").replace(D,f),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||T.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&T.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return A.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ie.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(D,f).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+c+")"+e+"("+c+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=T.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),w="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,c,u,s=v!=y?"nextSibling":"previousSibling",l=e.parentNode,f=w&&e.nodeName.toLowerCase(),d=!n&&!w,p=!1;if(l){if(v){for(;s;){for(a=e;a=a[s];)if(w?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=s="only"===h&&!u&&"nextSibling"}return!0}if(u=[y?l.firstChild:l.lastChild],y&&d){for(p=(c=(r=(i=(o=(a=l)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===P&&r[1])&&r[2],a=c&&l.childNodes[c];a=++c&&a&&a[s]||(p=c=0)||u.pop();)if(1===a.nodeType&&++p&&a===e){i[h]=[P,c,p];break}}else if(!1===(p=d?c=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===P&&r[1]:p))for(;(a=++c&&a&&a[s]||(p=c=0)||u.pop())&&((w?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++p||(d&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[P,p]),a!==e)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||T.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?j(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=y(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:j(function(e){var r=[],i=[],c=W(e.replace(w,"$1"));return c[S]?j(function(e,t,n,r){for(var i,o=c(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,c(r,null,n,i),r[0]=null,!i.pop()}}),has:j(function(t){return function(e){return 0<T(t,e).length}}),contains:j(function(t){return t=t.replace(D,f),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:j(function(n){return oe.test(n||"")||T.error("unsupported lang: "+n),n=n.replace(D,f).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return ue.test(e.nodeName)},input:function(e){return ce.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:L(function(){return[0]}),last:L(function(e,t){return[t-1]}),eq:L(function(e,t,n){return[n<0?n+t:n]}),even:L(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:L(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:L(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:L(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ve(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(a,e,t){var c=e.dir,u=e.next,s=u||c,l=t&&"parentNode"===s,f=B++;return e.first?function(e,t,n){for(;e=e[c];)if(1===e.nodeType||l)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[P,f];if(n){for(;e=e[c];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[c];)if(1===e.nodeType||l)if(i=(i=e[S]||(e[S]={}))[e.uniqueID]||(i[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[c]||e;else{if((r=i[s])&&r[0]===P&&r[1]===f)return o[2]=r[2];if((i[s]=o)[2]=a(e,t,n))return!0}return!1}}function be(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function xe(e,t,n,r,i){for(var o,a=[],c=0,u=e.length,s=null!=t;c<u;c++)!(o=e[c])||n&&!n(o,r,i)||(a.push(o),s&&t.push(c));return a}function _e(e){for(var r,t,n,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],c=o?1:0,u=we(function(e){return e===r},a,!0),s=we(function(e){return-1<y(r,e)},a,!0),l=[function(e,t,n){e=!o&&(n||t!==x)||((r=t).nodeType?u:s)(e,t,n);return r=null,e}];c<i;c++)if(t=b.relative[e[c].type])l=[we(be(l),t)];else{if((t=b.filter[e[c].type].apply(null,e[c].matches))[S]){for(n=++c;n<i&&!b.relative[e[n].type];n++);return function e(p,h,g,m,v,t){return m&&!m[S]&&(m=e(m)),v&&!v[S]&&(v=e(v,t)),j(function(e,t,n,r){var i,o,a,c=[],u=[],s=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)T(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!p||!e&&h?l:xe(l,c,p,n,r),d=g?v||(e?p:s||m)?[]:t:f;if(g&&g(f,d,n,r),m)for(i=xe(d,u),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(d[u[o]]=!(f[u[o]]=a));if(e){if(v||p){if(v){for(i=[],o=d.length;o--;)(a=d[o])&&i.push(f[o]=a);v(null,d=[],i,r)}for(o=d.length;o--;)(a=d[o])&&-1<(i=v?y(e,a):c[o])&&(e[i]=!(t[i]=a))}}else d=xe(d===t?d.splice(s,d.length):d),v?v(null,t,d,r):I.apply(t,d)})}(1<c&&be(l),1<c&&ye(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(w,"$1"),t,c<n&&_e(e.slice(c,n)),n<i&&_e(e=e.slice(n)),n<i&&ye(e))}l.push(t)}return be(l)}function ke(m,v){function e(e,t,n,r,i){var o,a,c,u=0,s="0",l=e&&[],f=[],d=x,p=e||w&&b.find.TAG("*",i),h=P+=null==d?1:Math.random()||.1,g=p.length;for(i&&(x=t==k||t||i);s!==g&&null!=(o=p[s]);s++){if(w&&o){for(a=0,t||o.ownerDocument==k||(_(o),n=!E);c=m[a++];)if(c(o,t||k,n)){r.push(o);break}i&&(P=h)}y&&((o=!c&&o)&&u--,e&&l.push(o))}if(u+=s,y&&s!==u){for(a=0;c=v[a++];)c(l,f,t,n);if(e){if(0<u)for(;s--;)l[s]||f[s]||(f[s]=J.call(r));f=xe(f)}I.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&T.uniqueSort(r)}return i&&(P=h,x=d),l}var y=0<v.length,w=0<m.length;return y?j(e):e}ve.prototype=b.filters=b.pseudos,b.setFilters=new ve,p=T.tokenize=function(e,t){var n,r,i,o,a,c,u,s=G[e+" "];if(s)return t?0:s.slice(0);for(a=e,c=[],u=b.preFilter;a;){for(o in n&&!(r=te.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(i=[])),n=!1,(r=ne.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(w," ")}),a=a.slice(n.length)),b.filter)!(r=A[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?T.error(e):G(e,c).slice(0)},W=T.compile=function(e,t){var n,r=[],i=[],o=H[e+" "];if(!o){for(n=(t=t||p(e)).length;n--;)((o=_e(t[n]))[S]?r:i).push(o);(o=H(e,ke(i,r))).selector=e}return o},F=T.select=function(e,t,n,r){var i,o,a,c,u,s="function"==typeof e&&e,l=!r&&p(e=s.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(D,f),t)||[])[0]))return n;s&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=A.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[c=a.type]);)if((u=b.find[c])&&(r=u(a.matches[0].replace(D,f),le.test(o[0].type)&&me(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&ye(o))break;return I.apply(n,r),n}}return(s||W(e,l))(r,t,!E,n,!t||le.test(e)&&me(t.parentNode)||t),n},d.sortStable=S.split("").sort(V).join("")===S,d.detectDuplicates=!!s,_(),d.sortDetached=N(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),N(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&N(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),N(function(e){return null==e.getAttribute("disabled")})||pe(Q,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null});var Ee=n.Sizzle;T.noConflict=function(){return n.Sizzle===T&&(n.Sizzle=Ee),T},R.exports?R.exports=T:n.Sizzle=T}));function Cr(e){return e&&"object"===z(e)&&1===e.nodeType}function Dr(e,t){var n;return e=/^\d+%$/.test(e)?(n=parseInt(e,10)/100,Math.round(t*n)):parseInt(e,10)}function Tr(e,t,n){var t=1<arguments.length&&void 0!==t?t:0,n=2<arguments.length&&void 0!==n?n:0,e=e.getBoundingClientRect(),r=e.top,i=e.bottom,o=e.height,a=e.left,c=e.right,e=e.width;if(0!==e&&0!==o)return t=Dr(t,o),o=Dr(n,e),n=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,(0<=r&&r+t<=e||0<=i-t&&i<=e)&&(0<=a&&a+o<=n||0<=c-o&&c<=n)}i(i.S,"Date",{now:function(){return(new Date).getTime()}});e(Lr,[{key:"_normalize",value:function(e){return{interval:(e="object"!==z(e)?{}:e).interval||0,offset:e.offset||0,offsetW:e.offsetW||0}}},{key:"_throttledDetect",value:function(e){var t=this,n=Date.now(),r=n-this._lastTimestamp;this._lastTimestamp=n,!this._ticking&&this._store.length&&r>=this.config.interval&&window.requestAnimationFrame(function(){t._detect(e),t._ticking=!1}),this._ticking=!0}},{key:"_detect",value:function(t){var n=this,e=this._store;(e=Cr(t)?this._store.filter(function(e){return e.el.isSameNode(t)}):e).forEach(function(e){Tr(e.el,n.config.offset,n.config.offsetW)&&e.callback()})}},{key:"addListener",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};(e=[].concat(e)).forEach(function(e){Cr(e)&&(t._store.length||window.addEventListener("scroll",t._throttledDetect),t._store.push({el:e,callback:n}),t._throttledDetect(e))})}},{key:"removeListener",value:function(e){var n=this;(e=[].concat(e)).forEach(function(t){Cr(t)&&(n._store=n._store.filter(function(e){return!e.el.isSameNode(t)}))}),this._store.length||window.removeEventListener("scroll",this._throttledDetect)}},{key:"removeAllListeners",value:function(){this._store=[],window.removeEventListener("scroll",this._throttledDetect)}}]);var Or=new Lr,jr=[],Nr=!1;function Lr(e){t(this,Lr),this.config=this._normalize(e),this._store=[],this._ticking=!1,this._lastTimestamp=Date.now(),this._throttledDetect=this._throttledDetect.bind(this)}function Rr(e,t){var n=Ar(e.selector);if(0!==n.length){var r=n[0],n=e.ruleId,i=e.element,o=e.page,a=e.attribute,c={ruleId:n,element:i,page:o},u=a&&JSON.parse(a);if(u)for(var s in u){var l=r.getAttribute(s);null!==l&&(c[u[s]]=l)}Tr(r)?t(c,"viewEl"):Or.addListener(r,function e(){Or.removeListener(r,e),t(c,"viewEl")})}else jr.push(e)}var qr=[],zr=!1;function Mr(e,t){var n=Ar(e.selector);if(0!==n.length){var r=n[0],n=e.ruleId,i=e.element,o=e.page,a=e.attribute,c={ruleId:n,element:i,page:o},u=a&&JSON.parse(a);if(u)for(var s in u){var l=r.getAttribute(s);null!==l&&(c[u[s]]=l)}t(c,"viewElDraw")}else qr.push(e)}var Wr=X(1),Fr=(i(i.P+i.F*!U([].map,!0),"Array",{map:function(e){return Wr(this,e,arguments[1])}}),[]),Br=!1;e(Gr,[{key:"start",value:function(){var t,n,r=this;this.timer||(t=Date.now(),n=rr(),this.timer=setInterval(function(){var e=Date.now()-t;r.onLog({pageId:n,duration:e})},this.interval))}},{key:"stop",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}}]);var $r=Gr;function Gr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t(this,Gr),this.timer=null,this.interval=e.interval||3e3,this.onLog=e.onLog||function(){}}var Hr=["appname","device"],Vr={viewpage:function(e,t){t({ruleId:e.ruleId,page:e.page},"viewPage")},viewelement:function(e,t){Rr(e,t),Nr||(Nr=!0,document.addEventListener("DOMNodeInserted",function(){var e=jr.length;jr.forEach(function(e){Rr(e,t)}),jr.splice(0,e)}))},"viewelement-draw":function(e,t){Mr(e,t),zr||(zr=!0,document.addEventListener("DOMNodeInserted",function(){var e=qr.length;qr.forEach(function(e){Mr(e,t)}),qr.splice(0,e)}))},actclick:function(e,f){Fr.push(e),Br||(document.onclick=function(e){Br=!0;var l=(e=e||window.event).target||e.srcElement;Fr.forEach(function(e){var t=Ar(e.selector),n=e.selector.split(",").map(function(e){return e+" *"}).join(","),n=Ar(n);if(-1<t.indexOf(l)||-1<n.indexOf(l)){var n=e.ruleId,r=e.element,i=e.page,e=e.attribute,o={ruleId:n,element:r,page:i},a=e&&JSON.parse(e);if(a){var c=null;if(c=-1<t.indexOf(l)?l:function e(t,n){n=n.parentNode;return n?-1<t.indexOf(n)?n:e(t,n):null}(t,l))for(var u in a){var s=c.getAttribute(u);null!==s&&(o[a[u]]=s)}}f(o,"actClick")}})})},timingpage:function(e,t){var n=e.ruleId,r=e.page,i=new $r({onLog:function(e){t({ruleId:n,page:r,page_id:e.pageId,time_duration:e.duration},"timingPage")}});i.start(),window.addEventListener("unload",function(){return i.stop()})}},Ur=(e(Jr,[{key:"isDebug",value:function(){var e=this.globalParam.getGlobalParam().debug;return e=-1<window.location.href.indexOf("debug=1")?!0:e}},{key:"init",value:function(e){void 0!==e&&(dr(e,Hr,this.isDebug())?(this.globalParam.setGlobalParam(e,this.isDebug()),this.baseParam.setBaseParam(e,this.isDebug()),this.platParam.setPlatParam(e,this.isDebug(),!0),this.isInit=!0,e.auto&&e.page&&this.getAutoConfig(e)):this.isDebug()&&console.warn("初始化必填参数不全"))}},{key:"getAutoConfig",value:function(e){e={appname:e.appname,page:e.page,platform:"web",device:e.device};this.log({getconfig:e},"getconfig")}},{key:"resolveAutoConfig",value:function(e){var n=this;e&&Array.isArray(e)&&0!==e.length&&e.forEach(function(e){var t=e.atype+e.stype;Vr[t]&&Vr[t](e,n.autoLog)})}},{key:"setConfig",value:function(e){this.globalParam.setGlobalParam(e,this.isDebug()),this.baseParam.setBaseParam(e,this.isDebug()),this.platParam.setPlatParam(e,this.isDebug()),this.logConfig()}},{key:"initWs",value:function(r){var i=this,o=this.isDebug();return new Promise(function(e,t){i.isWsIniting=!0,i.webWocket.initWebsocket(r,function(){n.canSocket=!0,e()},function(){n.canSocket=!1,t()},i.resolveAuto,o);var n=i})}},{key:"log",value:function(e,t){var n,r,i,o,a,c,u=this;this.isInit?C(e)?(n=this.baseParam.getBaseParam(),r=this.platParam.getPlatform(),i=this.platParam.getPlatParam(),o=this.isDebug(),a={baseParam:n,pt:r,ptInfo:i,isDebug:o},c=this.globalParam.getGlobalParam().http.url,this.isWsSupport?this.isWsInit||this.isWsIniting?this.isWsIniting?this.noSendData.push({data:e,type:t}):this.canSocket?this.webWocket.logWebsocket(hr(a,e,t),o):Dt(hr(a,e,t,!0),c,this.resolveAuto):this.initWs(pr(a)).then(function(){u.isWsInit=!0,u.isWsIniting=!1,u.webWocket.logWebsocket(hr(a,e,t),o),0<u.noSendData.length&&(u.noSendData.forEach(function(e){u.webWocket.logWebsocket(hr(a,e.data,e.type),o)}),u.noSendData=[])}).catch(function(){u.isWsInit=!0,u.isWsIniting=!1,Dt(hr(e,t,!0),c,u.resolveAuto),0<u.noSendData.length&&(u.noSendData.forEach(function(e){Dt(hr(a,e.data,e.type,!0),c,u.resolveAuto)}),u.noSendData=[])}):Dt(hr(a,e,t,!0),c,this.resolveAuto)):this.isDebug()&&console.warn("传入打点参数不是object"):this.isDebug()&&console.warn("发送具体打点之前，请先初始化")}},{key:"logConfig",value:function(){var e,t,n,r;this.isWsSupport&&this.isWsInit&&this.canSocket&&(e=this.baseParam.getBaseParam(),t=this.platParam.getPlatform(),n=this.platParam.getPlatParam(),r=this.isDebug(),this.webWocket.logWsConfig(pr({baseParam:e,pt:t,ptInfo:n,isDebug:r}),r))}}]),Jr);function Jr(e){t(this,Jr),this.globalParam=new gr,this.baseParam=new yn,this.platParam=new lr,this.isWsInit=!1,this.isWsIniting=!1,this.noSendData=[],this.canSocket=!1,this.isWsSupport=!(!window.WebSocket||!window.WebSocket.prototype.send),this.webWocket=new At(this.globalParam.getGlobalParam()),this.resolveAuto=this.resolveAutoConfig.bind(this),this.autoLog=this.log.bind(this),this.init(e)}e(Qr,[{key:"init",value:function(e){this.log.init(e)}},{key:"setConfig",value:function(e){this.log.setConfig(e)}},{key:"setLogGlobalParam",value:function(e){this.logGlobalParam=e}},{key:"logEntry",value:function(e,t){this.log.log(m(m({},this.logGlobalParam),e),t)}},{key:"logViewPage",value:function(e){this.logEntry(e,"viewPage")}},{key:"logViewEl",value:function(e){this.logEntry(e,"viewEl")}},{key:"logViewElDraw",value:function(e){this.logEntry(e,"viewElDraw")}},{key:"logActClick",value:function(e){this.logEntry(e,"actClick")}},{key:"logActVideo",value:function(e){this.logEntry(e,"actVideo")}},{key:"logActScroll",value:function(e){this.logEntry(e,"actScroll")}},{key:"logActEvent",value:function(e){this.logEntry(e,"actEvent")}},{key:"logTimingPage",value:function(e){this.logEntry(e,"timingPage")}},{key:"logTimingVideo",value:function(e){this.logEntry(e,"timingVideo")}},{key:"logTimingOthers",value:function(e){this.logEntry(e,"timingOthers")}},{key:"logEventError",value:function(e){this.logEntry(e,"eventError")}}]);var Kr=Qr,Xr=new Kr;function Qr(e){var o;t(this,Qr),this.log=new Ur(e),this.logGlobalParam={},void 0!==e&&!1===e.error||(o=this.logEventError.bind(this),window.onerror=function(e,t,n,r,i){o({ruleId:122,msg:encodeURIComponent(e),line:n,col:r,stack:(e="",(n=i)&&n.stack&&(e=n.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),n=n.toString(),e.indexOf(n)<0&&(e=n+"@"+e)),encodeURIComponent(e))})})}R.clickstream=Xr,R.default=Kr,Object.defineProperty(R,"__esModule",{value:!0})},"object"==typeof t&&void 0!==n?i(t):"function"==typeof define&&define.amd?define(["exports"],i):i((r="undefined"!=typeof globalThis?globalThis:r||self).Clickstream={})});
;/*!wiki-common:packages/utils/clickstream.js*/
define("wiki-common:packages/utils/clickstream",function(e,d,i){"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;e=((e=e("wiki-common:node_modules/@baidu/clickstream-sdk/lib/index"))&&e.__esModule?e:{default:e}).default;d.default=e,i.exports=d.default});