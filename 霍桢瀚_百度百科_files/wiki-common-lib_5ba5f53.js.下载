;/*!wiki-common:widget/lib/clipboard/clipboard.js*/
define("wiki-common:widget/lib/clipboard/clipboard",function(t,e,n){var o,r;o=this,r=function(){return n=[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=u(n(1)),c=u(n(3)),l=u(n(4));function u(t){return t&&t.__esModule?t:{default:t}}n=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function o(t,e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");var n=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return n.resolveOptions(e),n.listenClick(t),n}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i(o,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===r(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,l.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){t=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new a.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(t){return s("action",t)}},{key:"defaultTarget",value:function(t){t=s("target",t);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(t){return s("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof t?[t]:t,e=!!document.queryCommandSupported;return t.forEach(function(t){e=e&&!!document.queryCommandSupported(t)}),e}}]),o}(c.default);function s(t,e){t="data-clipboard-"+t;if(e.hasAttribute(t))return e.getAttribute(t)}t.exports=n},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var n=n(2),a=(n=n)&&n.__esModule?n:{default:n};r(c,[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir"),e=(this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",window.pageYOffset||document.documentElement.scrollTop);this.fakeElem.style.top=e+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]);n=c;function c(t){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.resolveOptions(t),this.initSelection()}t.exports=n},function(t,e){t.exports=function(t){var e,n;return t="SELECT"===t.nodeName?(t.focus(),t.value):"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((e=t.hasAttribute("readonly"))||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),e||t.removeAttribute("readonly"),t.value):(t.hasAttribute("contenteditable")&&t.focus(),e=window.getSelection(),(n=document.createRange()).selectNodeContents(t),e.removeAllRanges(),e.addRange(n),e.toString())}},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function r(){o.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var u=n(5),s=n(6);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!u.string(e))throw new TypeError("Second argument must be a String");if(!u.fn(n))throw new TypeError("Third argument must be a Function");if(u.node(t))return c=e,l=n,(a=t).addEventListener(c,l),{destroy:function(){a.removeEventListener(c,l)}};if(u.nodeList(t))return o=t,r=e,i=n,Array.prototype.forEach.call(o,function(t){t.addEventListener(r,i)}),{destroy:function(){Array.prototype.forEach.call(o,function(t){t.removeEventListener(r,i)})}};if(u.string(t))return s(document.body,t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,r,i,a,c,l}},function(t,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){var a=n(7);function i(t,e,n,o,r){var i=function(e,n,t,o){return function(t){t.delegateTarget=a(t.target,n),t.delegateTarget&&o.call(e,t)}}.apply(this,arguments);return t.addEventListener(n,i,r),{destroy:function(){t.removeEventListener(n,i,r)}}}t.exports=function(t,e,n,o,r){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,o,r)}))}},function(t,e){var n;"undefined"==typeof Element||Element.prototype.matches||((n=Element.prototype).matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector),t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}}],o={},r.m=n,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0);function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,o},"object"==typeof e&&"object"==typeof n?n.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof e?e.ClipboardJS=r():o.ClipboardJS=r()});
;/*!wiki-common:widget/lib/kinetic/kinetic.js*/
define("wiki-common:widget/lib/kinetic/kinetic",function(M,R,I){var e,i,n,a,r,t,s,o,h,c,l,d,u,f,g,W,z,st,p,v,_,m,y,S,C,x,F,w,b,N,B,U,E,O,H,Y,X,V,q,j,Q,J,P,T,K,Z,A,$,tt,G={};function et(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function k(t,e,i){i=4*(i*t.width+e),e=[];return e.push(t.data[i++],t.data[i++],t.data[i++],t.data[+i]),e}function D(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function it(t,e){var i=k(t,0,0),n=k(t,t.width-1,0),a=k(t,0,t.height-1),r=k(t,t.width-1,t.height-1),s=e||10;if(D(i,n)<s&&D(n,r)<s&&D(r,a)<s&&D(a,i)<s){for(var o=function(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([n,i,r,a]),h=[],c=0;c<t.width*t.height;c++){var l=D(o,[t.data[4*c],t.data[4*c+1],t.data[4*c+2]]);h[c]=l<s?0:255}return h}}function L(t,e,i,n,a){i-=e,a-=n;return 0==i?n+a/2:0==a?n:a*((t-e)/i)+n}function nt(t){G.root.setTimeout(t,1e3/60)}function at(t){t.fill()}function rt(t){t.stroke()}function ot(t){t.fill()}function ht(t){t.stroke()}function ct(){this._clearCache(F)}function lt(t){t.fillText(this.partialText,0,0)}function dt(t){t.strokeText(this.partialText,0,0)}function ut(t){t.fillText(this.partialText,0,0)}function ft(t){t.strokeText(this.partialText,0,0)}t=this,e=Math.PI/180,G={version:"5.1.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,UA:(t=t.navigator&&t.navigator.userAgent||"",x=t.toLowerCase(),x=/(chrome)[ \/]([\w.]+)/.exec(x)||/(webkit)[ \/]([\w.]+)/.exec(x)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(x)||/(msie) ([\w.]+)/.exec(x)||x.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(x)||[],t=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),{browser:x[1]||"",version:x[2]||"0",mobile:t}),Filters:{},Node:function(t){this._init(t)},Shape:function(t){this.__init(t)},Container:function(t){this.__init(t)},Stage:function(t){this.___init(t)},BaseLayer:function(t){this.___init(t)},Layer:function(t){this.____init(t)},FastLayer:function(t){this.____init(t)},Group:function(t){this.___init(t)},isDragging:function(){var t=G.DD;return!!t&&t.isDragging},isDragReady:function(){var t=G.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){void 0!==e&&(void 0===this.names[e]&&(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(void 0!==t){var i=this.names[t];if(void 0!==i){for(var n=0;n<i.length;n++)i[n]._id===e&&i.splice(n,1);0===i.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*e:t}},x=(0,eval)("this"),"function"==typeof define&&define.amd&&define(function(){return G}),G.document=document,G.window=window,G.root=x,G.Collection=function(){var t=[].slice.call(arguments),e=t.length,i=0;for(this.length=e;i<e;i++)this[i]=t[i];return this},G.Collection.prototype=[],G.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},G.Collection.prototype.toArray=function(){for(var t=[],e=this.length,i=0;i<e;i++)t.push(this[i]);return t},G.Collection.toCollection=function(t){for(var e=new G.Collection,i=t.length,n=0;n<i;n++)e.push(t[n]);return e},G.Collection._mapMethod=function(n){G.Collection.prototype[n]=function(){for(var t=this.length,e=[].slice.call(arguments),i=0;i<t;i++)this[i][n].apply(this[i],e);return this}},G.Collection.mapMethods=function(t){for(var e in t.prototype)G.Collection._mapMethod(e)},G.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},G.Transform.prototype={copy:function(){return new G.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),t=Math.sin(t),i=this.m[0]*e+this.m[2]*t,n=this.m[1]*e+this.m[3]*t,a=this.m[0]*-t+this.m[2]*e,t=this.m[1]*-t+this.m[3]*e;return this.m[0]=i,this.m[1]=n,this.m[2]=a,this.m[3]=t,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var i=this.m[0]+this.m[2]*e,e=this.m[1]+this.m[3]*e,n=this.m[2]+this.m[0]*t,t=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=e,this.m[2]=n,this.m[3]=t,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],a=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],t=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=a,this.m[4]=r,this.m[5]=t,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,n=-this.m[2]*t,a=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),t=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=a,this.m[4]=r,this.m[5]=t,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var i=this.m[0],n=this.m[1],a=this.m[2],r=this.m[3],s=this.m[4],e=(i*(e-this.m[5])-n*(t-s))/(i*r-n*a);return this.translate((t-s-a*e)/i,e)}},i=Math.PI/180,n=180/Math.PI,a={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},r=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,G.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor==Object},_isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"==Object.prototype.toString.call(t)},_isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},_throttle:function(i,n,a){function r(){l=!1===a.leading?0:(new Date).getTime(),c=null,h=i.apply(s,o),s=o=null}var s,o,h,c=null,l=0;a=a||{};return function(){var t=(new Date).getTime(),e=(l||!1!==a.leading||(l=t),n-(t-l));return s=this,o=arguments,e<=0?(clearTimeout(c),c=null,l=t,h=i.apply(s,o),s=o=null):c||!1===a.trailing||(c=setTimeout(r,e)),h}},_hasMethods:function(t){var e,i=[];for(e in t)this._isFunction(t[e])&&i.push(e);return 0<i.length},createCanvasElement:function(){var t=G.document.createElement("canvas");return t.style=t.style||{},t},isBrowser:function(){return"object"!=typeof R},_isInDocument:function(t){for(;t=t.parentNode;)if(t==G.document)return!0;return!1},_simplifyArray:function(t){for(var e,i=[],n=t.length,a=G.Util,r=0;r<n;r++)e=t[r],a._isNumber(e)?e=Math.round(1e3*e)/1e3:a._isString(e)||(e=e.toString()),i.push(e);return i},_getImage:function(t,e){var i,n;t?this._isElement(t)?e(t):this._isString(t)?((i=new G.window.Image).onload=function(){e(i)},i.src=t):t.data?((n=G.Util.createCanvasElement()).width=t.width,n.height=t.height,n.getContext("2d").putImageData(t,0,0),this._getImage(n.toDataURL(),e)):e(null):e(null)},_getRGBAString:function(t){return["rgba(",t.red||0,",",t.green||0,",",t.blue||0,",",t.alpha||1,")"].join("")},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");t=parseInt(t,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in a?{r:(e=a[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=r.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},_merge:function(t,e){var i,n=this._clone(e);for(i in t)this._isObject(t[i])?n[i]=this._merge(t[i],n[i]):n[i]=t[i];return n},cloneObject:function(t){var e,i={};for(e in t)this._isObject(t[e])?i[e]=this.cloneObject(t[e]):this._isArray(t[e])?i[e]=this.cloneArray(t[e]):i[e]=t[e];return i},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*i},_radToDeg:function(t){return t*n},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},error:function(t){throw new Error("Kinetic error: "+t)},warn:function(t){G.root.console&&console.warn&&console.warn("Kinetic warning: "+t)},extend:function(t,e){for(var i in e.prototype)i in t.prototype||(t.prototype[i]=e.prototype[i])},addMethods:function(t,e){for(var i in e)t.prototype[i]=e[i]},_getControlPoints:function(t,e,i,n,a,r,s){var o=Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2)),h=Math.sqrt(Math.pow(a-i,2)+Math.pow(r-n,2)),c=s*o/(o+h),s=s*h/(o+h);return[i-c*(a-t),n-c*(r-e),i+s*(a-t),n+s*(r-e)]},_expandPoints:function(t,e){for(var i,n=t.length,a=[],r=2;r<n-2;r+=2)i=G.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e),a.push(i[0]),a.push(i[1]),a.push(t[r]),a.push(t[r+1]),a.push(i[2]),a.push(i[3]);return a},_removeLastLetter:function(t){return t.substring(0,t.length-1)}},t=G.Util.createCanvasElement().getContext("2d"),s=G.UA.mobile?(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1):1,G.Canvas=function(t){this.init(t)},G.Canvas.prototype={init:function(t){t=(t=t||{}).pixelRatio||G.pixelRatio||s;this.pixelRatio=t,this._canvas=G.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){this.pixelRatio=t,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px"},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return G.Util.warn("Unable to get data URL. "+t.message),""}}}},G.SceneCanvas=function(t){var e=(t=t||{}).width||0,i=t.height||0;G.Canvas.call(this,t),this.context=new G.SceneContext(this),this.setSize(e,i)},G.SceneCanvas.prototype={setWidth:function(t){var e=this.pixelRatio,i=this.getContext()._context;G.Canvas.prototype.setWidth.call(this,t),i.scale(e,e)},setHeight:function(t){var e=this.pixelRatio,i=this.getContext()._context;G.Canvas.prototype.setHeight.call(this,t),i.scale(e,e)}},G.Util.extend(G.SceneCanvas,G.Canvas),G.HitCanvas=function(t){var e=(t=t||{}).width||0,i=t.height||0;G.Canvas.call(this,t),this.context=new G.HitContext(this),this.setSize(e,i)},G.Util.extend(G.HitCanvas,G.Canvas),o=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],G.Context=function(t){this.init(t)},G.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),G.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(t){for(var e,i,n,a=this.traceArr,r=a.length,s="",o=0;o<r;o++)(i=(e=a[o]).method)?(n=e.args,s+=i,t?s+="()":G.Util._isArray(n[0])?s+="(["+n.join(",")+"])":s+="("+n.join(",")+")"):(s+=e.property,t||(s+="="+e.val)),s+=";";return s},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e=this.traceArr;e.push(t),e.length>=G.traceArrMax&&e.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(+t,0,0,+t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth(),e.getHeight())},_applyLineCap:function(t){t=t.getLineCap();t&&this.setAttr("lineCap",t)},_applyOpacity:function(t){t=t.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)},_applyLineJoin:function(t){t=t.getLineJoin();t&&this.setAttr("lineJoin",t)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},fill:function(){this._context.fill()},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){this._context.rotate(arguments[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){for(var n,a=this,t=o.length,r=G.Util._simplifyArray,e=this.setAttr,i=0;i<t;i++)!function(t){var e,i=a[t];a[t]=function(){return n=r(Array.prototype.slice.call(arguments,0)),e=i.apply(a,arguments),a._trace({method:t,args:n}),e}}(o[i]);a.setAttr=function(){e.apply(a,arguments),a._trace({property:arguments[0],val:arguments[1]})}}},G.SceneContext=function(t){G.Context.call(this,t)},G.SceneContext.prototype={_fillColor:function(t){var e=t.fill()||G.Util._getRGBAString({red:t.fillRed(),green:t.fillGreen(),blue:t.fillBlue(),alpha:t.fillAlpha()});this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternImage(),i=t.getFillPatternX(),n=t.getFillPatternY(),a=t.getFillPatternScale(),r=G.getAngle(t.getFillPatternRotation()),s=t.getFillPatternOffset(),t=t.getFillPatternRepeat();(i||n)&&this.translate(i||0,n||0),r&&this.rotate(r),a&&this.scale(a.x,a.y),s&&this.translate(-1*s.x,-1*s.y),this.setAttr("fillStyle",this.createPattern(e,t||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),i=t.getFillLinearGradientEndPoint(),n=t.getFillLinearGradientColorStops(),a=this.createLinearGradient(e.x,e.y,i.x,i.y);if(n){for(var r=0;r<n.length;r+=2)a.addColorStop(n[r],n[r+1]);this.setAttr("fillStyle",a),this.fill()}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),i=t.getFillRadialGradientEndPoint(),n=t.getFillRadialGradientStartRadius(),a=t.getFillRadialGradientEndRadius(),r=t.getFillRadialGradientColorStops(),s=this.createRadialGradient(e.x,e.y,n,i.x,i.y,a),o=0;o<r.length;o+=2)s.addColorStop(r[o],r[o+1]);this.setAttr("fillStyle",s),this.fill()},_fill:function(t){var e=t.fill()||t.fillRed()||t.fillGreen()||t.fillBlue(),i=t.getFillPatternImage(),n=t.getFillLinearGradientColorStops(),a=t.getFillRadialGradientColorStops(),r=t.getFillPriority();e&&"color"===r?this._fillColor(t):i&&"pattern"===r?this._fillPattern(t):n&&"linear-gradient"===r?this._fillLinearGradient(t):a&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):n?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),i=t.getStrokeScaleEnabled();t.hasStroke()&&(i||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&this.setLineDash(e),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()||G.Util._getRGBAString({red:t.strokeRed(),green:t.strokeGreen(),blue:t.strokeBlue(),alpha:t.strokeAlpha()})),t._strokeFunc(this),i||this.restore())},_applyShadow:function(t){var e=G.Util,i=t.getAbsoluteOpacity(),n=e.get(t.getShadowColor(),"black"),a=e.get(t.getShadowBlur(),5),r=e.get(t.getShadowOpacity(),1),e=e.get(t.getShadowOffset(),{x:0,y:0});r&&this.setAttr("globalAlpha",r*i),this.setAttr("shadowColor",n),this.setAttr("shadowBlur",a),this.setAttr("shadowOffsetX",e.x),this.setAttr("shadowOffsetY",e.y)}},G.Util.extend(G.SceneContext,G.Context),G.HitContext=function(t){G.Context.call(this,t)},G.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){t.hasStroke()&&(this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this))}},G.Util.extend(G.HitContext,G.Context),G.Factory={addGetterSetter:function(t,e,i,n,a){this.addGetter(t,e,i),this.addSetter(t,e,n,a),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,i){var n="get"+G.Util._capitalize(e);t.prototype[n]=function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter:function(t,e,i,n){var a="set"+G.Util._capitalize(e);t.prototype[a]=function(t){return i&&(t=i.call(this,t)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter:function(t,n,e,a,r){var i,s,o=e.length,h=G.Util._capitalize,c="get"+h(n),l="set"+h(n);t.prototype[c]=function(){var t={};for(i=0;i<o;i++)t[s=e[i]]=this.getAttr(n+h(s));return t},t.prototype[l]=function(t){var e,i=this.attrs[n];for(e in t=a?a.call(this,t):t)this._setAttr(n+h(e),t[e]);return this._fireChangeEvent(n,i,t),r&&r.call(this),this},this.addOverloadedGetterSetter(t,n)},addOverloadedGetterSetter:function(t,e){var i=G.Util._capitalize(e),n="set"+i,a="get"+i;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[a]()}},backCompat:function(t,e){for(var i in e)t.prototype[i]=t.prototype[e[i]]},afterSetFilter:function(){this._filterUpToDate=!1}},G.Validators={RGBComponent:function(t){return 255<t?255:t<0?0:Math.round(t)},alphaComponent:function(t){return 1<t?1:t<1e-4?1e-4:t}},h="absoluteOpacity",c="absoluteTransform",l="listening",d="transform",u="visible",f=["id"],g=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(" "),G.Util.addMethods(G.Node,{_init:function(t){var e=this;this._id=G.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(t),this.on(g,function(){this._clearCache(d),e._clearSelfAndDescendantCache(c)}),this.on("visibleChange.kinetic",function(){e._clearSelfAndDescendantCache(u)}),this.on("listeningChange.kinetic",function(){e._clearSelfAndDescendantCache(l)}),this.on("opacityChange.kinetic",function(){e._clearSelfAndDescendantCache(h)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){return void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(e){this._clearCache(e),this.children&&this.getChildren().each(function(t){t._clearSelfAndDescendantCache(e)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){var e,i,n,a,r,t=t||{},s=t.x||0,o=t.y||0,h=t.width||this.width(),c=t.height||this.height(),t=t.drawBorder||!1;this.getLayer();{if(0!==h&&0!==c)return e=new G.SceneCanvas({pixelRatio:1,width:h,height:c}),i=new G.SceneCanvas({pixelRatio:1,width:h,height:c}),n=new G.HitCanvas({width:h,height:c}),this.transformsEnabled(),this.x(),this.y(),a=e.getContext(),r=n.getContext(),this.clearCache(),a.save(),r.save(),t&&(a.save(),a.beginPath(),a.rect(0,0,h,c),a.closePath(),a.setAttr("strokeStyle","red"),a.setAttr("lineWidth",5),a.stroke(),a.restore()),a.translate(-1*s,-1*o),r.translate(-1*s,-1*o),"Shape"===this.nodeType&&(a.translate(-1*this.x(),-1*this.y()),r.translate(-1*this.x(),-1*this.y())),this.drawScene(e,this),this.drawHit(n,this),a.restore(),r.restore(),this._cache.canvas={scene:e,filter:i,hit:n},this;G.Util.warn("Width or height of caching configuration equals 0. Cache is ignored.")}},_drawCachedSceneCanvas:function(t){t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(this._getCachedSceneCanvas()._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var t,e,i,n=this.filters(),a=this._cache.canvas,r=a.scene,a=a.filter,s=a.getContext();if(n){if(!this._filterUpToDate){try{for(t=n.length,s.clear(),s.drawImage(r._canvas,0,0),e=s.getImageData(0,0,a.getWidth(),a.getHeight()),i=0;i<t;i++)n[i].call(this,e),s.putImageData(e,0,0)}catch(t){G.Util.warn("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return a}return r},_drawCachedHitCanvas:function(t){var e=this._cache.canvas.hit;t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(e._canvas,0,0),t.restore()},on:function(t,e){for(var i,n,a=t.split(" "),r=a.length,s=0;s<r;s++)i=(n=a[s].split("."))[0],n=n[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:n,handler:e});return this},off:function(t){for(var e,i,n,a,r=t.split(" "),s=r.length,o=0;o<s;o++)if(n=(i=r[o].split("."))[0],a=i[1],n)this.eventListeners[n]&&this._off(n,a);else for(e in this.eventListeners)this._off(e,a);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};this.fire(t.type,e)},addEventListener:function(t,e){this.on(t,function(t){e.call(this,t.evt)})},remove:function(){var t=this.getParent();return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this},destroy:function(){G._removeId(this.getId()),G._removeName(this.getName(),this._id),this.remove()},getAttr:function(t){var e="get"+G.Util._capitalize(t);return G.Util._isFunction(this[e])?this[e]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),e=new G.Collection;t;)e.push(t),t=t.getParent();return e},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var e,i;if(t)for(e in t)"children"!==e&&(i="set"+G.Util._capitalize(e),G.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]));return this},isListening:function(){return this._getCache(l,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache(u,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(){var t=this.getLayer();return t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()&&!G.isDragging()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var i,n,a,r,s=this.getDepth(),o=this,h=0;return"Stage"!==o.nodeType&&function t(e){for(i=[],n=e.length,a=0;a<n;a++)r=e[a],h++,"Shape"!==r.nodeType&&(i=i.concat(r.getChildren().toArray())),r._id===o._id&&(a=n);0<i.length&&i[0].getDepth()<=s&&t(i)}(o.getStage().getChildren()),h},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var t=this.getAbsoluteTransform().getMatrix(),e=new G.Transform,i=this.offset();return e.m=t.slice(),e.translate(i.x,i.y),e.getTranslation()},setAbsolutePosition:function(t){var e,i=this._clearTransform();return this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(i),this},_setTransform:function(t){for(var e in t)this.attrs[e]=t[e];this._clearCache(d),this._clearSelfAndDescendantCache(c)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(d),this._clearSelfAndDescendantCache(c),t},move:function(t){var e=t.x,t=t.y,i=this.getX(),n=this.getY();return void 0!==e&&(i+=e),void 0!==t&&(n+=t),this.setPosition({x:i,y:n}),this},_eachAncestorReverse:function(t,e){var i,n,a=[],r=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(a.unshift(this);r&&(!e||r._id!==e._id);)a.unshift(r),r=r.parent;for(i=a.length,n=0;n<i;n++)t(a[n])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){var t;{if(this.parent)return t=this.index,this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0;G.Util.warn("Node has no parent. moveToTop function is ignored.")}},moveUp:function(){var t;{if(this.parent)return(t=this.index)<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0);G.Util.warn("Node has no parent. moveUp function is ignored.")}},moveDown:function(){var t;{if(this.parent)return 0<(t=this.index)&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0);G.Util.warn("Node has no parent. moveDown function is ignored.")}},moveToBottom:function(){var t;{if(this.parent)return 0<(t=this.index)&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0);G.Util.warn("Node has no parent. moveToBottom function is ignored.")}},setZIndex:function(t){var e;{if(this.parent)return e=this.index,this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this;G.Util.warn("Node has no parent. zIndex parameter is ignored.")}},getAbsoluteOpacity:function(){return this._getCache(h,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity();return this.getParent()&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return G.Node.prototype.remove.call(this),t.add(this),this},toObject:function(){var t,e,i,n=G.Util,a={},r=this.getAttrs();for(t in a.attrs={},r)e=r[t],n._isFunction(e)||n._isElement(e)||n._isObject(e)&&n._hasMethods(e)||(i=this[t],delete r[t],(i?i.call(this):null)!==(r[t]=e)&&(a.attrs[t]=e));return a.className=this.getClassName(),a},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var t=this.getParent();if(t)return t.getStage()},fire:function(t,e,i){return i?this._fireAndBubble(t,e||{}):this._fire(t,e||{}),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(c,this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var e,i,n=new G.Transform;return this._eachAncestorReverse(function(t){e=t.transformsEnabled(),i=t.getTransform(),"all"===e?n.multiply(i):"position"===e&&n.translate(t.x(),t.y())},t),n},getTransform:function(){return this._getCache(d,this._getTransform)},_getTransform:function(){var t=new G.Transform,e=this.getX(),i=this.getY(),n=G.getAngle(this.getRotation()),a=this.getScaleX(),r=this.getScaleY(),s=this.getSkewX(),o=this.getSkewY(),h=this.getOffsetX(),c=this.getOffsetY();return 0===e&&0===i||t.translate(e,i),0!==n&&t.rotate(n),0===s&&0===o||t.skew(s,o),1===a&&1===r||t.scale(a,r),0===h&&0===c||t.translate(-1*h,-1*c),t},clone:function(t){var e,i,n,a,r,s,o=this.getClassName(),h=G.Util.cloneObject(this.attrs);for(s in f)delete h[f[s]];for(e in t)h[e]=t[e];var c=new G[o](h);for(e in this.eventListeners)for(n=(i=this.eventListeners[e]).length,a=0;a<n;a++)(r=i[a]).name.indexOf("kinetic")<0&&(c.eventListeners[e]||(c.eventListeners[e]=[]),c.eventListeners[e].push(r));return c},toDataURL:function(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,n=this.getStage(),a=t.x||0,r=t.y||0,t=new G.SceneCanvas({width:t.width||this.getWidth()||(n?n.getWidth():0),height:t.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:1}),n=t.getContext();return n.save(),(a||r)&&n.translate(-1*a,-1*r),this.drawScene(t),n.restore(),t.toDataURL(e,i)},toImage:function(e){G.Util._getImage(this.toDataURL(e),function(t){e.callback(t)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():G.dragDistance},_get:function(t){return this.nodeType===t?[this]:[]},_off:function(t,e){for(var i,n=this.eventListeners[t],a=0;a<n.length;a++)if(!("kinetic"===(i=n[a].name)&&"kinetic"!==e||e&&i!==e)){if(n.splice(a,1),0===n.length){delete this.eventListeners[t];break}a--}},_fireChangeEvent:function(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})},setId:function(t){var e=this.getId();return G._removeId(e),G._addId(this,t),this._setAttr("id",t),this},setName:function(t){var e=this.getName();return G._removeName(e,this._id),G._addName(this,t),this._setAttr("name",t),this},setAttr:function(){var t=Array.prototype.slice.call(arguments),e=t[0],t=t[1],i=this["set"+G.Util._capitalize(e)];return G.Util._isFunction(i)?i.call(this,t):this._setAttr(e,t),this},_setAttr:function(t,e){var i;void 0!==e&&(i=this.attrs[t],this.attrs[t]=e,this._fireChangeEvent(t,i,e))},_setComponentAttr:function(t,e,i){var n;void 0!==i&&((n=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,n,i))},_fireAndBubble:function(t,e,i){var n=!0;e&&"Shape"===this.nodeType&&(e.target=this),(n="mouseenter"===t&&i&&this._id===i._id||"mouseleave"===t&&i&&this._id===i._id?!1:n)&&(this._fire(t,e),e&&!e.cancelBubble&&this.parent&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i.parent):this._fireAndBubble.call(this.parent,t,e)))},_fire:function(t,e){var i,n=this.eventListeners[t];if(e.type=t,n)for(i=0;i<n.length;i++)n[i].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),G.Node.create=function(t,e){return this._createNode(JSON.parse(t),e)},G.Node._createNode=function(t,e){var i,n,a,r=G.Node.prototype.getClassName.call(t),s=t.children;if(e&&(t.attrs.container=e),i=new G[r](t.attrs),s)for(n=s.length,a=0;a<n;a++)i.add(this._createNode(s[a]));return i},G.Factory.addOverloadedGetterSetter(G.Node,"position"),G.Factory.addGetterSetter(G.Node,"x",0),G.Factory.addGetterSetter(G.Node,"y",0),G.Factory.addGetterSetter(G.Node,"opacity",1),G.Factory.addGetter(G.Node,"name"),G.Factory.addOverloadedGetterSetter(G.Node,"name"),G.Factory.addGetter(G.Node,"id"),G.Factory.addOverloadedGetterSetter(G.Node,"id"),G.Factory.addGetterSetter(G.Node,"rotation",0),G.Factory.addComponentsGetterSetter(G.Node,"scale",["x","y"]),G.Factory.addGetterSetter(G.Node,"scaleX",1),G.Factory.addGetterSetter(G.Node,"scaleY",1),G.Factory.addComponentsGetterSetter(G.Node,"skew",["x","y"]),G.Factory.addGetterSetter(G.Node,"skewX",0),G.Factory.addGetterSetter(G.Node,"skewY",0),G.Factory.addComponentsGetterSetter(G.Node,"offset",["x","y"]),G.Factory.addGetterSetter(G.Node,"offsetX",0),G.Factory.addGetterSetter(G.Node,"offsetY",0),G.Factory.addSetter(G.Node,"dragDistance"),G.Factory.addOverloadedGetterSetter(G.Node,"dragDistance"),G.Factory.addSetter(G.Node,"width",0),G.Factory.addOverloadedGetterSetter(G.Node,"width"),G.Factory.addSetter(G.Node,"height",0),G.Factory.addOverloadedGetterSetter(G.Node,"height"),G.Factory.addGetterSetter(G.Node,"listening","inherit"),G.Factory.addGetterSetter(G.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),G.Factory.addGetterSetter(G.Node,"visible","inherit"),G.Factory.addGetterSetter(G.Node,"transformsEnabled","all"),G.Factory.addOverloadedGetterSetter(G.Node,"size"),G.Factory.backCompat(G.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),G.Collection.mapMethods(G.Node),G.Filters.Grayscale=function(t){for(var e,i=t.data,n=i.length,a=0;a<n;a+=4)e=.34*i[a]+.5*i[a+1]+.16*i[a+2],i[a]=e,i[a+1]=e,i[a+2]=e},G.Filters.Brighten=function(t){for(var e=255*this.brightness(),i=t.data,n=i.length,a=0;a<n;a+=4)i[a]+=e,i[a+1]+=e,i[a+2]+=e},G.Factory.addGetterSetter(G.Node,"brightness",0,null,G.Factory.afterSetFilter),G.Filters.Invert=function(t){for(var e=t.data,i=e.length,n=0;n<i;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]},W=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],z=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],G.Filters.Blur=function(t){var N=Math.round(this.blurRadius());if(0<N){for(var e,i,n,a,r,B,s,o,h,c,l,d,u,f,g,p,v,_,m,y,S,C,x,F=N,w=t.data,b=t.width,U=t.height,E=F+F+1,P=b-1,O=U-1,T=F+1,A=T*(T+1)/2,G=new et,H=null,k=G,D=null,L=null,M=W[F],R=z[F],I=1;I<E;I++)k=k.next=new et,I==T&&(H=k);for(k.next=G,i=B=r=0;i<U;i++){for(g=p=v=_=s=o=h=c=0,l=T*(m=w[r]),d=T*(y=w[r+1]),u=T*(S=w[r+2]),f=T*(C=w[r+3]),s+=A*m,o+=A*y,h+=A*S,c+=A*C,k=G,I=0;I<T;I++)k.r=m,k.g=y,k.b=S,k.a=C,k=k.next;for(I=1;I<T;I++)s+=(k.r=m=w[n=r+((P<I?P:I)<<2)])*(x=T-I),o+=(k.g=y=w[n+1])*x,h+=(k.b=S=w[n+2])*x,c+=(k.a=C=w[n+3])*x,g+=m,p+=y,v+=S,_+=C,k=k.next;for(D=G,L=H,e=0;e<b;e++)w[r+3]=C=c*M>>R,0!==C?(w[r]=(s*M>>R)*(C=255/C),w[r+1]=(o*M>>R)*C,w[r+2]=(h*M>>R)*C):w[r]=w[r+1]=w[r+2]=0,s-=l,o-=d,h-=u,c-=f,l-=D.r,d-=D.g,u-=D.b,f-=D.a,n=B+((n=e+F+1)<P?n:P)<<2,s+=g+=D.r=w[n],o+=p+=D.g=w[n+1],h+=v+=D.b=w[n+2],c+=_+=D.a=w[n+3],D=D.next,l+=m=L.r,d+=y=L.g,u+=S=L.b,f+=C=L.a,g-=m,p-=y,v-=S,_-=C,L=L.next,r+=4;B+=b}for(e=0;e<b;e++){for(p=v=_=g=o=h=c=s=0,l=T*(m=w[r=e<<2]),d=T*(y=w[r+1]),u=T*(S=w[r+2]),f=T*(C=w[r+3]),s+=A*m,o+=A*y,h+=A*S,c+=A*C,k=G,I=0;I<T;I++)k.r=m,k.g=y,k.b=S,k.a=C,k=k.next;for(a=b,I=1;I<=F;I++)s+=(k.r=m=w[r=a+e<<2])*(x=T-I),o+=(k.g=y=w[r+1])*x,h+=(k.b=S=w[r+2])*x,c+=(k.a=C=w[r+3])*x,g+=m,p+=y,v+=S,_+=C,k=k.next,I<O&&(a+=b);for(r=e,D=G,L=H,i=0;i<U;i++)w[(n=r<<2)+3]=C=c*M>>R,0<C?(w[n]=(s*M>>R)*(C=255/C),w[n+1]=(o*M>>R)*C,w[n+2]=(h*M>>R)*C):w[n]=w[n+1]=w[n+2]=0,s-=l,o-=d,h-=u,c-=f,l-=D.r,d-=D.g,u-=D.b,f-=D.a,n=e+((n=i+T)<O?n:O)*b<<2,s+=g+=D.r=w[n],o+=p+=D.g=w[n+1],h+=v+=D.b=w[n+2],c+=_+=D.a=w[n+3],D=D.next,l+=m=L.r,d+=y=L.g,u+=S=L.b,f+=C=L.a,g-=m,p-=y,v-=S,_-=C,L=L.next,r+=b}}},G.Factory.addGetterSetter(G.Node,"blurRadius",0,null,G.Factory.afterSetFilter),G.Filters.Mask=function(t){if(e=it(t,this.threshold()))for(var e=function(t,e,i){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],a=Math.round(Math.sqrt(n.length)),r=Math.floor(a/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var c=o*e+h,l=0,d=0;d<a;d++)for(var u=0;u<a;u++){var f=o+d-r,g=h+u-r;0<=f&&f<i&&0<=g&&g<e&&(l+=t[f*e+g]*n[d*a+u])}s[c]=l}return s}(function(t,e,i){for(var n=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(n.length)),r=Math.floor(a/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var c=o*e+h,l=0,d=0;d<a;d++)for(var u=0;u<a;u++){var f=o+d-r,g=h+u-r;0<=f&&f<i&&0<=g&&g<e&&(l+=t[f*e+g]*n[d*a+u])}s[c]=1020<=l?255:0}return s}(function(t,e,i){for(var n=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(n.length)),r=Math.floor(a/2),s=[],o=0;o<i;o++)for(var h=0;h<e;h++){for(var c=o*e+h,l=0,d=0;d<a;d++)for(var u=0;u<a;u++){var f=o+d-r,g=h+u-r;0<=f&&f<i&&0<=g&&g<e&&(l+=t[f*e+g]*n[d*a+u])}s[c]=2040===l?255:0}return s}(e,t.width,t.height),t.width,t.height),t.width,t.height),i=t,n=e,a=0;a<i.width*i.height;a++)i.data[4*a+3]=n[a];return t},G.Factory.addGetterSetter(G.Node,"threshold",0,null,G.Factory.afterSetFilter),G.Filters.RGB=function(t){for(var e,i=t.data,n=i.length,a=this.red(),r=this.green(),s=this.blue(),o=0;o<n;o+=4)e=(.34*i[o]+.5*i[o+1]+.16*i[o+2])/255,i[o]=e*a,i[o+1]=e*r,i[o+2]=e*s,i[o+3]=i[o+3]},G.Factory.addGetterSetter(G.Node,"red",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),G.Factory.addGetterSetter(G.Node,"green",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),G.Factory.addGetterSetter(G.Node,"blue",0,G.Validators.RGBComponent,G.Factory.afterSetFilter),G.Filters.HSV=function(t){for(var e,i,n,a,r=t.data,s=r.length,t=Math.pow(2,this.value()),o=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=t*o*Math.cos(h*Math.PI/180),o=t*o*Math.sin(h*Math.PI/180),l=.299*t+.701*c+.167*o,d=.587*t-.587*c+.33*o,u=.114*t-.114*c-.497*o,f=.299*t-.299*c-.328*o,g=.587*t+.413*c+.035*o,p=.114*t-.114*c+.293*o,v=.299*t-.3*c+1.25*o,_=.587*t-.586*c-1.05*o,m=.114*t+.886*c-.2*o,y=0;y<s;y+=4)e=r[y+0],i=r[y+1],n=r[y+2],a=r[y+3],r[y+0]=l*e+d*i+u*n,r[y+1]=f*e+g*i+p*n,r[y+2]=v*e+_*i+m*n,r[y+3]=a},G.Factory.addGetterSetter(G.Node,"hue",0,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"saturation",0,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"value",0,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"hue",0,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"saturation",0,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"luminance",0,null,G.Factory.afterSetFilter),G.Filters.HSL=function(t){for(var e,i,n,a,r=t.data,s=r.length,t=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,h=127*this.luminance(),c=+t*Math.cos(o*Math.PI/180),t=+t*Math.sin(o*Math.PI/180),l=.299+.701*c+.167*t,d=.587-.587*c+.33*t,u=.114-.114*c-.497*t,f=.299-.299*c-.328*t,g=.587+.413*c+.035*t,p=.114-.114*c+.293*t,v=.299-.3*c+1.25*t,_=.587-.586*c-1.05*t,m=.114+.886*c-.2*t,y=0;y<s;y+=4)e=r[y+0],i=r[y+1],n=r[y+2],a=r[y+3],r[y+0]=l*e+d*i+u*n+h,r[y+1]=f*e+g*i+p*n+h,r[y+2]=v*e+_*i+m*n+h,r[y+3]=a},G.Filters.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),n=this.embossDirection(),a=this.embossBlend(),r=0,s=0,o=t.data,h=t.width,c=t.height,l=4*h,d=c;switch(n){case"top-left":s=r=-1;break;case"top":r=-1,s=0;break;case"top-right":r=-1,s=1;break;case"right":r=0,s=1;break;case"bottom-right":s=r=1;break;case"bottom":r=1,s=0;break;case"bottom-left":s=-(r=1);break;case"left":r=0,s=-1}do{var u=(d-1)*l,f=r,g=(d-1+(f=c<d+(f=d+r<1?0:r)?0:f))*h*4,p=h;do{var v=u+4*(p-1),_=s,_=g+4*(p-1+(_=h<p+(_=p+s<1?0:s)?0:_)),m=o[v]-o[_],y=o[1+v]-o[1+_],_=o[2+v]-o[2+_],S=0<m?m:-m}while(S<(0<y?y:-y)&&(m=y),S<(0<_?_:-_)&&(m=_),m*=e,a?(y=o[v]+m,S=o[1+v]+m,_=o[2+v]+m,o[v]=255<y?255:y<0?0:y,o[1+v]=255<S?255:S<0?0:S,o[2+v]=255<_?255:_<0?0:_):((y=i-m)<0?y=0:255<y&&(y=255),o[v]=o[1+v]=o[2+v]=y),--p)}while(--d)},G.Factory.addGetterSetter(G.Node,"embossStrength",.5,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"embossWhiteLevel",.5,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"embossDirection","top-left",null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"embossBlend",!1,null,G.Factory.afterSetFilter),G.Filters.Enhance=function(t){var e,i,n,a,r,s,o,h,c,l=t.data,d=l.length,u=l[0],f=u,g=l[1],p=g,v=l[2],_=v,t=l[3],m=t,y=this.enhance();if(0!==y){for(i=0;i<d;i+=4)(e=l[i+0])<u?u=e:f<e&&(f=e),(e=l[i+1])<g?g=e:p<e&&(p=e),(e=l[i+2])<v?v=e:_<e&&(_=e);for(f===u&&(f=255,u=0),p===g&&(p=255,g=0),_===v&&(_=255,v=0),m===t&&(m=255,t=0),0<y?(n=f+y*(255-f),a=u-y*+u,r=p+y*(255-p),s=g-y*+g,o=_+y*(255-_),c=v-y*+v,t-y*+t):(n=f+y*(f-(h=.5*(f+u))),a=u+y*(u-h),r=p+y*(p-(h=.5*(p+g))),s=g+y*(g-h),o=_+y*(_-(h=.5*(_+v))),c=v+y*(v-h),h=.5*(m+t),t+y*(t-h)),i=0;i<d;i+=4)l[i+0]=L(l[i+0],u,f,a,n),l[i+1]=L(l[i+1],g,p,s,r),l[i+2]=L(l[i+2],v,_,c,o)}},G.Factory.addGetterSetter(G.Node,"enhance",0,null,G.Factory.afterSetFilter),G.Filters.Posterize=function(t){for(var e=Math.round(254*this.levels())+1,i=t.data,n=i.length,a=255/e,r=0;r<n;r+=1)i[r]=Math.floor(i[r]/a)*a},G.Factory.addGetterSetter(G.Node,"levels",.5,null,G.Factory.afterSetFilter),G.Filters.Noise=function(t){for(var e=255*this.noise(),i=t.data,n=i.length,a=e/2,r=0;r<n;r+=4)i[r+0]+=a-2*a*Math.random(),i[r+1]+=a-2*a*Math.random(),i[r+2]+=a-2*a*Math.random()},G.Factory.addGetterSetter(G.Node,"noise",.2,null,G.Factory.afterSetFilter),G.Filters.Pixelate=function(t){var e,i,n,a,r,s,o,h,c,l,d,u,f,g,p=Math.ceil(this.pixelSize()),v=t.width,_=t.height,m=Math.ceil(v/p),y=Math.ceil(_/p);for(t=t.data,u=0;u<m;u+=1)for(f=0;f<y;f+=1){for(c=(h=u*p)+p,d=(l=f*p)+p,g=o=s=r=a=0,e=h;e<c;e+=1)if(!(v<=e))for(i=l;i<d;i+=1)_<=i||(a+=t[(n=4*(v*i+e))+0],r+=t[n+1],s+=t[n+2],o+=t[n+3],g+=1);for(a/=g,r/=g,s/=g,e=h;e<c;e+=1)if(!(v<=e))for(i=l;i<d;i+=1)_<=i||(t[(n=4*(v*i+e))+0]=a,t[n+1]=r,t[n+2]=s,t[n+3]=o)}},G.Factory.addGetterSetter(G.Node,"pixelSize",8,null,G.Factory.afterSetFilter),G.Filters.Threshold=function(t){for(var e=255*this.threshold(),i=t.data,n=i.length,a=0;a<n;a+=1)i[a]=i[a]<e?0:255},G.Factory.addGetterSetter(G.Node,"threshold",.5,null,G.Factory.afterSetFilter),G.Filters.Sepia=function(t){var e,i,n,a,r,s,o,h,c=t.data,l=t.width,d=t.height,u=4*l;do{for(e=(d-1)*u,i=l;o=.349*(s=c[n=e+4*(i-1)])+.686*(a=c[1+n])+.168*(r=c[2+n]),h=.272*s+.534*a+.131*r,c[n]=255<(s=.393*s+.769*a+.189*r)?255:s,c[1+n]=255<o?255:o,c[2+n]=255<h?255:h,c[3+n]=c[3+n],--i;);}while(--d)},G.Filters.Solarize=function(t){var e=t.data,i=t.width,n=4*i,a=t.height;do{var r=(a-1)*n,s=i;do{var o=r+4*(s-1),h=e[o],c=e[1+o],l=e[2+o]}while(127<h&&(h=255-h),127<c&&(c=255-c),127<l&&(l=255-l),e[o]=h,e[1+o]=c,e[2+o]=l,--s)}while(--a)},st=G.Util.createCanvasElement(),G.Filters.Kaleidoscope=function(t){var e,i,N,B,n,a,r,s,o,h,c=t.width,l=t.height,d=Math.round(this.kaleidoscopePower()),u=Math.round(this.kaleidoscopeAngle()),U=Math.floor(c*(u%360)/360);if(!(d<1)){st.width=c,st.height=l;for(var f,E,O,H,W,g,z,Y,p=st.getContext("2d").getImageData(0,0,c,l),u=p,v={polarCenterX:c/2,polarCenterY:l/2},_=(w=t).data,m=u.data,y=w.width,u=w.height,S=v.polarCenterX||y/2,C=v.polarCenterY||u/2,x=Math.sqrt(S*S+C*C),F=y-S,w=u-C,v=Math.sqrt(F*F+w*w),x=x<v?v:x,X=u,V=y,q=360/V*Math.PI/180,b=0;b<V;b+=1)for(z=Math.sin(b*q),Y=Math.cos(b*q),g=0;g<X;g+=1)F=Math.floor(S+x*g/X*Y),E=_[0+(f=4*(Math.floor(C+x*g/X*z)*y+F))],O=_[1+f],H=_[2+f],W=_[3+f],m[0+(f=4*(b+g*y))]=E,m[1+f]=O,m[2+f]=H,m[3+f]=W;for(var P=c/Math.pow(2,d);P<=8;)P*=2,--d;var T=P=Math.ceil(P),j=0,Q=T,J=1;for(c<U+P&&(j=T,Q=0,J=-1),i=0;i<l;i+=1)for(e=j;e!==Q;e+=J)N=Math.round(e+U)%c,n=p.data[(o=4*(c*i+N))+0],a=p.data[o+1],r=p.data[o+2],s=p.data[o+3],p.data[(h=4*(c*i+e))+0]=n,p.data[h+1]=a,p.data[h+2]=r,p.data[h+3]=s;for(i=0;i<l;i+=1)for(T=Math.floor(P),B=0;B<d;B+=1){for(e=0;e<T+1;e+=1)n=p.data[(o=4*(c*i+e))+0],a=p.data[o+1],r=p.data[o+2],s=p.data[o+3],p.data[(h=4*(c*i+2*T-e-1))+0]=n,p.data[h+1]=a,p.data[h+2]=r,p.data[h+3]=s;T*=2}var K,Z,A,G,k,w=p,v=t,u={polarRotation:0},D=w.data,L=v.data,M=w.width,$=w.height,tt=u.polarCenterX||M/2,et=u.polarCenterY||$/2,it=Math.sqrt(tt*tt+et*et),R=M-tt,I=$-et,v=Math.sqrt(R*R+I*I),it=it<v?v:it,nt=$,at=M,rt=u.polarRotation||0;for(R=0;R<M;R+=1)for(I=0;I<$;I+=1)k=R-tt,G=I-et,A=Math.sqrt(k*k+G*G)*nt/it,G=(180*Math.atan2(G,k)/Math.PI+360+rt)%360,k=Math.floor(G*at/360),A=D[0+(G=4*(Math.floor(A)*M+k))],k=D[1+G],K=D[2+G],Z=D[3+G],L[0+(G=4*(I*M+R))]=A,L[1+G]=k,L[2+G]=K,L[3+G]=Z}},G.Factory.addGetterSetter(G.Node,"kaleidoscopePower",2,null,G.Factory.afterSetFilter),G.Factory.addGetterSetter(G.Node,"kaleidoscopeAngle",0,null,G.Factory.afterSetFilter),(0,eval)("this"),p=G.root.performance&&G.root.performance.now?function(){return G.root.performance.now()}:function(){return(new Date).getTime()},v=G.root.requestAnimationFrame||G.root.webkitRequestAnimationFrame||G.root.mozRequestAnimationFrame||G.root.oRequestAnimationFrame||G.root.msRequestAnimationFrame||nt,G.Animation=function(t,e){var i=G.Animation;this.func=t,this.setLayers(e),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:p()}},G.Animation.prototype={setLayers:function(t){var e=[],e=t?0<t.length?t:[t]:[];this.layers=e},getLayers:function(){return this.layers},addLayer:function(t){var e,i,n=this.layers;if(n){for(e=n.length,i=0;i<e;i++)if(n[i]._id===t._id)return!1}else this.layers=[];return this.layers.push(t),!0},isRunning:function(){for(var t=G.Animation.animations,e=t.length,i=0;i<e;i++)if(t[i].id===this.id)return!0;return!1},start:function(){var t=G.Animation;this.stop(),this.frame.timeDiff=0,this.frame.lastTime=p(),t._addAnimation(this)},stop:function(){G.Animation._removeAnimation(this)},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},G.Animation.animations=[],G.Animation.animIdCounter=0,G.Animation.animRunning=!1,G.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},G.Animation._removeAnimation=function(t){for(var e=t.id,i=this.animations,n=i.length,a=0;a<n;a++)if(i[a].id===e){this.animations.splice(a,1);break}},G.Animation._runFrames=function(){for(var t,e,i,n,a,r,s,o={},h=this.animations,c=0;c<h.length;c++){for(e=(t=h[c]).layers,i=t.func,t._updateFrameObject(p()),a=e.length,n=0;n<a;n++)void 0!==(r=e[n])._id&&(o[r._id]=r);i&&i.call(t,t.frame)}for(s in o)o[s].draw()},G.Animation._animationLoop=function(){var t=G.Animation;t.animations.length?(function(){v.apply(G.root,arguments)}(t._animationLoop),t._runFrames()):t.animRunning=!1},G.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,this._animationLoop())},_=G.Node.prototype.moveTo,G.Node.prototype.moveTo=function(t){_.call(this,t)},G.Layer.prototype.batchDraw=function(){var t=this,e=G.Animation;this.batchAnim||(this.batchAnim=new e(function(){t.lastBatchDrawTime&&500<p()-t.lastBatchDrawTime&&t.batchAnim.stop()},this)),this.lastBatchDrawTime=p(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},G.Stage.prototype.batchDraw=function(){this.getChildren().each(function(t){t.batchDraw()})},m={node:1,duration:1,easing:1,onFinish:1,yoyo:1},y=0,G.Tween=function(t){var e,i=this,n=t.node,a=n._id,r=t.duration||1,s=t.easing||G.Easings.Linear,o=!!t.yoyo;for(e in this.node=n,this._id=y++,this.anim=new G.Animation(function(){i.tween.onEnterFrame()},n.getLayer()),this.tween=new S(e,function(t){i._tweenFunc(t)},s,0,1,1e3*r,o),this._addListeners(),G.Tween.attrs[a]||(G.Tween.attrs[a]={}),G.Tween.attrs[a][this._id]||(G.Tween.attrs[a][this._id]={}),G.Tween.tweens[a]||(G.Tween.tweens[a]={}),t)void 0===m[e]&&this._addAttr(e,t[e]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset},G.Tween.attrs={},G.Tween.tweens={},G.Tween.prototype={_addAttr:function(t,e){var i,n,a,r,s=this.node,o=s._id,h=G.Tween.tweens[o][t];if(h&&delete G.Tween.attrs[o][h][t],i=s.getAttr(t),G.Util._isArray(e))for(n=[],r=e.length,a=0;a<r;a++)n.push(e[a]-i[a]);else n=e-i;G.Tween.attrs[o][this._id][t]={start:i,diff:n},G.Tween.tweens[o][t]=this._id},_tweenFunc:function(t){var e,i,n,a,r,s,o,h=this.node,c=G.Tween.attrs[h._id][this._id];for(e in c){if(n=(i=c[e]).start,a=i.diff,G.Util._isArray(n))for(r=[],o=n.length,s=0;s<o;s++)r.push(n[s]+a[s]*t);else r=n+a*t;h.setAttr(e,r)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){t.onFinish&&t.onFinish()},this.tween.onReset=function(){t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){this.node;return this.tween.reset(),this},seek:function(t){this.node;return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){this.node;return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,i=this._id,n=G.Tween.tweens[e];for(t in this.pause(),n)delete G.Tween.tweens[e][t];delete G.Tween.attrs[e][i]}},(S=function(t,e,i,n,a,r,s){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=a-this.begin,this.pause()}).prototype={fire:function(t){t=this[t];t&&t()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},pause:function(){this.state=1,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},G.Easings={BackEaseIn:function(t,e,i,n){return i*(t/=n)*t*(2.70158*t-1.70158)+e},BackEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*(2.70158*t+1.70158)+1)+e},BackEaseInOut:function(t,e,i,n){var a=1.70158;return(t/=n/2)<1?i/2*(t*t*((1+(a*=1.525))*t-a))+e:i/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+e},ElasticEaseIn:function(t,e,i,n,a,r){var s=0;return 0===t?e:1==(t/=n)?e+i:(r=r||.3*n,s=!a||a<Math.abs(i)?(a=i,r/4):r/(2*Math.PI)*Math.asin(i/a),-(a*Math.pow(2,10*--t)*Math.sin((t*n-s)*(2*Math.PI)/r))+e)},ElasticEaseOut:function(t,e,i,n,a,r){var s=0;return 0===t?e:1==(t/=n)?e+i:(r=r||.3*n,s=!a||a<Math.abs(i)?(a=i,r/4):r/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/r)+i+e)},ElasticEaseInOut:function(t,e,i,n,a,r){var s=0;return 0===t?e:2==(t/=n/2)?e+i:(r=r||n*(.3*1.5),s=!a||a<Math.abs(i)?(a=i,r/4):r/(2*Math.PI)*Math.asin(i/a),t<1?a*Math.pow(2,10*--t)*Math.sin((t*n-s)*(2*Math.PI)/r)*-.5+e:a*Math.pow(2,-10*--t)*Math.sin((t*n-s)*(2*Math.PI)/r)*.5+i+e)},BounceEaseOut:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,i,n){return i-G.Easings.BounceEaseOut(n-t,0,i,n)+e},BounceEaseInOut:function(t,e,i,n){return t<n/2?.5*G.Easings.BounceEaseIn(2*t,0,i,n)+e:.5*G.Easings.BounceEaseOut(2*t-n,0,i,n)+.5*i+e},EaseIn:function(t,e,i,n){return i*(t/=n)*t+e},EaseOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},EaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},StrongEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,n){return i*t/n+e}},G.DD={anim:new G.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=G.DD,i=e.node;if(i){if(!e.isDragging){var n=i.getStage().getPointerPosition(),a=i.dragDistance();if(Math.max(Math.abs(n.x-e.startPointerPos.x),Math.abs(n.y-e.startPointerPos.y))<a)return}i._setDragPosition(t),e.isDragging||(e.isDragging=!0,i.fire("dragstart",{type:"dragstart",target:i,evt:t},!0)),i.fire("dragmove",{type:"dragmove",target:i,evt:t},!0)}},_endDragBefore:function(t){var e,i=G.DD,n=i.node;n&&(n.nodeType,e=n.getLayer(),i.anim.stop(),i.isDragging&&(i.isDragging=!1,G.listenClickTap=!1,t&&(t.dragEndNode=n)),delete i.node,(e||n).draw())},_endDragAfter:function(t){var e=(t=t||{}).dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},G.Node.prototype.startDrag=function(){var t=G.DD,e=this.getStage(),i=this.getLayer(),e=e.getPointerPosition(),n=this.getAbsolutePosition();e&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=e,t.offset.x=e.x-n.x,t.offset.y=e.y-n.y,t.anim.setLayers(i||this.getLayers()),t.anim.start(),this._setDragPosition())},G.Node.prototype._setDragPosition=function(t){var e=G.DD,i=this.getStage().getPointerPosition(),n=this.getDragBoundFunc();i&&(i={x:i.x-e.offset.x,y:i.y-e.offset.y},void 0!==n&&(i=n.call(this,i,t)),this.setAbsolutePosition(i))},G.Node.prototype.stopDrag=function(){var t=G.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},G.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},C=G.Node.prototype.destroy,G.Node.prototype.destroy=function(){var t=G.DD;t.node&&t.node._id===this._id&&this.stopDrag(),C.call(this)},G.Node.prototype.isDragging=function(){var t=G.DD;return t.node&&t.node._id===this._id&&t.isDragging},G.Node.prototype._listenDrag=function(){var e=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(t){G.DD.node||e.startDrag(t)}):this.on("mousedown.kinetic touchstart.kinetic",function(t){G.DD.node||e.startDrag(t)})},G.Node.prototype._dragChange=function(){var t,e;this.attrs.draggable?this._listenDrag():(this._dragCleanup(),t=this.getStage(),e=G.DD,t&&e.node&&e.node._id===this._id&&e.node.stopDrag())},G.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))},G.Factory.addGetterSetter(G.Node,"dragBoundFunc"),G.Factory.addGetter(G.Node,"draggable",!1),G.Factory.addOverloadedGetterSetter(G.Node,"draggable"),(x=G.document.documentElement).addEventListener("mouseup",G.DD._endDragBefore,!0),x.addEventListener("touchend",G.DD._endDragBefore,!0),x.addEventListener("mouseup",G.DD._endDragAfter,!1),x.addEventListener("touchend",G.DD._endDragAfter,!1),G.Util.addMethods(G.Container,{__init:function(t){this.children=new G.Collection,G.Node.call(this,t)},getChildren:function(e){var i;return e?(i=new G.Collection,this.children.each(function(t){e(t)&&i.push(t)}),i):this.children},hasChildren:function(){return 0<this.getChildren().length},removeChildren:function(){for(var t,e=G.Collection.toCollection(this.children),i=0;i<e.length;i++)delete(t=e[i]).parent,t.index=0,t.hasChildren()&&t.removeChildren(),t.remove();return e=null,this.children=new G.Collection,this},destroyChildren:function(){for(var t,e=G.Collection.toCollection(this.children),i=0;i<e.length;i++)delete(t=e[i]).parent,t.index=0,t.destroy();return e=null,this.children=new G.Collection,this},add:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.add(arguments[e]);else{var i;if(!t.getParent())return i=this.children,this._validateAdd(t),t.index=i.length,t.parent=this,i.push(t),this._fire("add",{child:t}),this;t.moveTo(this)}},destroy:function(){this.hasChildren()&&this.destroyChildren(),G.Node.prototype.destroy.call(this)},find:function(t){for(var e,i,n,a,r,s=[],o=t.replace(/ /g,"").split(","),h=o.length,c=0;c<h;c++)if("#"===(i=o[c]).charAt(0))(n=this._getNodeById(i.slice(1)))&&s.push(n);else if("."===i.charAt(0))n=this._getNodesByName(i.slice(1)),s=s.concat(n);else for(r=(a=this.getChildren()).length,e=0;e<r;e++)s=s.concat(a[e]._get(i));return G.Collection.toCollection(s)},_getNodeById:function(t){t=G.ids[t];return void 0!==t&&this.isAncestorOf(t)?t:null},_getNodesByName:function(t){t=G.names[t]||[];return this._getDescendants(t)},_get:function(t){for(var e=G.Node.prototype._get.call(this,t),i=this.getChildren(),n=i.length,a=0;a<n;a++)e=e.concat(i[a]._get(t));return e},toObject:function(){for(var t=G.Node.prototype.toObject.call(this),e=(t.children=[],this.getChildren()),i=e.length,n=0;n<i;n++){var a=e[n];t.children.push(a.toObject())}return t},_getDescendants:function(t){for(var e=[],i=t.length,n=0;n<i;n++){var a=t[n];this.isAncestorOf(a)&&e.push(a)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=G.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(e){var i=[];return this.find("Shape").each(function(t){t.isVisible()&&t.intersects(e)&&i.push(t)}),i},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e){var i=this.getLayer(),t=t||i&&i.getCanvas(),i=t&&t.getContext(),n=this._cache.canvas,n=n&&n.scene;return this.isVisible()&&(n?this._drawCachedSceneCanvas(i):this._drawChildren(t,"drawScene",e)),this},drawHit:function(t,e){var i=this.getLayer(),t=t||i&&i.hitCanvas,i=t&&t.getContext(),n=this._cache.canvas,n=n&&n.hit;return this.shouldDrawHit()&&(n?this._drawCachedHitCanvas(i):this._drawChildren(t,"drawHit",e)),this},_drawChildren:function(e,i,n){var t,a,r=this.getLayer(),s=e&&e.getContext(),o=this.getClipWidth(),h=this.getClipHeight(),c=o&&h;c&&r&&(t=this.getClipX(),a=this.getClipY(),s.save(),r._applyTransform(this,s),s.beginPath(),s.rect(t,a,o,h),s.clip(),s.reset()),this.children.each(function(t){t[i](e,n)}),c&&s.restore()}}),G.Util.extend(G.Container,G.Node),G.Container.prototype.get=G.Container.prototype.find,G.Factory.addComponentsGetterSetter(G.Container,"clip",["x","y","width","height"]),G.Factory.addGetterSetter(G.Container,"clipX"),G.Factory.addGetterSetter(G.Container,"clipY"),G.Factory.addGetterSetter(G.Container,"clipWidth"),G.Factory.addGetterSetter(G.Container,"clipHeight"),G.Collection.mapMethods(G.Container),F="hasShadow",G.Util.addMethods(G.Shape,{__init:function(t){this.nodeType="Shape",this._fillFunc=at,this._strokeFunc=rt,this._fillFuncHit=ot,this._strokeFuncHit=ht;for(var e,i=G.shapes;!(e=G.Util.getRandomColor())||e in i;);i[this.colorKey=e]=this,G.Node.call(this,t),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChange.kinetic",ct)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(F,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},intersects:function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawScene(e),0<e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]},destroy:function(){G.Node.prototype.destroy.call(this),delete G.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()&&this.getStage()},drawScene:function(t,e){var i,n=this.getLayer(),t=(t||n.getCanvas()).getContext(),a=this._cache.canvas,r=this.sceneFunc(),s=this.hasShadow();return this.isVisible()&&(a?this._drawCachedSceneCanvas(t):r&&(t.save(),this._useBufferCanvas()?((i=(a=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this),n._applyTransform(this,i,e),r.call(this,i),i.restore(),s&&(t.save(),t._applyShadow(this),t.drawImage(a._canvas,0,0),t.restore()),t._applyOpacity(this),t.drawImage(a._canvas,0,0)):(t._applyLineJoin(this),n._applyTransform(this,t,e),s&&(t.save(),t._applyShadow(this),r.call(this,t),t.restore()),t._applyOpacity(this),r.call(this,t)),t.restore())),this},drawHit:function(t,e){var i=this.getLayer(),t=(t||i.hitCanvas).getContext(),n=this.hitFunc()||this.sceneFunc(),a=this._cache.canvas,a=a&&a.hit;return this.shouldDrawHit()&&(a?this._drawCachedHitCanvas(t):n&&(t.save(),t._applyLineJoin(this),i._applyTransform(this,t,e),n.call(this,t),t.restore())),this},drawHitFromCache:function(t){var e,i,n,a,r,s,o=t||0,t=this._cache.canvas,h=this._getCachedSceneCanvas(),c=h.getContext(),t=t.hit.getContext(),l=h.getWidth(),h=h.getHeight();t.clear();try{for(e=c.getImageData(0,0,l,h).data,n=(i=t.getImageData(0,0,l,h)).data,a=e.length,r=G.Util._hexToRgb(this.colorKey),s=0;s<a;s+=4)o<e[s+3]&&(n[s]=r.r,n[s+1]=r.g,n[s+2]=r.b,n[s+3]=255);t.putImageData(i,0,0)}catch(t){G.Util.warn("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}}),G.Util.extend(G.Shape,G.Node),G.Factory.addGetterSetter(G.Shape,"stroke"),G.Factory.addGetterSetter(G.Shape,"strokeRed",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"strokeGreen",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"strokeBlue",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"strokeAlpha",1,G.Validators.alphaComponent),G.Factory.addGetterSetter(G.Shape,"strokeWidth",2),G.Factory.addGetterSetter(G.Shape,"lineJoin"),G.Factory.addGetterSetter(G.Shape,"lineCap"),G.Factory.addGetterSetter(G.Shape,"sceneFunc"),G.Factory.addGetterSetter(G.Shape,"hitFunc"),G.Factory.addGetterSetter(G.Shape,"dash"),G.Factory.addGetterSetter(G.Shape,"shadowColor"),G.Factory.addGetterSetter(G.Shape,"shadowRed",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"shadowGreen",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"shadowBlue",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"shadowAlpha",1,G.Validators.alphaComponent),G.Factory.addGetterSetter(G.Shape,"shadowBlur"),G.Factory.addGetterSetter(G.Shape,"shadowOpacity"),G.Factory.addComponentsGetterSetter(G.Shape,"shadowOffset",["x","y"]),G.Factory.addGetterSetter(G.Shape,"shadowOffsetX",0),G.Factory.addGetterSetter(G.Shape,"shadowOffsetY",0),G.Factory.addGetterSetter(G.Shape,"fillPatternImage"),G.Factory.addGetterSetter(G.Shape,"fill"),G.Factory.addGetterSetter(G.Shape,"fillRed",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"fillGreen",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"fillBlue",0,G.Validators.RGBComponent),G.Factory.addGetterSetter(G.Shape,"fillAlpha",1,G.Validators.alphaComponent),G.Factory.addGetterSetter(G.Shape,"fillPatternX",0),G.Factory.addGetterSetter(G.Shape,"fillPatternY",0),G.Factory.addGetterSetter(G.Shape,"fillLinearGradientColorStops"),G.Factory.addGetterSetter(G.Shape,"fillRadialGradientStartRadius",0),G.Factory.addGetterSetter(G.Shape,"fillRadialGradientEndRadius",0),G.Factory.addGetterSetter(G.Shape,"fillRadialGradientColorStops"),G.Factory.addGetterSetter(G.Shape,"fillPatternRepeat","repeat"),G.Factory.addGetterSetter(G.Shape,"fillEnabled",!0),G.Factory.addGetterSetter(G.Shape,"strokeEnabled",!0),G.Factory.addGetterSetter(G.Shape,"shadowEnabled",!0),G.Factory.addGetterSetter(G.Shape,"dashEnabled",!0),G.Factory.addGetterSetter(G.Shape,"strokeScaleEnabled",!0),G.Factory.addGetterSetter(G.Shape,"fillPriority","color"),G.Factory.addComponentsGetterSetter(G.Shape,"fillPatternOffset",["x","y"]),G.Factory.addGetterSetter(G.Shape,"fillPatternOffsetX",0),G.Factory.addGetterSetter(G.Shape,"fillPatternOffsetY",0),G.Factory.addComponentsGetterSetter(G.Shape,"fillPatternScale",["x","y"]),G.Factory.addGetterSetter(G.Shape,"fillPatternScaleX",1),G.Factory.addGetterSetter(G.Shape,"fillPatternScaleY",1),G.Factory.addComponentsGetterSetter(G.Shape,"fillLinearGradientStartPoint",["x","y"]),G.Factory.addGetterSetter(G.Shape,"fillLinearGradientStartPointX",0),G.Factory.addGetterSetter(G.Shape,"fillLinearGradientStartPointY",0),G.Factory.addComponentsGetterSetter(G.Shape,"fillLinearGradientEndPoint",["x","y"]),G.Factory.addGetterSetter(G.Shape,"fillLinearGradientEndPointX",0),G.Factory.addGetterSetter(G.Shape,"fillLinearGradientEndPointY",0),G.Factory.addComponentsGetterSetter(G.Shape,"fillRadialGradientStartPoint",["x","y"]),G.Factory.addGetterSetter(G.Shape,"fillRadialGradientStartPointX",0),G.Factory.addGetterSetter(G.Shape,"fillRadialGradientStartPointY",0),G.Factory.addComponentsGetterSetter(G.Shape,"fillRadialGradientEndPoint",["x","y"]),G.Factory.addGetterSetter(G.Shape,"fillRadialGradientEndPointX",0),G.Factory.addGetterSetter(G.Shape,"fillRadialGradientEndPointY",0),G.Factory.addGetterSetter(G.Shape,"fillPatternRotation",0),G.Factory.backCompat(G.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),G.Collection.mapMethods(G.Shape),b="mouseleave",V=(X=[U="mousedown",B="mousemove",E="mouseup",w="mouseout",O="touchstart",Y="touchmove",H="touchend",N="mouseover"]).length,G.Util.addMethods(G.Stage,{___init:function(t){this.nodeType="Stage",G.Container.call(this,t),this._id=G.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,G.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&G.Util.error("You may only add layers to the stage.")},setContainer:function(t){if("string"==typeof t){var e=t;if(!(t=G.document.getElementById(t)))throw"Can not find container in document with id "+e}return this._setAttr("container",t),this},shouldDrawHit:function(){return!0},draw:function(){return G.Node.prototype.draw.call(this),this},setHeight:function(t){return G.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return G.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){for(var t=this.children,e=t.length,i=0;i<e;i++)t[i].clear();return this},clone:function(t){return(t=t||{}).container=G.document.createElement("div"),G.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content,t=(G.Container.prototype.destroy.call(this),t&&G.Util._isInDocument(t)&&this.getContainer().removeChild(t),G.stages.indexOf(this));-1<t&&G.stages.splice(t,1)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(a){var r=(a=a||{}).mimeType||null,s=a.quality||null,t=a.x||0,e=a.y||0,o=new G.SceneCanvas({width:a.width||this.getWidth(),height:a.height||this.getHeight(),pixelRatio:1}),h=o.getContext()._context,c=this.children;(t||e)&&h.translate(-1*t,-1*e),function t(e){var i=c[e].toDataURL(),n=new G.window.Image;n.onload=function(){h.drawImage(n,0,0),e<c.length-1?t(e+1):a.callback(o.toDataURL(r,s))},n.src=i}(0)},toImage:function(t){var e=t.callback;t.callback=function(t){G.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t){for(var e,i=this.getChildren(),n=i.length-1;0<=n;n--)if(e=i[n].getIntersection(t))return e;return null},_resizeDOM:function(){if(this.content){var t,e,i=this.getWidth(),n=this.getHeight(),a=this.getChildren(),r=a.length;for(this.content.style.width=i+"px",this.content.style.height=n+"px",this.bufferCanvas.setSize(i,n),this.bufferHitCanvas.setSize(i,n),t=0;t<r;t++)(e=a[t]).getCanvas().setSize(i,n),e.hitCanvas.setSize(i,n),e.draw()}},add:function(t){if(!(1<arguments.length))return G.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this;for(var e=0;e<arguments.length;e++)this.add(arguments[e])},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var t=0;t<V;t++)!function(e,i){e.content.addEventListener(i,function(t){e["_"+i](t)},!1)}(this,X[t])},_mouseover:function(t){G.UA.mobile||(this._setPointerPosition(t),this._fire("contentMouseover",{evt:t}))},_mouseout:function(t){var e;G.UA.mobile||(this._setPointerPosition(t),(e=this.targetShape)&&!G.isDragging()&&(e._fireAndBubble(w,{evt:t}),e._fireAndBubble(b,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:t}))},_mousemove:function(t){var e,i;G.UA.mobile||(this._setPointerPosition(t),e=G.DD,(i=this.getIntersection(this.getPointerPosition()))&&i.isListening()?G.isDragging()||this.targetShape&&this.targetShape._id===i._id?i._fireAndBubble(B,{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(w,{evt:t},i),this.targetShape._fireAndBubble(b,{evt:t},i)),i._fireAndBubble(N,{evt:t},this.targetShape),i._fireAndBubble("mouseenter",{evt:t},this.targetShape),this.targetShape=i):this.targetShape&&!G.isDragging()&&(this.targetShape._fireAndBubble(w,{evt:t}),this.targetShape._fireAndBubble(b,{evt:t}),this.targetShape=null),this._fire("contentMousemove",{evt:t}),e&&e._drag(t)),t.preventDefault&&t.preventDefault()},_mousedown:function(t){var e;G.UA.mobile||(this._setPointerPosition(t),e=this.getIntersection(this.getPointerPosition()),G.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e)._fireAndBubble(U,{evt:t}),this._fire("contentMousedown",{evt:t})),t.preventDefault&&t.preventDefault()},_mouseup:function(t){var e,i,n;G.UA.mobile||(this._setPointerPosition(t),e=this.getIntersection(this.getPointerPosition()),i=this.clickStartShape,n=!1,G.inDblClickWindow?G.inDblClickWindow=!(n=!0):G.inDblClickWindow=!0,setTimeout(function(){G.inDblClickWindow=!1},G.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(E,{evt:t}),G.listenClickTap&&i&&i._id===e._id&&(e._fireAndBubble("click",{evt:t}),n&&e._fireAndBubble("dblclick",{evt:t}))),this._fire("contentMouseup",{evt:t}),G.listenClickTap&&(this._fire("contentClick",{evt:t}),n&&this._fire("contentDblclick",{evt:t})),G.listenClickTap=!1),t.preventDefault&&t.preventDefault()},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());G.listenClickTap=!0,e&&e.isListening()&&((this.tapStartShape=e)._fireAndBubble(O,{evt:t}),e.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchstart",{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),i=!1;G.inDblClickWindow?G.inDblClickWindow=!(i=!0):G.inDblClickWindow=!0,setTimeout(function(){G.inDblClickWindow=!1},G.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(H,{evt:t}),G.listenClickTap&&e._id===this.tapStartShape._id&&(e._fireAndBubble("tap",{evt:t}),i&&e._fireAndBubble("dbltap",{evt:t})),e.isListening()&&t.preventDefault&&t.preventDefault()),G.listenClickTap&&(this._fire("contentTouchend",{evt:t}),i&&this._fire("contentDbltap",{evt:t})),G.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e=G.DD,i=this.getIntersection(this.getPointerPosition());i&&i.isListening()&&(i._fireAndBubble(Y,{evt:t}),i.isListening()&&t.preventDefault&&t.preventDefault()),this._fire("contentTouchmove",{evt:t}),e&&e._drag(t)},_setPointerPosition:function(t){var e,i=this._getContentPosition(),n=t.offsetX,a=t.clientX,r=null,s=null;void 0!==(t=t||window.event).touches?0<t.touches.length&&(r=(e=t.touches[0]).clientX-i.left,s=e.clientY-i.top):void 0!==n?(r=n,s=t.offsetY):"mozilla"===G.UA.browser?(r=t.layerX,s=t.layerY):void 0!==a&&i&&(r=a-i.left,s=t.clientY-i.top),null!==r&&null!==s&&(this.pointerPos={x:r,y:s})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(G.Util.isBrowser())throw"Stage has not container. But container is required";t=G.document.createElement("div")}t.innerHTML="",this.content=G.document.createElement("div"),this.content.style.position="relative",this.content.style.display="inline-block",this.content.className="kineticjs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new G.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new G.HitCanvas,this._resizeDOM()},_onContent:function(t,e){for(var i,n=t.split(" "),a=n.length,r=0;r<a;r++)i=n[r],this.content.addEventListener(i,e,!1)},cache:function(){G.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),G.Util.extend(G.Stage,G.Container),G.Factory.addGetter(G.Stage,"container"),G.Factory.addOverloadedGetterSetter(G.Stage,"container"),G.Util.addMethods(G.BaseLayer,{___init:function(t){this.nodeType="Layer",G.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},setZIndex:function(t){G.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){G.Node.prototype.moveToTop.call(this);var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){var t;G.Node.prototype.moveUp.call(this)&&(t=this.getStage())&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas))},moveDown:function(){var t,e;G.Node.prototype.moveDown.call(this)&&(t=this.getStage())&&(e=t.getChildren(),t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas))},moveToBottom:function(){var t,e;G.Node.prototype.moveToBottom.call(this)&&(t=this.getStage())&&(e=t.getChildren(),t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas))},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return G.Node.prototype.remove.call(this),t&&t.parentNode&&G.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent}}),G.Util.extend(G.BaseLayer,G.Container),G.Factory.addGetterSetter(G.BaseLayer,"clearBeforeDraw",!0),G.Collection.mapMethods(G.BaseLayer),j=(q=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}]).length,G.Util.addMethods(G.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new G.SceneCanvas,this.hitCanvas=new G.HitCanvas,G.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&G.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(t){var e,i,n;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(e=0;e<j;e++){if(n=(i=this._getIntersection({x:t.x+(i=q[e]).x,y:t.y+i.y})).shape)return n;if(!i.antialiased)return null}},_getIntersection:function(t){var t=this.hitCanvas.context._context.getImageData(t.x,t.y,1,1).data,e=t[3];return 255===e?(t=G.Util._rgbToHex(t[0],t[1],t[2]),{shape:G.shapes["#"+t]}):0<e?{antialiased:!0}:{}},drawScene:function(t,e){var i=this.getLayer(),t=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&t.getContext().clear(),G.Container.prototype.drawScene.call(this,t,e),this._fire("draw",{node:this}),this},_applyTransform:function(t,e,i){t=t.getAbsoluteTransform(i).getMatrix();e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},drawHit:function(t,e){var i=this.getLayer(),t=t||i&&i.hitCanvas;return i&&i.getClearBeforeDraw()&&i.getHitCanvas().getContext().clear(),G.Container.prototype.drawHit.call(this,t,e),this},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},setVisible:function(t){return G.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this}}),G.Util.extend(G.Layer,G.BaseLayer),G.Factory.addGetterSetter(G.Layer,"hitGraphEnabled",!0),G.Collection.mapMethods(G.Layer),G.Util.addMethods(G.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new G.SceneCanvas,G.BaseLayer.call(this,t)},_validateAdd:function(t){"Shape"!==t.getType()&&G.Util.error("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),t=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&t.getContext().clear(),G.Container.prototype.drawScene.call(this,t),this},_applyTransform:function(t,e,i){i&&i._id===this._id||(i=t.getTransform().getMatrix(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]))},draw:function(){return this.drawScene(),this},clear:function(t){return this.getContext().clear(t),this},setVisible:function(t){return G.Node.prototype.setVisible.call(this,t),this.getCanvas()._canvas.style.display=t?"block":"none",this}}),G.Util.extend(G.FastLayer,G.BaseLayer),G.Collection.mapMethods(G.FastLayer),G.Util.addMethods(G.Group,{___init:function(t){this.nodeType="Group",G.Container.call(this,t)},_validateAdd:function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&G.Util.error("You may only add groups and shapes to groups.")}}),G.Util.extend(G.Group,G.Container),G.Collection.mapMethods(G.Group),G.Rect=function(t){this.___init(t)},G.Rect.prototype={___init:function(t){G.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),i=this.getWidth(),n=this.getHeight();t.beginPath(),e?(t.moveTo(e,0),t.lineTo(i-e,0),t.arc(i-e,e,e,3*Math.PI/2,0,!1),t.lineTo(i,n-e),t.arc(i-e,n-e,e,0,Math.PI/2,!1),t.lineTo(e,n),t.arc(e,n-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,i,n),t.closePath(),t.fillStrokeShape(this)}},G.Util.extend(G.Rect,G.Shape),G.Factory.addGetterSetter(G.Rect,"cornerRadius",0),G.Collection.mapMethods(G.Rect),Q=2*Math.PI-1e-4,G.Circle=function(t){this.___init(t)},G.Circle.prototype={___init:function(t){G.Shape.call(this,t),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Q,!1),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){G.Node.prototype.setWidth.call(this,t),this.setRadius(t/2)},setHeight:function(t){G.Node.prototype.setHeight.call(this,t),this.setRadius(t/2)}},G.Util.extend(G.Circle,G.Shape),G.Factory.addGetterSetter(G.Circle,"radius",0),G.Collection.mapMethods(G.Circle),J=2*Math.PI-1e-4,G.Ellipse=function(t){this.___init(t)},G.Ellipse.prototype={___init:function(t){G.Shape.call(this,t),this.className="Ellipse",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getRadius(),i=e.x,e=e.y;t.beginPath(),t.save(),i!==e&&t.scale(1,e/i),t.arc(0,0,i,0,J,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius().x},getHeight:function(){return 2*this.getRadius().y},setWidth:function(t){G.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){G.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},G.Util.extend(G.Ellipse,G.Shape),G.Factory.addComponentsGetterSetter(G.Ellipse,"radius",["x","y"]),G.Factory.addGetterSetter(G.Ellipse,"radiusX",0),G.Factory.addGetterSetter(G.Ellipse,"radiusY",0),G.Collection.mapMethods(G.Ellipse),P=2*Math.PI-1e-4,G.Ring=function(t){this.___init(t)},G.Ring.prototype={___init:function(t){G.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getInnerRadius(),0,P,!1),t.moveTo(this.getOuterRadius(),0),t.arc(0,0,this.getOuterRadius(),P,0,!0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){G.Node.prototype.setWidth.call(this,t),this.setOuterRadius(t/2)},setHeight:function(t){G.Node.prototype.setHeight.call(this,t),this.setOuterRadius(t/2)}},G.Util.extend(G.Ring,G.Shape),G.Factory.addGetterSetter(G.Ring,"innerRadius",0),G.Factory.addGetterSetter(G.Ring,"outerRadius",0),G.Collection.mapMethods(G.Ring),G.Wedge=function(t){this.___init(t)},G.Wedge.prototype={___init:function(t){G.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,G.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}},G.Util.extend(G.Wedge,G.Shape),G.Factory.addGetterSetter(G.Wedge,"radius",0),G.Factory.addGetterSetter(G.Wedge,"angle",0),G.Factory.addGetterSetter(G.Wedge,"clockwise",!1),G.Factory.backCompat(G.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),G.Collection.mapMethods(G.Wedge),Math.PI,G.Arc=function(t){this.___init(t)},G.Arc.prototype={___init:function(t){G.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=G.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,i),t.arc(0,0,this.getInnerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)}},G.Util.extend(G.Arc,G.Shape),G.Factory.addGetterSetter(G.Arc,"innerRadius",0),G.Factory.addGetterSetter(G.Arc,"outerRadius",0),G.Factory.addGetterSetter(G.Arc,"angle",0),G.Factory.addGetterSetter(G.Arc,"clockwise",!1),G.Collection.mapMethods(G.Arc),G.Image=function(t){this.___init(t)},G.Image.prototype={___init:function(t){G.Shape.call(this,t),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_sceneFunc:function(t){var e,i,n,a=this.getWidth(),r=this.getHeight(),s=this.getImage();s&&(e=(n=this.getCrop()).width,i=n.height,n=e&&i?[s,n.x,n.y,e,i,0,0,a,r]:[s,0,0,a,r]),t.beginPath(),t.rect(0,0,a,r),t.closePath(),t.fillStrokeShape(this),s&&t.drawImage.apply(t,n)},_hitFunc:function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},G.Util.extend(G.Image,G.Shape),G.Factory.addGetterSetter(G.Image,"image"),G.Factory.addComponentsGetterSetter(G.Image,"crop",["x","y","width","height"]),G.Factory.addGetterSetter(G.Image,"cropX",0),G.Factory.addGetterSetter(G.Image,"cropY",0),G.Factory.addGetterSetter(G.Image,"cropWidth",0),G.Factory.addGetterSetter(G.Image,"cropHeight",0),G.Collection.mapMethods(G.Image),T="auto",Z=(K=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap"]).length,A=G.Util.createCanvasElement().getContext("2d"),G.Text=function(t){this.___init(t)},G.Text.prototype={___init:function(t){void 0===t.width&&(t.width=T),void 0===t.height&&(t.height=T),G.Shape.call(this,t),this._fillFunc=lt,this._strokeFunc=dt,this.className="Text";for(var e=0;e<Z;e++)this.on(K[e]+"Change.kinetic",this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,i=this.getPadding(),n=this.getTextHeight(),a=this.getLineHeight()*n,r=this.textArr,s=r.length,o=this.getWidth();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save(),t.translate(i,0),t.translate(0,i+n/2),e=0;e<s;e++){var h=r[e],c=h.text,h=h.width;t.save(),"right"===this.getAlign()?t.translate(o-h-2*i,0):"center"===this.getAlign()&&t.translate((o-h-2*i)/2,0),this.partialText=c,t.fillStrokeShape(this),t.restore(),t.translate(0,a)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},setText:function(t){t=G.Util._isString(t)?t:t.toString();return this._setAttr("text",t),this},getWidth:function(){return this.attrs.width===T?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return this.attrs.height===T?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e=A,i=this.getFontSize();return e.save(),e.font=this._getContextFont(),t=e.measureText(t),e.restore(),{width:t.width,height:parseInt(i,10)}},_getContextFont:function(){return this.getFontStyle()+" "+this.getFontVariant()+" "+this.getFontSize()+"px "+this.getFontFamily()},_addTextLine:function(t,e){return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){return A.measureText(t).width},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),i=0,n=this.getLineHeight()*e,a=this.attrs.width,r=this.attrs.height,s=a!==T,o=r!==T,h=this.getPadding(),c=a-2*h,l=r-2*h,d=0,a=this.getWrap(),u="none"!==a,f="char"!==a&&u;this.textArr=[],A.save(),A.font=this._getContextFont();for(var g=0,p=t.length;g<p;++g){var v=t[g],_=this._getTextWidth(v);if(s&&c<_)for(;0<v.length;){for(var m,y=0,S=v.length,C="",x=0;y<S;){var F=y+S>>>1,w=v.slice(0,1+F),b=this._getTextWidth(w);b<=c?(y=1+F,C=w,x=b):S=F}if(!C)break;if(!f||0<(m=Math.max(C.lastIndexOf(" "),C.lastIndexOf("-"))+1)&&(C=C.slice(0,y=m),x=this._getTextWidth(C)),this._addTextLine(C,x),i=Math.max(i,x),d+=n,!u||o&&l<d+n)break;if(0<(v=v.slice(y)).length&&(_=this._getTextWidth(v))<=c){this._addTextLine(v,_),d+=n,i=Math.max(i,_);break}}else this._addTextLine(v,_),d+=n,i=Math.max(i,_);if(o&&l<d+n)break}A.restore(),this.textHeight=e,this.textWidth=i}},G.Util.extend(G.Text,G.Shape),G.Factory.addGetterSetter(G.Text,"fontFamily","Arial"),G.Factory.addGetterSetter(G.Text,"fontSize",12),G.Factory.addGetterSetter(G.Text,"fontStyle","normal"),G.Factory.addGetterSetter(G.Text,"fontVariant","normal"),G.Factory.addGetterSetter(G.Text,"padding",0),G.Factory.addGetterSetter(G.Text,"align","left"),G.Factory.addGetterSetter(G.Text,"lineHeight",1),G.Factory.addGetterSetter(G.Text,"wrap","word"),G.Factory.addGetter(G.Text,"text",""),G.Factory.addOverloadedGetterSetter(G.Text,"text"),G.Collection.mapMethods(G.Text),G.Line=function(t){this.___init(t)},G.Line.prototype={___init:function(t){G.Shape.call(this,t),this.className="Line",this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,i,n,a=this.getPoints(),r=a.length,s=this.getTension(),o=this.getClosed();if(t.beginPath(),t.moveTo(a[0],a[1]),0!==s&&4<r){for(i=(e=this.getTensionPoints()).length,n=o?0:4,o||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n<i-2;)t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);o||t.quadraticCurveTo(e[i-2],e[i-1],a[r-2],a[r-1])}else for(n=2;n<r;n+=2)t.lineTo(a[n],a[n+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():G.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,i=this.getTension(),n=G.Util,a=n._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),n=n._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),i=G.Util._expandPoints(t,i);return[a[2],a[3]].concat(i).concat([n[0],n[1],t[e-2],t[e-1],n[2],n[3],a[0],a[1],t[0],t[1]])}},G.Util.extend(G.Line,G.Shape),G.Factory.addGetterSetter(G.Line,"closed",!1),G.Factory.addGetterSetter(G.Line,"tension",0),G.Factory.addGetterSetter(G.Line,"points"),G.Collection.mapMethods(G.Line),G.Sprite=function(t){this.___init(t)},G.Sprite.prototype={___init:function(t){G.Shape.call(this,t),this.className="Sprite",this.anim=new G.Animation,this.on("animationChange.kinetic",function(){this.frameIndex(0)}),this.on("frameRateChange.kinetic",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),i=4*this.frameIndex(),e=this.getAnimations()[e],n=e[0+i],a=e[1+i],r=e[2+i],e=e[3+i],i=this.getImage();i&&t.drawImage(i,n,a,r,e,0,0,r,e)},_hitFunc:function(t){var e=this.getAnimation(),i=4*this.frameIndex(),e=this.getAnimations()[e],n=e[2+i],e=e[3+i];t.beginPath(),t.rect(0,0,n,e),t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation();t<this.getAnimations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}},G.Util.extend(G.Sprite,G.Shape),G.Factory.addGetterSetter(G.Sprite,"animation"),G.Factory.addGetterSetter(G.Sprite,"animations"),G.Factory.addGetterSetter(G.Sprite,"image"),G.Factory.addGetterSetter(G.Sprite,"frameIndex",0),G.Factory.addGetterSetter(G.Sprite,"frameRate",17),G.Factory.backCompat(G.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),G.Collection.mapMethods(G.Sprite),G.Path=function(t){this.___init(t)},G.Path.prototype={___init:function(t){this.dataArray=[];var e=this;G.Shape.call(this,t),this.className="Path",this.dataArray=G.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){e.dataArray=G.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray,i=!1;t.beginPath();for(var n=0;n<e.length;n++){var a=e[n].command,r=e[n].points;switch(a){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var s=r[0],o=r[1],h=r[2],c=r[3],l=r[4],d=r[5],u=r[6],f=r[7],g=c<h?h:c,p=c<h?1:h/c,c=c<h?c/h:1;t.translate(s,o),t.rotate(u),t.scale(p,c),t.arc(0,0,g,l,l+d,1-f),t.scale(1/p,1/c),t.rotate(-u),t.translate(-s,-o);break;case"z":t.closePath(),i=!0}}i?t.fillStrokeShape(this):t.strokeShape(this)}},G.Util.extend(G.Path,G.Shape),G.Path.getLineLength=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},G.Path.getPointOnLine=function(t,e,i,n,a,r,s){void 0===r&&(r=e),void 0===s&&(s=i);var o,h=(a-i)/(n-e+1e-8),c=Math.sqrt(t*t/(1+h*h)),l=(n<e&&(c*=-1),h*c);if(n===e)o={x:r,y:s+l};else if((s-i)/(r-e+1e-8)==h)o={x:r+c,y:s+l};else{var d=this.getLineLength(e,i,n,a);if(d<1e-8)return;var u=(r-e)*(n-e)+(s-i)*(a-i),d=this.getLineLength(r,s,r=e+(u/=d*d)*(n-e),s=i+u*(a-i)),u=Math.sqrt(t*t-d*d),c=Math.sqrt(u*u/(1+h*h));n<e&&(c*=-1),o={x:r+c,y:s+(l=h*c)}}return o},G.Path.getPointOnCubicBezier=function(t,e,i,n,a,r,s,o,h){function c(t){return t*t*t}function l(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:o*c(t)+r*l(t)+n*d(t)+e*u(t),y:h*c(t)+s*l(t)+a*d(t)+i*u(t)}},G.Path.getPointOnQuadraticBezier=function(t,e,i,n,a,r,s){function o(t){return t*t}function h(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:r*o(t)+n*h(t)+e*c(t),y:s*o(t)+a*h(t)+i*c(t)}},G.Path.getPointOnEllipticalArc=function(t,e,i,n,a,r){var s=Math.cos(r),r=Math.sin(r),i=i*Math.cos(a),n=n*Math.sin(a);return{x:t+(i*s-n*r),y:e+(i*r+n*s)}},G.Path.parsePathData=function(t){if(!t)return[];for(var e=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],i=(i=t).replace(new RegExp(" ","g"),","),n=0;n<e.length;n++)i=i.replace(new RegExp(e[n],"g"),"|"+e[n]);for(var a=i.split("|"),r=[],s=0,o=0,n=1;n<a.length;n++){var h=a[n],c=h.charAt(0),l=(h=(h=(h=(h=h.slice(1)).replace(new RegExp(",-","g"),"-")).replace(new RegExp("-","g"),",-")).replace(new RegExp("e,-","g"),"e-")).split(",");0<l.length&&""===l[0]&&l.shift();for(var d=0;d<l.length;d++)l[d]=parseFloat(l[d]);for(;0<l.length&&!isNaN(l[0]);){var u,f,g,p,v,_,m,y,S,C,x=null,F=[],w=s,b=o;switch(c){case"l":s+=l.shift(),o+=l.shift(),x="L",F.push(s,o);break;case"L":s=l.shift(),o=l.shift(),F.push(s,o);break;case"m":var P=l.shift(),T=l.shift();if(s+=P,o+=T,x="M",2<r.length&&"z"===r[r.length-1].command)for(var A=r.length-2;0<=A;A--)if("M"===r[A].command){s=r[A].points[0]+P,o=r[A].points[1]+T;break}F.push(s,o),c="l";break;case"M":s=l.shift(),o=l.shift(),x="M",F.push(s,o),c="L";break;case"h":s+=l.shift(),x="L",F.push(s,o);break;case"H":s=l.shift(),x="L",F.push(s,o);break;case"v":o+=l.shift(),x="L",F.push(s,o);break;case"V":o=l.shift(),x="L",F.push(s,o);break;case"C":F.push(l.shift(),l.shift(),l.shift(),l.shift()),s=l.shift(),o=l.shift(),F.push(s,o);break;case"c":F.push(s+l.shift(),o+l.shift(),s+l.shift(),o+l.shift()),s+=l.shift(),o+=l.shift(),x="C",F.push(s,o);break;case"S":f=s,g=o,"C"===(u=r[r.length-1]).command&&(f=s+(s-u.points[2]),g=o+(o-u.points[3])),F.push(f,g,l.shift(),l.shift()),s=l.shift(),o=l.shift(),x="C",F.push(s,o);break;case"s":f=s,g=o,"C"===(u=r[r.length-1]).command&&(f=s+(s-u.points[2]),g=o+(o-u.points[3])),F.push(f,g,s+l.shift(),o+l.shift()),s+=l.shift(),o+=l.shift(),x="C",F.push(s,o);break;case"Q":F.push(l.shift(),l.shift()),s=l.shift(),o=l.shift(),F.push(s,o);break;case"q":F.push(s+l.shift(),o+l.shift()),s+=l.shift(),o+=l.shift(),x="Q",F.push(s,o);break;case"T":f=s,g=o,"Q"===(u=r[r.length-1]).command&&(f=s+(s-u.points[0]),g=o+(o-u.points[1])),s=l.shift(),o=l.shift(),x="Q",F.push(f,g,s,o);break;case"t":f=s,g=o,"Q"===(u=r[r.length-1]).command&&(f=s+(s-u.points[0]),g=o+(o-u.points[1])),s+=l.shift(),o+=l.shift(),x="Q",F.push(f,g,s,o);break;case"A":p=l.shift(),v=l.shift(),_=l.shift(),m=l.shift(),y=l.shift(),S=s,C=o,s=l.shift(),o=l.shift(),x="A",F=this.convertEndpointToCenterParameterization(S,C,s,o,m,y,p,v,_);break;case"a":p=l.shift(),v=l.shift(),_=l.shift(),m=l.shift(),y=l.shift(),S=s,C=o,s+=l.shift(),o+=l.shift(),x="A",F=this.convertEndpointToCenterParameterization(S,C,s,o,m,y,p,v,_)}r.push({command:x||c,points:F,start:{x:w,y:b},pathLength:this.calcLength(w,b,x||c,F)})}"z"!==c&&"Z"!==c||r.push({command:"z",points:[],start:void 0,pathLength:0})}return r},G.Path.calcLength=function(t,e,i,n){var a,r,s,o=G.Path;switch(i){case"L":return o.getLineLength(t,e,n[0],n[1]);case"C":for(a=o.getPointOnCubicBezier(h=0,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),s=.01;s<=1;s+=.01)r=o.getPointOnCubicBezier(s,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),h+=o.getLineLength(a.x,a.y,r.x,r.y),a=r;return h;case"Q":for(a=o.getPointOnQuadraticBezier(h=0,t,e,n[0],n[1],n[2],n[3]),s=.01;s<=1;s+=.01)r=o.getPointOnQuadraticBezier(s,t,e,n[0],n[1],n[2],n[3]),h+=o.getLineLength(a.x,a.y,r.x,r.y),a=r;return h;case"A":var h=0,c=n[4],l=n[5],d=n[4]+l,u=Math.PI/180;if(Math.abs(c-d)<u&&(u=Math.abs(c-d)),a=o.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),l<0)for(s=c-u;d<s;s-=u)r=o.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),h+=o.getLineLength(a.x,a.y,r.x,r.y),a=r;else for(s=c+u;s<d;s+=u)r=o.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),h+=o.getLineLength(a.x,a.y,r.x,r.y),a=r;return r=o.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],d,0),h+=o.getLineLength(a.x,a.y,r.x,r.y)}return 0},G.Path.convertEndpointToCenterParameterization=function(t,e,i,n,a,r,s,o,h){function c(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e))}function l(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(c(t,e))}var h=h*(Math.PI/180),d=Math.cos(h)*(t-i)/2+Math.sin(h)*(e-n)/2,u=-1*Math.sin(h)*(t-i)/2+Math.cos(h)*(e-n)/2,f=d*d/(s*s)+u*u/(o*o),f=(1<f&&(s*=Math.sqrt(f),o*=Math.sqrt(f)),Math.sqrt((s*s*(o*o)-s*s*(u*u)-o*o*(d*d))/(s*s*(u*u)+o*o*(d*d)))),a=(a===r&&(f*=-1),(f=isNaN(f)?0:f)*s*u/o),f=f*-o*d/s,t=(t+i)/2+Math.cos(h)*a-Math.sin(h)*f,i=(e+n)/2+Math.sin(h)*a+Math.cos(h)*f,g=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},e=l([1,0],[(d-a)/s,(u-f)/o]),n=[(d-a)/s,(u-f)/o],d=[(-1*d-a)/s,(-1*u-f)/o],a=l(n,d);return c(n,d)<=-1&&(a=Math.PI),1<=c(n,d)&&(a=0),0===r&&0<a&&(a-=2*Math.PI),1===r&&a<0&&(a+=2*Math.PI),[t,i,s,o,e,a,h,r]},G.Factory.addGetterSetter(G.Path,"data"),G.Collection.mapMethods(G.Path),G.TextPath=function(t){this.___init(t)},G.TextPath.prototype={___init:function(t){var e=this;this.dummyCanvas=G.Util.createCanvasElement(),this.dataArray=[],G.Shape.call(this,t),this._fillFunc=ut,this._strokeFunc=ft,this._fillFuncHit=ut,this._strokeFuncHit=ft,this.className="TextPath",this.dataArray=G.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){e.dataArray=G.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",e._setTextData),e._setTextData(),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save();for(var e=this.glyphInfo,i=0;i<e.length;i++){t.save();var n=e[i].p0;t.translate(n.x,n.y),t.rotate(e[i].rotation),this.partialText=e[i].text,t.fillStrokeShape(this),t.restore()}t.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){G.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas.getContext("2d"),t=(e.save(),e.font=this._getContextFont(),e.measureText(t));return e.restore(),{width:t.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){for(var c,l,d,u=this,t=this._getTextSize(this.attrs.text),e=(this.textWidth=t.width,this.textHeight=t.height,this.glyphInfo=[],this.attrs.text.split("")),i=-1,f=0,g=function(){f=0;for(var t=u.dataArray,e=i+1;e<t.length;e++){if(0<t[e].pathLength)return t[i=e];"M"==t[e].command&&(c={x:t[e].points[0],y:t[e].points[1]})}return{}},n=0;n<e.length&&(function(t){var e=u._getTextSize(t).width,i=0,n=0;for(l=void 0;.01<Math.abs(e-i)/e&&n<25;){n++;for(var a=i;void 0===d;)(d=g())&&a+d.pathLength<e&&(a+=d.pathLength,d=void 0);if(d==={}||void 0===c)return;var r=!1;switch(d.command){case"L":G.Path.getLineLength(c.x,c.y,d.points[0],d.points[1])>e?l=G.Path.getPointOnLine(e,c.x,c.y,d.points[0],d.points[1],c.x,c.y):d=void 0;break;case"A":var s=d.points[4],o=d.points[5],h=d.points[4]+o;0===f?f=s+1e-8:i<e?f+=Math.PI/180*o/Math.abs(o):f-=Math.PI/360*o/Math.abs(o),(o<0&&f<h||0<=o&&h<f)&&(f=h,r=!0),l=G.Path.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],f,d.points[6]);break;case"C":0===f?f=e>d.pathLength?1e-8:e/d.pathLength:i<e?f+=(e-i)/d.pathLength:f-=(i-e)/d.pathLength,1<f&&(f=1,r=!0),l=G.Path.getPointOnCubicBezier(f,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===f?f=e/d.pathLength:i<e?f+=(e-i)/d.pathLength:f-=(i-e)/d.pathLength,1<f&&(f=1,r=!0),l=G.Path.getPointOnQuadraticBezier(f,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==l&&(i=G.Path.getLineLength(c.x,c.y,l.x,l.y)),r&&(r=!1,d=void 0)}}(e[n]),void 0!==c&&void 0!==l);n++){var a=G.Path.getLineLength(c.x,c.y,l.x,l.y),a=G.Path.getPointOnLine(0+a/2,c.x,c.y,l.x,l.y),r=Math.atan2(l.y-c.y,l.x-c.x);this.glyphInfo.push({transposeX:a.x,transposeY:a.y,text:e[n],rotation:r,p0:c,p1:l}),c=l}}},G.TextPath.prototype._getContextFont=G.Text.prototype._getContextFont,G.Util.extend(G.TextPath,G.Shape),G.Factory.addGetterSetter(G.TextPath,"fontFamily","Arial"),G.Factory.addGetterSetter(G.TextPath,"fontSize",12),G.Factory.addGetterSetter(G.TextPath,"fontStyle","normal"),G.Factory.addGetterSetter(G.TextPath,"fontVariant","normal"),G.Factory.addGetter(G.TextPath,"text",""),G.Collection.mapMethods(G.TextPath),G.RegularPolygon=function(t){this.___init(t)},G.RegularPolygon.prototype={___init:function(t){G.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,i,n,a=this.attrs.sides,r=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-r),e=1;e<a;e++)i=r*Math.sin(2*e*Math.PI/a),n=-1*r*Math.cos(2*e*Math.PI/a),t.lineTo(i,n);t.closePath(),t.fillStrokeShape(this)}},G.Util.extend(G.RegularPolygon,G.Shape),G.Factory.addGetterSetter(G.RegularPolygon,"radius",0),G.Factory.addGetterSetter(G.RegularPolygon,"sides",0),G.Collection.mapMethods(G.RegularPolygon),G.Star=function(t){this.___init(t)},G.Star.prototype={___init:function(t){G.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),i=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var a=1;a<2*n;a++){var r=a%2==0?i:e,s=r*Math.sin(a*Math.PI/n),r=-1*r*Math.cos(a*Math.PI/n);t.lineTo(s,r)}t.closePath(),t.fillStrokeShape(this)}},G.Util.extend(G.Star,G.Shape),G.Factory.addGetterSetter(G.Star,"numPoints",5),G.Factory.addGetterSetter(G.Star,"innerRadius",0),G.Factory.addGetterSetter(G.Star,"outerRadius",0),G.Collection.mapMethods(G.Star),tt=($=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"]).length,G.Label=function(t){this.____init(t)},G.Label.prototype={____init:function(t){var e=this;this.className="Label",G.Group.call(this,t),this.on("add.kinetic",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(t){function e(){i._sync()}for(var i=this,n=0;n<tt;n++)t.on($[n]+"Change.kinetic",e)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,i,n,a,r,s,o=this.getText(),h=this.getTag();if(o&&h){switch(t=o.getWidth(),e=o.getHeight(),i=h.getPointerDirection(),n=h.getPointerWidth(),s=h.getPointerHeight(),r=a=0,i){case"up":a=t/2,r=-1*s;break;case"right":a=t+n,r=e/2;break;case"down":a=t/2,r=e+s;break;case"left":a=-1*n,r=e/2}h.setAttrs({x:-1*a,y:-1*r,width:t,height:e}),o.setAttrs({x:-1*a,y:-1*r})}}},G.Util.extend(G.Label,G.Group),G.Collection.mapMethods(G.Label),G.Tag=function(t){this.___init(t)},G.Tag.prototype={___init:function(t){G.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),i=this.getHeight(),n=this.getPointerDirection(),a=this.getPointerWidth(),r=this.getPointerHeight();t.beginPath(),t.moveTo(0,0),"up"===n&&(t.lineTo((e-a)/2,0),t.lineTo(e/2,-1*r),t.lineTo((e+a)/2,0)),t.lineTo(e,0),"right"===n&&(t.lineTo(e,(i-r)/2),t.lineTo(e+a,i/2),t.lineTo(e,(i+r)/2)),t.lineTo(e,i),"down"===n&&(t.lineTo((e+a)/2,i),t.lineTo(e/2,i+r),t.lineTo((e-a)/2,i)),t.lineTo(0,i),"left"===n&&(t.lineTo(0,(i+r)/2),t.lineTo(-1*a,i/2),t.lineTo(0,(i-r)/2)),t.closePath(),t.fillStrokeShape(this)}},G.Util.extend(G.Tag,G.Shape),G.Factory.addGetterSetter(G.Tag,"pointerDirection","none"),G.Factory.addGetterSetter(G.Tag,"pointerWidth",0),G.Factory.addGetterSetter(G.Tag,"pointerHeight",0),G.Factory.addGetterSetter(G.Tag,"cornerRadius",0),G.Collection.mapMethods(G.Tag),I.exports=G});
;/*!wiki-common:widget/lib/larkplayer/source/player.js*/
define("wiki-common:widget/lib/larkplayer/source/player",function(a,t,n){!function(e){"object"==typeof t&&void 0!==n?n.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).larkplayer=e()}(function(){return function r(i,l,o){function u(t,e){if(!l[t]){if(!i[t]){var n="function"==typeof a&&a;if(!e&&n)return n(t,!0);if(s)return s(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n=l[t]={exports:{}};i[t][0].call(n.exports,function(e){return u(i[t][1][e]||e)},n,n.exports,r,i,l,o)}return l[t].exports}for(var s="function"==typeof a&&a,e=0;e<o.length;e++)u(o[e]);return u}({1:[function(e,t,n){"use strict";t.exports=function(e,t,n){if("function"==typeof Array.prototype.find)return e.find(t,n);n=n||this;var r,i=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}},{}],2:[function(e,t,n){},{}],3:[function(r,i,e){!function(e){var t,e=void 0!==e?e:"undefined"!=typeof window?window:{},n=r("min-document");"undefined"!=typeof document?t=document:(t=e["__GLOBAL_DOCUMENT_CACHE@4"])||(t=e["__GLOBAL_DOCUMENT_CACHE@4"]=n),i.exports=t}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":2}],4:[function(e,t,n){!function(e){e="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};t.exports=e}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){var c=9007199254740991,o=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=/^(?:0|[1-9]\d*)$/,d=parseInt;function h(e){return e!=e}function p(e,t){for(var n,r=t,i=-1,l=r?r.length:0,o=Array(l);++i<l;)o[i]=(n=r[i],e[n]);return o}var i,l,y=Object.prototype,g=y.hasOwnProperty,v=y.toString,m=y.propertyIsEnumerable,b=(i=Object.keys,l=Object,Math.max);function w(e,t){var n,r,i,l,o,u=_(e)||T(r=n=e)&&S(r)&&g.call(n,"callee")&&(!m.call(n,"callee")||"[object Arguments]"==v.call(n))?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length,a=!!s;for(i in e)!t&&!g.call(e,i)||a&&("length"==i||(l=i,o=s,(o=null==o?c:o)&&("number"==typeof l||f.test(l))&&-1<l&&l%1==0&&l<o))||u.push(i);return u}function E(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||y))return i(l(e));var t,n,r=[];for(n in Object(e))g.call(e,n)&&"constructor"!=n&&r.push(n);return r}var _=Array.isArray;function S(e){return null!=e&&"number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=c&&"[object Function]"!=(e=M(t=e)?v.call(t):"")&&"[object GeneratorFunction]"!=e;var t}function M(e){var t=typeof e;return e&&("object"==t||"function"==t)}function T(e){return e&&"object"==typeof e}t.exports=function(e,t,n,r){var i;e=S(e)?e:e?p(e,(S(i=e)?w:E)(i)):[],n=n&&!r?(l=(r=(i=n)?(i=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||T(t)&&"[object Symbol]"==v.call(t))return NaN;if("string"!=typeof(e=M(e)?M(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=e.replace(o,"");var t=s.test(e);return t||a.test(e)?d(e.slice(2),t?2:8):u.test(e)?NaN:+e}(i))===1/0||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0)%1,r==r?l?r-l:r:0):0;var l=e.length;return n<0&&(n=b(l+n,0)),"string"==typeof(r=e)||!_(r)&&T(r)&&"[object String]"==v.call(r)?n<=l&&-1<e.indexOf(t,n):!!l&&-1<function(e,t,n){if(t!=t){for(var r=e,i=h,l=r.length,o=n+-1;++o<l;)if(i(r[o],o,r))return o;return-1}for(var u=n-1,s=e.length;++u<s;)if(e[u]===t)return u;return-1}(e,t,n)}},{}],6:[function(e,t,n){var c=9007199254740991,f=/^(?:0|[1-9]\d*)$/;function r(e,t){for(var n,r=t,i=-1,l=r?r.length:0,o=Array(l);++i<l;)o[i]=(n=r[i],e[n]);return o}var i,l,o=Object.prototype,d=o.hasOwnProperty,h=o.toString,p=o.propertyIsEnumerable;i=Object.keys,l=Object;function u(e,t){var n,r,i,l,o,u=y(e)||(r=n=e)&&"object"==typeof r&&g(n)&&d.call(n,"callee")&&(!p.call(n,"callee")||"[object Arguments]"==h.call(n))?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length,a=!!s;for(i in e)!t&&!d.call(e,i)||a&&("length"==i||(l=i,o=s,(o=null==o?c:o)&&("number"==typeof l||f.test(l))&&-1<l&&l%1==0&&l<o))||u.push(i);return u}function s(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||o))return i(l(e));var t,n,r=[];for(n in Object(e))d.call(e,n)&&"constructor"!=n&&r.push(n);return r}var y=Array.isArray;function g(e){return null!=e&&"number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=c&&(t=typeof e,"[object Function]"!=(t=!e||"object"!=t&&"function"!=t?"":h.call(e))&&"[object GeneratorFunction]"!=t);var t}t.exports=function(e){return e?r(e,(g(e=e)?u:s)(e)):[]}},{}],7:[function(e,t,n){"use strict";var s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return}}()?Object.assign:function(e,t){for(var n,r=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var l in n=Object(arguments[i]))a.call(n,l)&&(r[l]=n[l]);if(s)for(var o=s(n),u=0;u<o.length;u++)c.call(n,o[u])&&(r[o[u]]=n[o[u]])}return r}},{}],8:[function(e,t,n){!function(e){!function(e){"use strict";var n,r;function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id","_WeakMap_"+l()+"."+l()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function i(e,t){if(!o(e)||!n.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function l(){return Math.random().toString().substring(2)}function o(e){return Object(e)===e}e.WeakMap||(n=Object.prototype.hasOwnProperty,e.WeakMap=((r=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n})(t.prototype,"delete",function(e){if(i(this,"delete"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))}),r(t.prototype,"get",function(e){var t;if(i(this,"get"),o(e))return(t=e[this._id])&&t[0]===e?t[1]:void 0}),r(t.prototype,"has",function(e){if(i(this,"has"),!o(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),r(t.prototype,"set",function(e,t){if(i(this,"set"),!o(e))throw new TypeError("Invalid value used as weak map key");var n=e[this._id];return n&&n[0]===e?n[1]=t:r(e,this._id,[e,t]),this}),r(t,"_polyfill",!0),t))}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=r.isEl(e.el)?e.el:r.createElement("div");e.on=function(e,t){i.on(n,e,t)},e.off=function(e,t){i.off(n,e,t)},e.one=function(e,t){i.one(n,e,t)},e.trigger=function(e,t){i.trigger(n,e,t)}};var r=l(e("../utils/dom")),i=l(e("./events"));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},{"../utils/dom":23,"./events":10}],10:[function(e,t,n){"use strict";n.__esModule=!0,n.on=u,n.off=s,n.one=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];function i(){n(),s(e,t,i,r)}o.has(n)?u(e,t,o.get(n),r):(o.set(n,i),u(e,t,i,r))},n.trigger=function(e,t){var n=(0,l.default)({bubbles:!1,cancelable:!0,detail:null},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}),r=i.default.createEvent("CustomEvent");r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),e.dispatchEvent(r)};var i=r(e("global/document")),l=r(e("object-assign"));function r(e){return e&&e.__esModule?e:{default:e}}e("weakmap-polyfill");var o=new WeakMap;function u(e,t,n){e.addEventListener(t,n,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}function s(e,t,n){var r,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];o.has(n)&&(r=o.get(n),e.removeEventListener(t,r,i)),e.removeEventListener(t,n,i)}},{"global/document":3,"object-assign":7,"weakmap-polyfill":8}],11:[function(e,t,n){"use strict";n.__esModule=!0;var r=e("global/document"),i=r&&r.__esModule?r:{default:r},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../events/events")),o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u={};o.forEach(function(e,t){e&&e[1]in i.default&&e.forEach(function(e,t){u[o[0][t]]=e})}),n.default={requestFullscreen:function(e){e[u.requestFullscreen]()},exitFullscreen:function(){i.default[u.exitFullscreen]()},fullscreenElement:function(){return i.default[u.fullscreenElement]},fullscreenEnabled:function(){return i.default[u.fullscreenEnabled]},isFullscreen:function(){return!!this.fullscreenElement()},fullscreenchange:function(e){l.on(i.default,u.fullscreenchange,e)},fullscreenerror:function(e){l.on(i.default,u.fullscreenerror,e)},off:function(e,t){e?t?l.off(i.default,e,t):l.off(i.default,e):(l.off(i.default,u.fullscreenchange),l.off(i.default,u.fullscreenerror))}}},{"../events/events":10,"global/document":3}],12:[function(e,t,n){"use strict";n.__esModule=!0;var r=n.HTML5_WRITABLE_ATTRS=["src","crossOrigin","poster","preload","autoplay","loop","muted","defaultMuted","controls","controlsList","width","height","playsinline","playbackRate","defaultPlaybackRate","volume","currentTime"],i=(n.HTML5_WRITABLE_BOOL_ATTRS=["autoplay","loop","muted","defaultMuted","controls","playsinline"],n.HTML5_READONLY_ATTRS=["error","currentSrc","networkState","buffered","readyState","seeking","duration","paused","played","seekable","ended","videoWidth","videoHeight"]);n.default=[].concat(r,i)},{}],13:[function(e,t,n){"use strict";n.__esModule=!0,n.default=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"]},{}],14:[function(e,t,n){"use strict";n.__esModule=!0;var r=f(e("global/window")),i=f(e("global/document")),l=f(e("lodash.includes")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils/dom")),u=f(e("../utils/to-title-case")),s=f(e("../utils/normalize-source")),a=f(e("../events/evented")),c=e("./html5-attrs"),e=f(c);function f(e){return e&&e.__esModule?e:{default:e}}h.prototype.dispose=function(){h.disposeMediaElement(this.el)},h.prototype.proxyWebkitFullscreen=function(){var e,t,n=this;"webkitDisplayingFullscreen"in this.el&&(t=function(){this.trigger("fullscreenchange",{detail:{isFullscreen:!1}})},e=(e=function(){"webkitPresentationMode"in this.el&&"picture-in-picture"!==this.el.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{detail:{isFullscreen:!0}}))}).bind(this),t=t.bind(this),this.on("webkitbeginfullscreen",e),this.on("dispose",function(){n.off("webkitbeginfullscreen",e),n.off("webkitendfullscreen",t)}))},h.prototype.supportsFullScreen=function(){if("function"==typeof this.el.webkitEnterFullScreen){var e=r.default.navigator&&r.default.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},h.prototype.enterFullScreen=function(){"function"==typeof this.el.webkitEnterFullScreen&&this.el.webkitEnterFullScreen()},h.prototype.exitFullScreen=function(){"function"==typeof this.el.webkitExitFullScreen&&(this.player.removeClass("lark-fullscreen"),this.el.webkitExitFullScreen())},h.prototype.src=function(e){if(void 0===e)return this.el.currentSrc||this.el.src;this.setSrc(e)},h.prototype.source=function(e){var t;if(void 0===e)return t=o.$$("source",this.el),Array.from(t).map(function(e){return{src:e.src,type:e.type}});e=(0,s.default)(e);var n=i.default.createDocumentFragment();e.forEach(function(e){e=o.createElement("source",{src:e.src,type:e.type});n.appendChild(e)}),this.el.appendChild(n)},h.prototype.reset=function(){h.resetMediaElement(this.el)};var d=h;function h(e,t){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.player=e,this.options=t,this.el=this.options.el,(0,a.default)(this,{eventBusKey:this.el}),this.proxyWebkitFullscreen()}(n.default=d).TEST_VID=i.default.createElement("video"),d.isSupported=function(){try{d.TEST_VID.volume=.5}catch(e){return!1}return!(!d.TEST_VID||!d.TEST_VID.canPlayType)},d.canPlayType=function(e){return d.TEST_VID.canPlayType(e)},d.canControlPlaybackRate=function(){try{var e=d.TEST_VID.playbackRate;return d.TEST_VID.playbackRate=e/2+.1,e!==d.TEST_VID.playbackRate}catch(e){return!1}},d.disposeMediaElement=function(e){d.resetMediaElement(e),e.parentNode&&e.parentNode.removeChild(e)},d.resetMediaElement=function(e){if(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(e){}}},e.default.forEach(function(e){d.prototype[e]=function(){return(0,l.default)(c.HTML5_WRITABLE_BOOL_ATTRS,e)?this.el[e]||this.el.hasAttribute(e):this.el[e]}}),c.HTML5_WRITABLE_ATTRS.forEach(function(t){d.prototype["set"+(0,u.default)(t)]=function(e){!1===(this.el[t]=e)&&this.el.removeAttribute(t)}}),["pause","load","play"].forEach(function(e){d.prototype[e]=function(){return this.el[e]()}})},{"../events/evented":9,"../utils/dom":23,"../utils/normalize-source":28,"../utils/to-title-case":31,"./html5-attrs":12,"global/document":3,"global/window":4,"lodash.includes":5}],15:[function(e,t,n){"use strict";var i=d(e("object-assign")),l=f(e("./utils/dom")),r=f(e("./events/events")),o=d(e("./player")),u=d(e("./html5/html5")),s=d(e("./plugin/component")),a=d(e("./plugin/media-source-handler")),c=d(e("./plugin/plugin")),e=d(e("./utils/utils"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return!!u.default.isSupported()&&new(Function.prototype.bind.apply(o.default,[null].concat(function(e,t,n){var r,t=1<arguments.length&&void 0!==t?t:{},n=2<arguments.length&&void 0!==n?n:function(){},t=(0,i.default)({playsinline:!0},t);if("string"==typeof e&&(e=l.$(/^#/.test(e)?e:"#"+e)),l.isEl(e))return"VIDEO"!==e.tagName.toUpperCase()&&(r=l.createElement("video",{id:e.id+"-video"}),e.appendChild(r),e=r),[e,t,n];throw new Error("[larkplayer initial error]: el should be an id or DOM element!")}(e,t,n))))}(0,i.default)(h,{Events:r,DOM:l,Component:s.default,MediaSourceHandler:a.default,Plugin:c.default,util:e.default}),t.exports=h},{"./events/events":10,"./html5/html5":14,"./player":16,"./plugin/component":17,"./plugin/media-source-handler":18,"./plugin/plugin":21,"./utils/dom":23,"./utils/utils":32,"object-assign":7}],16:[function(e,t,n){"use strict";n.__esModule=!0;var r=_(e("lodash.includes")),i=_(e("global/document")),l=_(e("./html5/html5")),o=_(e("./html5/html5-events")),u=e("./html5/html5-attrs"),s=_(e("./html5/fullscreen")),a=_(e("./plugin/component")),c=_(e("./plugin/media-source-handler")),f=_(e("./plugin/plugin")),d=_(e("./plugin/plugin-types")),h=E(e("./events/events")),p=E(e("./utils/dom")),y=_(e("./utils/to-title-case")),g=_(e("./events/evented")),v=e("./utils/obj"),m=_(e("./utils/log")),b=_(e("./utils/computed-style")),w=_(e("./utils/feature-detector"));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}M.prototype.initialNormalPlugins=function(){var n=this;this[d.default.OTHERS]={},f.default.getAll().forEach(function(e){var t=e._displayName,e=new e(n,n.getPluginOptions(t,d.default.OTHERS));n[d.default.OTHERS][t]=e})},M.prototype.initialUIPlugins=function(){var r=this;(a.default.player=this)[d.default.UI]={},a.default.getAll().forEach(function(e){var t=e._displayName,e=new e(r,r.getPluginOptions(t,d.default.UI)),n=e.el;r.el.appendChild(n),r[d.default.UI][t]=e})},M.prototype.getPluginOptions=function(e,t){return this.options&&this.options[t]&&this.options[t][e]},M.prototype.callMS=function(e){this.disposeMS();var t=c.default.select(e);return!!t&&(this.MSHandler=new t(this,this.getPluginOptions(t._displayName,d.default.MS)),this.MSHandler.src(e),!0)},M.prototype.disposeMS=function(){this.MSHandler&&(this.MSHandler.dispose(),this.MSHandler=null)},M.prototype.ready=function(e){var t=this;"function"==typeof e&&(this.isReady?setTimeout(function(){return e.call(t)},1):(this.readyQueue=this.readyQueue||[],this.readyQueue.push(e)))},M.prototype.triggerReady=function(){var t=this;this.isReady=!0,setTimeout(function(){var e=t.readyQueue;t.readyQueue=[],e&&e.length&&e.forEach(function(e){e.call(t)}),t.trigger("ready")},1)},M.prototype.removeClass=function(e){return p.removeClass(this.el,e)},M.prototype.addClass=function(e){return p.addClass(this.el,e)},M.prototype.hasClass=function(e){return p.hasClass(this.el,e)},M.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},M.prototype.dispose=function(){this.trigger("dispose"),s.default.off(),this.disposeMS(),this.tag&&this.tag.player&&(this.tag.player=null),this.el&&this.el.player&&(this.el.player=null),this.tech&&this.tech.dispose()},M.prototype.createEl=function(){var e=this,n=this.tag,t=((0,v.each)(this.options,function(e,t){(0,r.default)(u.HTML5_WRITABLE_ATTRS,t)&&e&&p.setAttribute(n,t,e)}),this.options.source&&this.ready(function(){e.source(e.options.source)}),p.createElement("div",{className:"larkplayer",id:n.id+"-larkplayer"}));return p.setAttribute(n,"tabindex","-1"),n.parentNode&&n.parentNode.insertBefore(t,n),n.hasAttribute("width")&&(t.style.width=n.getAttribute("width")+"px",n.setAttribute("width","100%")),n.hasAttribute("height")&&(t.style.height=n.getAttribute("height")+"px",n.setAttribute("height","100%")),t.appendChild(n),t},M.prototype.handleLateInit=function(e){var t,n,r,i=this;if(e.error)this.ready(function(){i.trigger("error")});else if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState)return t=!1,this.on("loadstart",n=function(){t=!0}),this.on("loadedmetadata",r=function(){t||i.trigger("loadstart")}),void this.ready(function(){i.off("loadstart",n),i.off("loadedmetadata",r),t||i.trigger("loadstart")});var l=["loadstart","loadedmetadata"];2<=e.readyState&&l.push("loadeddata"),3<=e.readyState&&l.push("canplay"),4<=e.readyState&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(e){i.trigger(e)})})}},M.prototype.loadTech=function(){var t=this,n=(this.options.el=this.tag,new l.default(this.player,this.options));return o.default.forEach(function(e){h.on(n.el,e,function(){t.trigger(e)})}),this.off("play",this.handleFirstplay),this.one("play",this.handleFirstplay),h.on(n.el,"fullscreenchange",this.handleFullscreenChange),s.default.fullscreenchange(this.handleFullscreenChange),s.default.fullscreenerror(this.handleFullscreenError),n},M.prototype.techGet=function(e){return this.tech[e]()},M.prototype.techCall=function(e,t){try{this.tech[e](t)}catch(e){(0,m.default)(e)}},M.prototype.width=function(e){if(void 0===e)return parseInt((0,b.default)(this.el,"width"),0);/\d$/.test(e)&&(e+="px"),this.el.style.width=e},M.prototype.height=function(e){if(void 0===e)return parseInt((0,b.default)(this.el,"height"),0);/\d$/.test(e)&&(e+="px"),this.el.style.height=e},M.prototype.handleFirstplay=function(){this.trigger("firstplay")},M.prototype.handleTouchEnd=function(e){e.target===this.tech.el&&this.paused()&&this.play()},M.prototype.handleFullscreenChange=function(e){var t={};e.detail&&void 0!==e.detail.isFullscreen?this.fullscreenStatus=e.detail.isFullscreen:s.default.fullscreenEnabled()&&(this.fullscreenStatus=s.default.isFullscreen()),this.isFullscreen()?(t.isFullscreen=!0,this.addClass("lark-fullscreen")):(t.isFullscreen=!1,this.removeClass("lark-fullscreen"),this.removeClass("lark-fullscreen-adjust")),this.trigger("fullscreenchange",{detail:t})},M.prototype.handleFullscreenError=function(){this.trigger("fullscreenerror")},M.prototype.handleClick=function(e){e.target===this.tech.el&&(this.paused()?this.play():this.pause())},M.prototype.isFullscreen=function(){return this.fullscreenStatus||!1},M.prototype.requestFullscreen=function(){this.fullscreenStatus=!0,s.default.fullscreenEnabled()?(this.addClass("lark-fullscreen-adjust"),s.default.requestFullscreen(this.el)):this.tech.supportsFullScreen()?this.techGet("enterFullScreen"):this.enterFullWindow()},M.prototype.exitFullscreen=function(){this.fullscreenStatus=!1,s.default.fullscreenEnabled()&&s.default.isFullscreen()?(this.removeClass("lark-fullscreen-adjust"),s.default.exitFullscreen()):this.tech.supportsFullScreen()?this.techGet("exitFullScreen"):this.exitFullWindow()},M.prototype.enterFullWindow=function(){this.addClass("lark-full-window"),this.trigger("fullscreenchange"),h.on(i.default,"keydown",this.fullWindowOnEscKey)},M.prototype.fullWindowOnEscKey=function(e){27===(e.keyCode||e.which)&&this.exitFullWindow()},M.prototype.exitFullWindow=function(){this.removeClass("lark-full-window"),this.trigger("fullscreenchange"),h.off(i.default,"keydown",this.fullWindowOnEscKey)},M.prototype.internalPlay=function(){var e=this.techGet("play");e&&e.then&&e.then(null,function(e){m.default.error(e)})},M.prototype.play=function(){this.MSHandler?this.MSHandler.play():this.isReady?this.internalPlay():this.ready(this.internalPlay)},M.prototype.pause=function(){this.techCall("pause")},M.prototype.load=function(){this.techCall("load")},M.prototype.reset=function(){this.pause(),this.techCall("reset"),this.children.forEach(function(e){e&&e.reset&&e.reset()})},M.prototype.currentTime=function(e){if(void 0===e)return this.techGet("currentTime")||0;this.techCall("setCurrentTime",e)},M.prototype.remainingTime=function(){return this.duration()-this.currentTime()},M.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration();return!(!e||!t)&&e.end(e.length-1)===t},M.prototype.src=function(e){if(void 0===e)return this.techGet("src");this.callMS(e)||this.techCall("setSrc",e),this.off("play",this.handleFirstplay),this.one("play",this.handleFirstplay),this.trigger("srcchange",{detail:e})},M.prototype.source=function(e){if(void 0===e)return this.techGet("source");this.techCall("source",e),this.trigger("srcchange",{detail:this.player.src()})};var S=M;function M(e,t,n){if(!(this instanceof M))throw new TypeError("Cannot call a class as a function");this.isReady=!1,(this.player=this).options=t,this.tag=e,this.el=this.createEl(),this.ready(n),(0,g.default)(this,{eventBusKey:this.el}),this.handleFirstplay=this.handleFirstplay.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.handleFullscreenChange=this.handleFullscreenChange.bind(this),this.handleFullscreenError=this.handleFullscreenError.bind(this),this.handleClick=this.handleClick.bind(this),this.fullWindowOnEscKey=this.fullWindowOnEscKey.bind(this),w.default.touch?this.on("touchend",this.handleTouchEnd):this.on("click",this.handleClick),this.tech||(this.tech=this.loadTech());t=this.src();t&&(this.handleLateInit(this.tech.el),this.callMS(t)),this.initialUIPlugins(),this.initialNormalPlugins(),this.triggerReady()}u.HTML5_WRITABLE_ATTRS.filter(function(e){return!(0,r.default)(["src","currentTime","width","height"],e)}).forEach(function(t){S.prototype[t]=function(e){if(void 0===e)return this.techGet(t);this.techCall("set"+(0,y.default)(t),e),this.options[t]=e}}),u.HTML5_READONLY_ATTRS.forEach(function(e){S.prototype[e]=function(){return this.techGet(e)}}),n.default=S},{"./events/evented":9,"./events/events":10,"./html5/fullscreen":11,"./html5/html5":14,"./html5/html5-attrs":12,"./html5/html5-events":13,"./plugin/component":17,"./plugin/media-source-handler":18,"./plugin/plugin":21,"./plugin/plugin-types":20,"./utils/computed-style":22,"./utils/dom":23,"./utils/feature-detector":24,"./utils/log":26,"./utils/obj":29,"./utils/to-title-case":31,"global/document":3,"lodash.includes":5}],17:[function(e,t,n){"use strict";n.__esModule=!0;var r=a(e("./plugin-store")),i=a(e("./plugin-types")),o=s(e("../utils/dom")),l=(s(e("../events/events")),a(e("../events/evented"))),u=a(e("../utils/to-camel-case"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this;if(!(n instanceof c))throw new TypeError("Cannot call a class as a function");this.player=e,this.options=t,this.el=this.createEl(this.options),(0,l.default)(this,{eventBusKey:this.el}),this.dispose=this.dispose.bind(this),this.player.on("dispose",this.dispose)}c.prototype.createEl=function(){return o.createElement("div",this.options)},c.prototype.dispose=function(){this.player.off("dispose",this.dispose),o.isEl(this.el)&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.player=null,this.options=null,this.el=null},c.createElement=function(e){var t=(t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})||{},n=void 0;"string"==typeof e?n=c.get((0,u.default)(e)):e.prototype instanceof c&&(n=e);for(var r=arguments.length,i=Array(2<r?r-2:0),l=2;l<r;l++)i[l-2]=arguments[l];return n?(n=new n(this.player,t).el,i&&o.appendContent(n,i),n):o.createElement.apply(o,[e,t].concat(i))},c.register=function(e,t){return r.default.add(e,t,i.default.UI)},c.unregister=function(e){r.default.delete(e,i.default.UI)},c.get=function(e){return r.default.get(e,i.default.UI)},c.getAll=function(){return r.default.getAll(i.default.UI)},n.default=c},{"../events/evented":9,"../events/events":10,"../utils/dom":23,"../utils/to-camel-case":30,"./plugin-store":19,"./plugin-types":20}],18:[function(e,t,n){"use strict";n.__esModule=!0;var r=o(e("array-find")),i=o(e("./plugin-store")),l=o(e("./plugin-types"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.player=e,this.options=t}u.prototype.src=function(e){this.player.techCall("setSrc",e)},u.prototype.play=function(){this.player.techCall("play")},u.prototype.dispose=function(){this.player=null,this.options=null},u.canPlay=function(e,t){return!1},u.register=function(e,t){return i.default.add(e,t,l.default.MS)},u.unregister=function(e){i.default.delete(e,l.default.MS)},u.getAll=function(){return i.default.getAll(l.default.MS)},u.select=function(t,n){var e=u.getAll();return(0,r.default)(e,function(e){return e.canPlay(t,n)})},n.default=u},{"./plugin-store":19,"./plugin-types":20,"array-find":1}],19:[function(e,t,n){"use strict";n.__esModule=!0;var r=c(e("lodash.values")),i=c(e("./component")),l=c(e("./media-source-handler")),o=c(e("./plugin")),u=c(e("./plugin-types")),s=e("../utils/guid"),a=c(e("../utils/to-camel-case"));function c(e){return e&&e.__esModule?e:{default:e}}var f=u.default.UI,d=u.default.MS,h=u.default.OTHERS;function p(){var e;return(e={})[f]={},e[d]={},e[h]={},e}n.default={store:p(),validate:function(e,t){switch(t){case f:return e&&e.prototype instanceof i.default;case d:return e&&e.prototype instanceof l.default;case h:return e&&e.prototype instanceof o.default;default:return!1}},has:function(e,t){return this.store[t]&&this.store[t][e]},add:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return!!this.validate(e,n)&&(t=t.name||(0,a.default)(e.name)||"plugin_"+(0,s.newGUID)(),e._displayName=t,this.has(t,n)||(this.store[n][t]=e),!0)},delete:function(e,t){this.has(e,t)&&delete this.store[t][e]},clear:function(){this.store=p()},get:function(e,t){if(this.has(e,t))return this.store[t][e]},getAll:function(e){switch(e){case f:return(0,r.default)(this.store[f]);case d:return(0,r.default)(this.store[d]);case h:return(0,r.default)(this.store[h]);default:var t,n=[];for(t in this.store)this.store.hasOwnProperty(t)&&n.concat((0,r.default)(this.store[t]));return n}}}},{"../utils/guid":25,"../utils/to-camel-case":30,"./component":17,"./media-source-handler":18,"./plugin":21,"./plugin-types":20,"lodash.values":6}],20:[function(e,t,n){"use strict";n.__esModule=!0,n.default={UI:"UI",MS:"MS",OTHERS:"plugin"}},{}],21:[function(e,t,n){"use strict";n.__esModule=!0;var r=l(e("./plugin-store")),i=l(e("./plugin-types"));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this;if(!(n instanceof o))throw new TypeError("Cannot call a class as a function");this.player=e,this.options=t,this.dispose=this.dispose.bind(this),this.player.on("dispose",this.dispose)}o.prototype.dispose=function(){this.player=null,this.options=null},o.register=function(e,t){r.default.add(e,t,i.default.OTHERS)},o.unregister=function(e){r.default.delete(e,i.default.OTHERS)},o.get=function(e){r.default.get(e,i.default.OTHERS)},o.getAll=function(){return r.default.getAll(i.default.OTHERS)},n.default=o},{"./plugin-store":19,"./plugin-types":20}],22:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){return e&&t?"function"==typeof r.default.getComputedStyle?(n=r.default.getComputedStyle(e))?n[t]:"":e.currentStyle&&e.currentStyle[t]||"":"";var n};var n=e("global/window"),r=n&&n.__esModule?n:{default:n}},{"global/window":4}],23:[function(e,t,n){"use strict";n.__esModule=!0,n.$$=n.$=void 0,n.isReal=function(){return void 0!==o.default.createElement},n.isEl=c,n.createQuerier=f,n.createEl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=o.default.createElement(e);return null==n&&(n={}),null==t&&(t={}),Object.keys(n).forEach(function(e){var t=n[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?i.setAttribute(e,t):"textContent"===e?d(i,t):i[e]=t}),Object.keys(t).forEach(function(e){i.setAttribute(e,t[e])}),r&&S(i,r),i},n.createElement=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=o.default.createElement(e);null==t&&(t={}),Object.keys(t).forEach(function(e){m(n,"className"===e?"class":e,t[e]),n[e]=t[e]});for(var r=arguments.length,i=Array(2<r?r-2:0),l=2;l<r;l++)i[l-2]=arguments[l];return i&&S(n,i),n},n.textContent=d,n.normalizeContent=h,n.isTextNode=p,n.prependTo=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},n.parent=function(e,t){for(var n=null;e&&e.parentNode;)e=y(e.parentNode,t)?(n=e.parentNode,null):e.parentNode;return n},n.hasClass=y,n.addClass=g,n.removeClass=v,n.toggleClass=function(e,t,n){var r=y(e,t);if((n="boolean"!=typeof(n="function"==typeof n?n(e,t):n)?!r:n)!==r)return(n?g:v)(e,t),e},n.setAttributes=function(n,r){Object.keys(r).forEach(function(e){var t=r[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})},n.getAttributes=function(e){var t={},n=["autoplay","controls","playsinline","webkit-playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length)for(var r=e.attributes,i=0;i<r.length;i++){var l=r[i].name,o=r[i].value;"boolean"!=typeof e[l]&&!(0,u.default)(n,l)||(o=null!==o),t[l]=o}return t},n.getAttribute=function(e,t){return e.getAttribute(t)},n.setAttribute=m,n.removeAttribute=b,n.blockTextSelection=function(){o.default.body.focus(),o.default.onselectstart=function(){return!1}},n.unblockTextSelection=function(){o.default.onselectstart=function(){return!0}},n.getBoundingClientRect=w,n.findPosition=E,n.getPointerPosition=function(e,t){var n=E(e),r=e.offsetWidth,e=e.offsetHeight,i=n.top,n=n.left,l=t.pageX,o=t.pageY;return t.changedTouches&&(l=t.changedTouches[0].pageX,o=t.changedTouches[0].pageY),{x:Math.max(0,Math.min(1,(l-n)/r)),y:Math.max(0,Math.min(1,(i-o+e)/e))}},n.emptyEl=_,n.appendContent=S,n.insertContent=function(e,t){return S(_(e),t)},n.replaceContent=function(e,t){return S(_(e),t)};var u=s(e("lodash.includes")),l=s(e("global/window")),o=s(e("global/document")),r=e("./obj"),i=s(e("./computed-style"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return"string"==typeof e&&/\S/.test(e)}function c(e){return(0,r.isObject)(e)&&1===e.nodeType}function f(n){return function(e,t){if(!a(e))return o.default[n](null);t=c(t=a(t)?o.default.querySelector(t):t)?t:o.default;return t[n]&&t[n](e)}}function d(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function h(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[].concat(e)).map(function(e){return c(e="function"==typeof e?e():e)||p(e)?e:a(e)?o.default.createTextNode(e):void 0}).filter(function(e){return!!e})}function p(e){return(0,r.isObject)(e)&&3===e.nodeType}function y(e,t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters");return e.classList?e.classList.contains(t):new RegExp("(^|\\s+)"+t+"($|\\s+)").test(e.className)}function g(e,t){return e.classList?e.classList.add(t):y(e,t)||(e.className=(e.className+" "+t).trim()),e}function v(e,t){return y(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function m(e,t,n){!1===n?b(e,t):e.setAttribute(t,!0===n?"":n)}function b(e,t){e.removeAttribute(t)}function w(e){var t,n;if(e&&e.getBoundingClientRect&&e.parentNode)return t=e.getBoundingClientRect(),n={},["top","right","bottom","left","width","height"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat((0,i.default)(e,"height"))),n.width||(n.width=parseFloat((0,i.default)(e,"width"))),n}function E(e){e=w(e);if(!e)return{left:0,top:0};var t=o.default.documentElement,n=o.default.body,r=t.clientLeft||n.clientLeft||0,i=l.default.pageXOffset||n.scrollLeft,i=e.left+i-r,r=t.clientLeft||n.clientLeft||0,t=l.default.pageYOffset||n.scrollTop,n=e.top+t-r;return{left:Math.round(i),top:Math.round(n)}}function _(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function S(t,e){return h(e).forEach(function(e){return t.appendChild(e)}),t}n.$=f("querySelector"),n.$$=f("querySelectorAll")},{"./computed-style":22,"./obj":29,"global/document":3,"global/window":4,"lodash.includes":5}],24:[function(e,t,n){"use strict";n.__esModule=!0;e=e("global/document"),e=e&&e.__esModule?e:{default:e};n.default={touch:"ontouchend"in e.default}},{"global/document":3}],25:[function(e,t,n){"use strict";n.__esModule=!0,n.newGUID=function(){return r++};var r=1},{}],26:[function(e,t,n){"use strict";function r(){var e;(e=console).log.apply(e,arguments)}n.__esModule=!0,(n.default=r).info=console.info,r.warn=console.warn,r.error=console.error,r.clear=console.clear},{}],27:[function(e,t,n){"use strict";n.__esModule=!0,n.default={flv:"video/x-flv",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",m3u8:"application/x-mpegURL",ts:"video/MP2T","3gp":"video/3gpp",mov:"video/quicktime",avi:"video/x-msvideo",wmv:"video/x-ms-wmv"}},{}],28:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){if((0,r.isPlain)(e))return[o(e)];if(Array.isArray(e))return e.map(o);throw new TypeError("Source should be an Object or an Array which contains Object")};var r=e("./obj"),n=e("./mime-type-map"),i=n&&n.__esModule?n:{default:n},l=/\.([\w]+)$/;function o(e){if(!(0,r.isPlain)(e))throw new TypeError("SingleSource should be an Object");if("string"!=typeof e.src)throw new TypeError("SingleSource.src should be a string");if(e.hasOwnProperty("type")&&"string"!=typeof e.type)throw new TypeError("SingleSource.type should be a string");return e.type||(e.type=(t=e.src,n="","string"==typeof t&&(t=t.match(l),Array.isArray(t)&&(n=t[1])),i.default[n])),e;var t,n}},{"./mime-type-map":27,"./obj":29}],29:[function(e,t,n){"use strict";n.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){return!!e&&"object"===(void 0===e?"undefined":r(e))}n.isObject=i,n.isPlain=function(e){return i(e)&&"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object},n.each=function(t,n){Object.keys(t).forEach(function(e){return n(t[e],e)})}},{}],30:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){return"string"!=typeof e?e:e.charAt(0).toLowerCase()+e.slice(1)}},{}],31:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}},{}],32:[function(e,t,n){"use strict";n.__esModule=!0;var r=p(e("array-find")),i=p(e("lodash.includes")),l=p(e("lodash.values")),o=p(e("object-assign")),u=p(e("./computed-style")),s=p(e("./feature-detector")),a=h(e("./guid")),c=p(e("./mime-type-map")),f=h(e("./obj")),d=p(e("./to-camel-case")),e=p(e("./to-title-case"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}n.default={find:r.default,includes:i.default,values:l.default,assign:o.default,computedStyle:u.default,featureDetector:s.default,guid:a,mimeTypeMap:c.default,obj:f,toCamelCase:d.default,toTitleCase:e.default}},{"./computed-style":22,"./feature-detector":24,"./guid":25,"./mime-type-map":27,"./obj":29,"./to-camel-case":30,"./to-title-case":31,"array-find":1,"lodash.includes":5,"lodash.values":6,"object-assign":7}]},{},[15])(15)})});
;/*!wiki-common:widget/lib/larkplayer/larkplayer-hls.js*/
define("wiki-common:widget/lib/larkplayer/larkplayer-hls",function(e,t,l){var o=e("wiki-common:widget/lib/jquery/jquery"),i=e("wiki-common:widget/lib/larkplayer/source/player"),n=e("wiki-common:node_modules/hls.js/dist/hls"),a=i.MediaSourceHandler,c={loadLevel:0,maxMaxBufferLength:100,testBandwidth:!1},r=[{height:320},{height:480},{height:720}],s=r.length-1;function d(e,t){var l=(t=t||r)[s];if(l&&e>=l.height)return s;for(var i=0;i<t.length;i++)if(e<=(t[i]||{}).height)return i;return t.length-1}function h(l,e){e=o.extend({},e,c),a.call(this,l,e),this.player.isReady=!1,this.tipEl=null,o(".lark-custom-controls.lark-custom-controls--pc").append('<div class="larkplayer-quality-tip">正在为您切换成全屏播放模式</div>'),this.tipEl=o(".larkplayer-quality-tip");var t,i,r,s=this,h=(t=l,i=window.devicePixelRatio||1,r=0,(r=t&&"function"==typeof t.height?t.height()||0:r)*i||0);this.loadLevel=d(h),this.maxLevel=2,this.hls=new n(e),this.hls.loadLevel=this.loadLevel,this.lastFragment=null,this.currentLevel=this.loadLevel,this.timer1=null,this.timer2=null,this.hls.on(n.Events.MANIFEST_PARSED,function(e,t){t&&t.levels&&t.levels.length&&(s.hls.loadLevel=d(h,t.levels),s.maxLevel=t.levels.length-1),l.triggerReady()}),this.hls.on(n.Events.FRAG_CHANGED,function(e,t){var t=t.frag||{},l=s.lastFragment;l&&s.currentLevel>l.level&&(s.hls.trigger(n.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:t.startDTS}),s.tipEl&&(s.timer1=setTimeout(function(e){s.tipEl.text("已成功为您切换全屏播放模式")},1e3),s.timer2=setTimeout(function(e){s.tipEl.hide()},2e3))),s.lastFragment=t}),this.hls.on(n.Events.ERROR,function(e,t){t.fatal&&(t.type===n.ErrorTypes.MEDIA_ERROR?s.handleMediaError():(n.ErrorTypes.NETWORK_ERROR,s.hls.destroy()))}),this.handleFullscreenLevel=this.handleFullscreenLevel.bind(this),this.player.on("fullscreenchange",this.handleFullscreenLevel)}((h.prototype=Object.create(a.prototype)).constructor=h).prototype.src=function(e){this.player.isReady=!1,this.hls.attachMedia(this.player.tech.el),this.hls.loadSource(e)},h.prototype.internalPlay=function(){var e=this.player.techGet("play");e&&e.then&&e.then(null,function(e){console&&console.error&&console.error(e)})},h.prototype.handleFullscreenLevel=function(e){var e=e.detail.isFullscreen,t=this.maxLevel;this.hls&&(e&&this.hls.currentLevel!==t?(this.hls.nextLevel=t,this.hls.nextLoadLevel=t,this.hls.loadLevel=t,this.currentLevel=t,this.tipEl&&this.hls.nextLevel!==t&&(this.tipEl.text("正在为您切换成全屏播放模式"),this.tipEl.show())):e||(this.hls.nextLoadLevel=this.loadLevel,this.hls.loadLevel=this.loadLevel,this.currentLevel=this.loadLevel,this.tipEl&&this.tipEl.hide()))},h.prototype.play=function(){this.player.isReady?this.internalPlay():this.player.ready(this.internalPlay)},h.prototype.handleMediaError=function(){var e=Date.now();!this.recoverDecodingErrorDate||3e3<e-this.recoverDecodingErrorDate?(this.recoverDecodingErrorDate=e,this.hls.recoverMediaError()):!this.recoverSwapAudioCodecDate||3e3<e-this.recoverSwapAudioCodecDate?(this.recoverSwapAudioCodecDate=e,this.hls.swapAudioCodec(),this.hls.recoverMediaError()):this.hls.destroy()},h.prototype.dispose=function(){this.player&&this.player.off&&this.player.off("fullscreenchange",this.handleFullscreenLevel),this.hls instanceof n&&(this.hls.destroy(),this.hls.bufferTimer&&(clearInterval(this.hls.bufferTimer),this.hls.bufferTimer=void 0)),clearTimeout(this.timer1),clearTimeout(this.timer2),this.hls=null},h.canPlay=function(e,t){return n.isSupported()&&(/application\/((x-mpegURL)|(vnd\.apple\.mpegurl))/i.test(t)||/\.m3u8?/i.test(e))},a.register(h,{name:"hls"})});
;/*!wiki-common:widget/lib/larkplayer/larkplayer-play-continue.js*/
define("wiki-common:widget/lib/larkplayer/larkplayer-play-continue",function(e,t,r){var e=e("wiki-common:widget/lib/larkplayer/source/player"),i=e.Plugin,n=(e.Events,"larkplayer_last_played_time"),o=window.localStorage;function a(e,t){var r;a.lastTimestamp?(r=Date.now())-a.lastTimestamp>t&&(e(),a.lastTimestamp=r):a.lastTimestamp=Date.now()}function s(e,t){var r;i.call(this,e,t=t||{}),function(t){t=window[t];try{var e="__storage_test__";return t.setItem(e,e),t.removeItem(e),1}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==t.length}}("localStorage")&&(this.recordPlayedTime=this.recordPlayedTime.bind(this),this.setCurrentTime=this.setCurrentTime.bind(this),r=this,e.on("timeupdate",function(){a(r.recordPlayedTime,1e3)}),e.on("loadedmetadata",function(){e.paused()?e.one("play",function(){r.setCurrentTime()}):r.setCurrentTime()}))}o.removeItem(n),((s.prototype=Object.create(i.prototype)).constructor=s).prototype.setCurrentTime=function(){var e=this.player.src(),e="function"==typeof this.options.key?this.options.key(e):e,t=JSON.parse(o.getItem(n)||"{}"),t=parseInt(t[e],10),e=this.player.duration()-5;t&&t<e&&this.player.currentTime(t)},s.prototype.recordPlayedTime=function(){var e,t,r;this.player&&(e=this.player.src(),e="function"==typeof this.options.key?this.options.key(e):e,0<(t=this.player.currentTime())&&e&&((r=JSON.parse(o.getItem(n)||"{}"))[e]=t,o.setItem(n,JSON.stringify(r))))},i.register(s,{name:"playContinue"})});
;/*!wiki-common:widget/lib/larkplayer/larkplayer-play-via-second-id.js*/
define("wiki-common:widget/lib/larkplayer/larkplayer-play-via-second-id",function(e,o,r){var a=e("wiki-common:widget/lib/larkplayer/source/player"),d=(e("wiki-common:widget/lib/jquery/jquery"),e("wiki-common:widget/component/nslog/nslog")),m=e("wiki-common:widget/component/superLogger/superLogger.es"),l=e("wiki-common:widget/tools/clickstream/clickstream"),y=11000003,p=11000004,g=11000005,u=a.Plugin;function t(a,o){o=o||{},u.call(this,a,o);var t,r,i,n=o.secondId,c=o.lemmaId,s=o.maxRetryTimes||3;n&&(t=0,r=!1,(i=this).videoPlayDurations=null,a.on("timeupdate",function(){var e=a.currentTime();0<e&&(t=e),!r&&3<=e&&(r=!0,m.sendPv("video_flow_playtime_3seconds",{currentTime:e,duration:a.duration(),playerSrc:a.src(),recCategory:o.recCategory,isRecommend:o.isRecommend}),l.logActEvent({page:"lemma",act_type:"duplicated-validplay-log",recCategory:o.recCategory,isRecommend:o.isRecommend}))}),a.on("ready",function(){s=o.maxRetryTimes}),a.on("play",function(){d({type:p,src:a.src()}),i.videoPlayDurations={startTime:(new Date).getTime(),params:{type:p,src:a.src(),secondId:n}}}),a.on("firstplay",function(){m.sendPv("video_flow_first_play",{secondId:n,recCategory:o.recCategory,isRecommend:o.isRecommend}),l.logActEvent({page:"lemma",act_type:"duplicated-play-log",recCategory:o.recCategory,isRecommend:o.isRecommend})}),a.on("error",function(e){var o,r=(((a.tech||{}).el||{}).error||{}).code||"";switch(parseInt(r,10)){case 1:o="加载失败，点击重试(MEDIA_ERR_ABORTED)";break;case 2:o="加载失败，请检查您的网络(MEDIA_ERR_NETWORK)";break;case 3:o="视频解码失败(MEDIA_ERR_DECODE)";break;case 4:o="加载失败，该资源无法访问或者浏览器不支持该视频类型(MEDIA_ERR_SRC_NOT_SUPPORTED)";break;default:o="加载失败，点击重试"}d({type:y,code:r,errorTxt:o}),m.sendPv("play-error-log",{page:"lemma",code:r,errorTxt:o,lemmaId:c,secondId:n,src:a.src()}),l.logActEvent({page:"lemma",act_type:"play-error-log",code:r,errorTxt:o,lemmaId:c,secondId:n,src:a.src()}),0<s&&(a.one("firstplay",function(){d({type:g,src:a.src()}),t&&a.currentTime(t)}),s--)}),a.on("pause",function(){var e={recCategory:o.recCategory,isRecommend:o.isRecommend};i.sendVideoPlayDurationsLog(e)}),a.on("ended",function(){var e={recCategory:o.recCategory,isRecommend:o.isRecommend};i.sendVideoPlayDurationsLog(e)}))}((t.prototype=Object.create(u.prototype)).constructor=t).prototype.sendVideoPlayDurationsLog=function(e){this.videoPlayDurations&&(this.videoPlayDurations.params.videoPlayDuration=(new Date).getTime()-this.videoPlayDurations.startTime,this.videoPlayDurations.params.recCategory=e?e.recCategory:"",this.videoPlayDurations.params.isRecommend=e?e.isRecommend:"",m.sendPv("video_play_duration",this.videoPlayDurations.params),this.videoPlayDurations=null)},u.register(t,{name:"playViaSecondId"})});
;/*!wiki-common:widget/lib/larkplayer/larkplayer-playback-rate.js*/
define("wiki-common:widget/lib/larkplayer/larkplayer-playback-rate",function(a,t,e){var l=a("wiki-common:widget/lib/larkplayer/source/player"),i=a("wiki-common:widget/lib/jquery/jquery"),s=l.Plugin,r=(l.Events,l.DOM,1),n=null;function c(a,t){s.call(this,a,t=t||{}),this.createEl=this.createEl.bind(this),i(".lark-control-bar-pc .lark-control__right").prepend(this.createEl()),this.handleChangeRate=this.handleChangeRate.bind(this),this.handleTip=this.handleTip.bind(this),this.playbackRateListEl=i(".playback-list"),this.rateBtnEl=i(".playback-btn");var e=this;this.playbackRateListEl.on("click","li",function(a){var t=i(this).data();e.handleChangeRate(t)}),this.player.on("srcchange",function(){e.handleChangeRate({rate:r})}),a.on("play",function(){setTimeout(function(){a.playbackRate(r)},1e3)})}function p(a){a=a||1;a=parseFloat(a,10);return 1.25===a||.75===a?a.toFixed(2):a.toFixed(1)}((c.prototype=Object.create(s.prototype)).constructor=c).prototype.handleChangeRate=function(a){a=a||{};var t=i(".playback-list .selected"),e=i('.playback-list li[data-rate="'+a.rate+'"]');this.player.playbackRate(a.rate);r=a.rate,e.hasClass("selected")||this.handleClass(t,e,a)},c.prototype.handleClass=function(a,t,e){a.removeClass("selected"),t.addClass("selected");var l=this,a=p(e.rate);this.rateBtnEl.html("<span>"+e.rate===1?"倍速":a+"x</span>"),this.player.toggleClass("lark-user-active"),this.playbackRateListEl.addClass("hide"),setTimeout(function(){l.playbackRateListEl.removeClass("hide")},30)},c.prototype.handleTip=function(a){var a=p(a.rate),t=i(".playback-rate-tip-pc");t.length?(t.html('已为您开启<span class="rate-text">'+a+"倍速</span>播放"),t.addClass("show")):(t='<div class="playback-rate-tip-pc show">已为您开启<span class="rate-text">'+a+"倍速</span>播放</div>",i(".larkplayer").append(t)),clearTimeout(n),n=setTimeout(function(){i(".playback-rate-tip-pc").removeClass("show")},2e3)},c.prototype.dispose=function(){this.playbackRateListEl&&(this.playbackRateListEl.off("click"),this.playbackRateListEl=null),clearTimeout(n)},c.prototype.createEl=function(){return'<div class="larkplayer-playback"><ul class="playback-list"><li data-rate=0.75>0.75x</li><li class="selected" data-rate=1>1.0x</li><li data-rate=1.25>1.25x</li><li data-rate=1.5>1.5x</li><li data-rate=2>2.0x</li></ul><div class="playback-btn"><span>'+(1===r?"倍速":p(r)+"x")+"</span></div></div>"},s.register(c,{name:"playbackRate"})});
;/*!wiki-common:widget/lib/larkplayer/larkplayer-window-player.js*/
define("wiki-common:widget/lib/larkplayer/larkplayer-window-player",function(e,i,a){var l=e("wiki-common:widget/lib/larkplayer/source/player"),r=e("wiki-common:widget/lib/jquery/jquery"),t=l.Plugin;function o(e,i){t.call(this,e,i=i||{}),this.createEl=this.createEl.bind(this),r(".lark-control-bar-pc .lark-control__right").prepend(this.createEl()),"always"!==localStorage.getItem("hide-window-player-kind")&&r(".J-larkplayer-window-player-switch-input").prop("checked",!0),this.$windowPlayerEl=r(".J-larkplayer-window-player"),this.initSwitch(),this.bindEvent()}((o.prototype=Object.create(t.prototype)).constructor=o).prototype.createEl=function(){return'<div class="larkplayer-window-player J-larkplayer-window-player"><div class="larkplayer-window-player-img"></div><div class="larkplayer-window-player-switch J-larkplayer-window-player-switch"><div class="larkplayer-window-player-switch-container"><div class="larkplayer-window-player-switch-text">小窗播放功能</div><div class="larkplayer-switch larkplayer-switch-anim J-larkplayer-window-player-switch-input checked"></div></div></div><div></div></div>'},o.prototype.bindEvent=function(){r("body").on("click",".J-larkplayer-window-player-switch-input",function(){var e=r(".J-larkplayer-window-player-switch-input");e.toggleClass("checked"),e.hasClass("checked")?localStorage.getItem("hide-window-player-nomore-recommend")&&"always"===localStorage.getItem("hide-window-player-kind")?localStorage.setItem("hide-window-player-kind","once"):localStorage.setItem("hide-window-player-kind",""):localStorage.setItem("hide-window-player-kind","always")})},o.prototype.initSwitch=function(){"always"===localStorage.getItem("hide-window-player-kind")&&r(".J-larkplayer-window-player-switch-input").removeClass("checked")},t.register(o,{name:"windowPlayer"})});
;/*!wiki-common:widget/lib/larkplayer/source/ui.js*/
define("wiki-common:widget/lib/larkplayer/source/ui",function(e,t,n){var r,o;r=window,o=function(n){return r={"../../../../usr/local/lib/node_modules/webpack/buildin/global.js":function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var l={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n)&&n.length){var o=s.apply(null,n);o&&e.push(o)}else if("object"==r)for(var a in n)l.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=s.default=s:void 0!==(r=function(){return s}.apply(t,[]))&&(e.exports=r)}()},"./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/css/larkplayer-ui.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"/**\n * @file variables.less 定义一些全局变量\n * @author yuhui<yuhui06@baidu.com>\n * @date 2017/11/23\n */\n.placeholder-1511407549745 {\n  display: none;\n}\n/**\n * @file 定义一些常用的 mixins\n * @author yuhui<yuhui06@baidu.com>\n * @date 2017/11/9\n * @desc\n *    1) .file-placeholder 是因为 otp 不允许空文件上传\n */\n.file-placeholder-1510232955822 {\n  display: none;\n}\n.lark-play-button--mobile {\n  display: none;\n  text-align: center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  font-size: 18px;\n  color: #fff;\n  border-radius: 50%;\n  box-sizing: border-box;\n  width: 48px;\n  height: 48px;\n  line-height: 48px;\n}\n.lark-play-button--mobile .lark-play-button__play {\n  display: block;\n  background: url("+r(n("./src/css/resource/images/play.png"))+") center no-repeat;\n}\n.lark-play-button--mobile .lark-play-button__pause {\n  display: none;\n  background: url("+r(n("./src/css/resource/images/pause.png"))+") center no-repeat;\n}\n.lark-play-button--mobile .lark-play-button__play,\n.lark-play-button--mobile .lark-play-button__pause {\n  background-size: contain;\n  width: 100%;\n  height: 100%;\n}\n.lark-play-button {\n  cursor: pointer;\n}\n.lark-play-button-pc {\n  opacity: 0.9;\n  margin-right: 14px;\n  transition: opacity 0.1s ease-out;\n  -ms-transition: opacity 0.1s ease-out;\n  -moz-transition: opacity 0.1s ease-out;\n  -webkit-transition: opacity 0.1s ease-out;\n  -o-transition: opacity 0.1s ease-out;\n}\n.lark-play-button-pc:hover {\n  opacity: 1;\n}\n.lark-play-button-pc .lark-play-button__play,\n.lark-play-button-pc .lark-play-button__pause {\n  padding: 0 14px;\n}\n@font-face {\n  font-family: 'larkplayericon';\n  src: url("+r(n("./src/css/resource/font/layout.eot"))+");\n  src: url("+r(n("./src/css/resource/font/layout.eot"))+"#iefix) format('embedded-opentype'), url("+r(n("./src/css/resource/font/layout.woff2"))+") format('woff2'), url("+r(n("./src/css/resource/font/layout.woff"))+") format('woff'), url("+r(n("./src/css/resource/font/layout.ttf"))+") format('truetype'), url("+r(n("./src/css/resource/font/layout.svg"))+"#larkplayericon) format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n[class^='lark-icon-']:before,\n[class*=' lark-icon-']:before {\n  font-family: 'larkplayericon';\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n  display: inline-block;\n  text-align: center;\n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n  /* fix buttons height, for twitter bootstrap */\n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.lark-icon-sound-small:before {\n  content: '\\E600';\n}\n.lark-icon-sound-large:before {\n  content: '\\E601';\n}\n.lark-icon-sound-middle:before {\n  content: '\\E602';\n}\n.lark-icon-exit-fullscreen:before {\n  content: '\\E603';\n}\n.lark-icon-request-fullscreen:before {\n  content: '\\E604';\n}\n.lark-icon-pause:before {\n  content: '\\E606';\n}\n.lark-icon-play:before {\n  content: '\\E607';\n}\n.lark-icon-loading-circle:before {\n  content: '\\E608';\n}\n.lark-icon-replay:before {\n  content: '\\E609';\n}\n/**\n * @file 控制播放器各种状态下各元素的显隐\n * @author yuhui<yuhui06@baidu.com>\n * @date 2017/11/10\n * @date 2018/5/8 重新整理，使整体更加清晰\n * @desc\n *     * status 共 5 种：[playing, paused, ended, loading, error]\n *     * loading 细分为 loadstart seeking waiting 3 种\n *     * status 的 className 由 js 控制切换\n *     * status 下各组件的显示与隐藏由 css 控制，pc 和 mobile 分开处理\n */\n.lark-control-bar-pc {\n  opacity: 0;\n  transition: opacity 0.25s cubic-bezier(0, 0, 0.2, 1);\n  -ms-transition: opacity 0.25s cubic-bezier(0, 0, 0.2, 1);\n  -moz-transition: opacity 0.25s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transition: opacity 0.25s cubic-bezier(0, 0, 0.2, 1);\n  -o-transition: opacity 0.25s cubic-bezier(0, 0, 0.2, 1);\n}\n.lark-status-user-active .lark-control-bar {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.lark-status-user-active .lark-play-button--mobile {\n  display: block;\n}\n.lark-status-user-active .lark-progress-bar--simple {\n  display: none;\n}\n.lark-status-user-active .lark-control-bar-pc {\n  opacity: 1;\n}\n.lark-status-playing .lark-play-button__play {\n  display: none;\n}\n.lark-status-playing .lark-play-button__pause {\n  display: block;\n}\n.lark-status-loadstart .lark-custom-controls--mobile .lark-loading--mobile,\n.lark-status-seeking .lark-custom-controls--mobile .lark-loading--mobile,\n.lark-status-waiting .lark-custom-controls--mobile .lark-loading--mobile {\n  display: block;\n}\n.lark-status-loadstart .lark-custom-controls--mobile .lark-play-button,\n.lark-status-seeking .lark-custom-controls--mobile .lark-play-button,\n.lark-status-waiting .lark-custom-controls--mobile .lark-play-button {\n  display: none;\n}\n.lark-status-loadstart .lark-custom-controls--pc .lark-loading--pc,\n.lark-status-seeking .lark-custom-controls--pc .lark-loading--pc,\n.lark-status-waiting .lark-custom-controls--pc .lark-loading--pc {\n  display: block;\n}\n.lark-status-paused .lark-control-bar-pc {\n  opacity: 1;\n}\n.lark-status-paused .lark-control-bar {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.lark-status-paused .lark-play-button--mobile {\n  display: block;\n}\n.lark-status-paused .lark-progress-bar--simple {\n  display: none;\n}\n.lark-status-paused .lark-custom-controls--mobile .lark-play-button {\n  display: block;\n}\n.lark-status-paused .lark-custom-controls--mobile .lark-play-button__play {\n  display: block;\n}\n.lark-status-paused .lark-custom-controls--mobile .lark-play-button__pause {\n  display: none;\n}\n.lark-status-paused .lark-custom-controls--mobile .lark-loading--mobile {\n  display: none;\n}\n.lark-status-paused .lark-custom-controls--mobile .lark-controls-bar {\n  display: block;\n}\n.lark-status-paused .lark-custom-controls--pc .lark-play-button__play {\n  display: block;\n}\n.lark-status-paused .lark-custom-controls--pc .lark-play-button__pause {\n  display: none;\n}\n.lark-status-ended .lark-control-bar {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n.lark-status-ended .lark-play-button--mobile {\n  display: block;\n}\n.lark-status-ended .lark-progress-bar--simple {\n  display: none;\n}\n.lark-status-ended .lark-control-bar-pc {\n  opacity: 1;\n}\n.lark-status-ended .lark-custom-controls--mobile .lark-play-button__play {\n  display: block;\n}\n.lark-status-ended .lark-custom-controls--mobile .lark-play-button__pause {\n  display: none;\n}\n.lark-status-ended .lark-custom-controls--mobile .lark-controls-bar {\n  display: block;\n}\n.lark-status-ended .lark-custom-controls--pc .lark-complete {\n  display: block;\n}\n.lark-status-error .lark-custom-controls--mobile .lark-error--mobile {\n  display: block;\n}\n.lark-status-error .lark-custom-controls--mobile .lark-play-button {\n  display: none;\n}\n.lark-status-error .lark-custom-controls--pc .lark-error--pc {\n  display: block;\n}\n.lark-fullscreen {\n  width: 100% !important;\n  height: 100% !important;\n  padding-top: 0 !important;\n}\n.lark-fullscreen .lark-exit-fullscreen,\n.lark-full-window .lark-exit-fullscreen {\n  display: block;\n}\n.lark-fullscreen .lark-request-fullscreen,\n.lark-full-window .lark-request-fullscreen {\n  display: none;\n}\n@media screen and (orientation: landscape) {\n  .lark-all-screen.lark-fullscreen .lark-control-bar {\n    padding: 0 30px;\n    box-sizing: border-box;\n  }\n}\n@media screen and (orientation: portrait) {\n  .lark-fullscreen .lark-control-bar {\n    bottom: 50px;\n  }\n}\n.lark-custom-controls-hide .lark-custom-controls .lark-control-bar,\n.lark-custom-controls-hide .lark-custom-controls .lark-control-bar-pc,\n.lark-custom-controls-hide .lark-custom-controls .lark-play-button--mobile,\n.lark-custom-controls-hide .lark-custom-controls .lark-progress-bar--simple {\n  display: none;\n}\n.lark-live-play .lark-time {\n  display: none;\n}\n.lark-live-play .lark-progress-bar {\n  display: none;\n}\n.lark-live-play .lark-current-time {\n  display: none;\n}\n.lark-live-play .lark-duration {\n  display: none;\n}\n.lark-live-play .lark-fullscreen-button {\n  position: absolute;\n  right: 0;\n}\n.lark-live-play .lark-progress-bar--simple {\n  display: none;\n}\n.lark-progress-bar {\n  position: relative;\n  height: 100%;\n  cursor: pointer;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  flex: 1;\n  -webkit-flex: 1;\n}\n.lark-progress-bar-pc {\n  margin: 0 10px;\n  height: 3px;\n}\n.lark-progress-bar-pc .lark-progress-bar-hover-light {\n  background: rgba(231, 231, 231, 0.7);\n}\n.lark-progress-bar-pc .lark-progress-bar-except-fill,\n.lark-progress-bar-pc .lark-progress-bar-hover-light {\n  cursor: pointer;\n  position: absolute;\n  height: 3px;\n  transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -ms-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -moz-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -o-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n}\n.lark-progress-bar-pc .lark-buffer-bar {\n  height: 3px;\n  transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -ms-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -moz-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -o-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n}\n.lark-progress-bar-pc .lark-progress-bar-padding {\n  position: absolute;\n  width: 100%;\n  height: 16px;\n  bottom: 0;\n  cursor: pointer;\n}\n.lark-progress-bar-pc .lark-progress-bar__line__handle {\n  top: 1.5px;\n}\n.lark-progress-bar-pc .lark-progress-bar__line__handle-except-fill {\n  width: 0;\n  height: 0;\n}\n.lark-progress-bar-pc:hover .lark-progress-bar__line__handle-except-fill {\n  width: 12px;\n  height: 12px;\n}\n.lark-progress-bar-pc:hover .lark-progress-bar-except-fill,\n.lark-progress-bar-pc:hover .lark-buffer-bar,\n.lark-progress-bar-pc:hover .lark-progress-bar-hover-light {\n  height: 5px;\n}\n.lark-progress-bar-pc.lark-sliding .lark-progress-bar__line__handle-except-fill {\n  width: 12px;\n  height: 12px;\n}\n.lark-progress-bar-pc.lark-sliding .lark-progress-bar-except-fill,\n.lark-progress-bar-pc.lark-sliding .lark-buffer-bar,\n.lark-progress-bar-pc.lark-sliding .lark-progress-bar-hover-light {\n  height: 5px;\n}\n.lark-progress-bar-except-fill {\n  cursor: pointer;\n  position: relative;\n  width: 100%;\n  height: 1px;\n  transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -ms-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -moz-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -o-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n}\n.lark-progress-bar__background {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(231, 231, 231, 0.5);\n}\n.lark-progress-bar__line {\n  position: absolute;\n  height: 100%;\n  width: 0;\n  z-index: 2;\n  background: #459DF5;\n}\n.lark-progress-bar__line__handle {\n  border-radius: 50%;\n  position: absolute;\n  padding: 10px;\n  right: -16px;\n  top: 0.5px;\n  transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -webkit-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n}\n.lark-progress-bar__line__handle-except-fill {\n  border-radius: 50%;\n  width: 12px;\n  height: 12px;\n  background: #fff;\n  transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -ms-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -moz-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -webkit-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n  -o-transition: all 0.1s cubic-bezier(0, 0, 0.2, 1);\n}\n.lark-fullscreen .lark-progress-bar__line__handle {\n  right: -17.5px;\n  top: 0.5px;\n}\n.lark-fullscreen .lark-progress-bar-pc .lark-progress-bar__line__handle {\n  top: 1.5px;\n}\n.lark-fullscreen .lark-progress-bar-pc .lark-progress-bar__line__handle-except-fill {\n  width: 0;\n  height: 0;\n}\n.lark-fullscreen .lark-progress-bar-pc:hover .lark-progress-bar__line__handle-except-fill {\n  width: 12px;\n  height: 12px;\n}\n.lark-fullscreen .lark-progress-bar-pc:hover .lark-progress-bar-except-fill {\n  height: 5px;\n}\n.lark-fullscreen .lark-progress-bar-pc:hover .lark-buffer-bar {\n  height: 5px;\n}\n.lark-fullscreen .lark-progress-bar-pc.lark-sliding .lark-progress-bar__line__handle-except-fill {\n  width: 12px;\n  height: 12px;\n}\n.lark-fullscreen .lark-progress-bar-pc.lark-sliding .lark-progress-bar-except-fill {\n  height: 5px;\n}\n.lark-fullscreen .lark-progress-bar-pc.lark-sliding .lark-buffer-bar {\n  height: 5px;\n}\n.lark-fullscreen .lark-progress-bar__line__handle-except-fill {\n  width: 15px;\n  height: 15px;\n}\n.lark-buffer-bar {\n  position: absolute;\n  height: 1px;\n  width: 100%;\n  z-index: 1;\n}\n.lark-progress-bar--simple .lark-buffer-bar {\n  height: 3px;\n}\n.lark-buffer-bar__line {\n  position: absolute;\n  height: 100%;\n  width: 0;\n  left: 0;\n  background: #e7e7e7;\n}\n.lark-exit-fullscreen {\n  display: none;\n  background: url("+r(n("./src/css/resource/images/exit-fullscreen.png"))+") center no-repeat;\n}\n.lark-request-fullscreen {\n  display: block;\n  background: url("+r(n("./src/css/resource/images/request-fullscreen.png"))+") center no-repeat;\n}\n.lark-exit-fullscreen,\n.lark-request-fullscreen {\n  background-size: contain;\n  width: 20px;\n  height: 20px;\n}\n.lark-fullscreen-button {\n  cursor: pointer;\n  padding: 0 14px;\n  width: 20px;\n  height: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n.lark-loading--mobile {\n  position: absolute;\n  display: none;\n  text-align: center;\n  top: 50%;\n  transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -webkit-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n  font-size: 13px;\n  color: #fff;\n  box-sizing: border-box;\n  width: 100%;\n  height: 28px;\n  line-height: 28px;\n}\n.lark-loading-cnt {\n  display: inline-block;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 0 15px;\n  border-radius: 15px;\n}\n.lark-loading-cnt__spinner {\n  display: inline-block;\n  vertical-align: sub;\n}\n.lark-loading-cnt__text {\n  display: inline-block;\n  margin-left: 4px;\n}\n.lark-icon-loading {\n  width: 14px;\n  height: 14px;\n  background: url("+r(n("./src/css/resource/images/loading.png"))+") center no-repeat;\n  background-size: contain;\n  -webkit-animation-name: spin;\n  -webkit-animation-duration: 1s;\n  -webkit-animation-timing-function: linear;\n  -webkit-animation-delay: 0s;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-direction: normal;\n  -webkit-animation-fill-mode: none;\n  -webkit-animation-play-state: running;\n  animation-name: spin;\n  animation-duration: 1s;\n  animation-timing-function: linear;\n  animation-delay: 0s;\n  animation-iteration-count: infinite;\n  animation-direction: normal;\n  animation-fill-mode: none;\n  animation-play-state: running;\n}\n@-webkit-keyframes spin {\n  from {\n    transform: rotate(0);\n    -ms-transform: rotate(0);\n    -moz-transform: rotate(0);\n    -webkit-transform: rotate(0);\n    -o-transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    transform: rotate(0);\n    -ms-transform: rotate(0);\n    -moz-transform: rotate(0);\n    -webkit-transform: rotate(0);\n    -o-transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n  }\n}\n.lark-loading-spinner {\n  display: inline-block;\n  width: 65px;\n  height: 65px;\n  border-radius: 50%;\n  -webkit-box-sizing: border-box;\n  border: solid 6px #ddd;\n  border-top-color: transparent;\n  border-left-color: transparent;\n  -webkit-animation-name: spinner;\n  -webkit-animation-duration: 0.8s;\n  -webkit-animation-timing-function: linear;\n  -webkit-animation-delay: 0s;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-direction: normal;\n  -webkit-animation-fill-mode: none;\n  -webkit-animation-play-state: running;\n  animation-name: spinner;\n  animation-duration: 0.8s;\n  animation-timing-function: linear;\n  animation-delay: 0s;\n  animation-iteration-count: infinite;\n  animation-direction: normal;\n  animation-fill-mode: none;\n  animation-play-state: running;\n}\n@-webkit-keyframes spinner {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@keyframes spinner {\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n.lark-loading--pc {\n  display: none;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 65px;\n  height: 28px;\n  margin-left: -32.5px;\n  margin-top: -14px;\n  z-index: 3;\n}\n.lark-control-bar {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n}\n.lark-control-bar {\n  display: none;\n  color: #fff;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  -moz-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  background: -moz-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  background: -ms-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  background: linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  height: 38px;\n  font-size: 13px;\n}\n.lark-current-time {\n  margin: 0 14px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n.lark-duration {\n  margin-left: 14px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n.lark-progress-bar--simple {\n  height: 3px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n}\n.lark-error--mobile {\n  cursor: pointer;\n  position: absolute;\n  display: none;\n  text-align: center;\n  top: 50%;\n  transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -webkit-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n  font-size: 13px;\n  color: #fff;\n  box-sizing: border-box;\n  width: 100%;\n  height: 28px;\n  line-height: 28px;\n}\n.lark-error--mobile .lark-error-cnt {\n  display: inline-block;\n  background: rgba(0, 0, 0, 0.5);\n  padding: 0 15px;\n  border-radius: 15px;\n}\n.lark-error-cnt__spinner {\n  display: inline-block;\n  vertical-align: sub;\n}\n.lark-error-cnt__text {\n  display: inline-block;\n  margin-left: 4px;\n}\n@-webkit-keyframes spin {\n  from {\n    transform: rotate(0);\n    -ms-transform: rotate(0);\n    -moz-transform: rotate(0);\n    -webkit-transform: rotate(0);\n    -o-transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    transform: rotate(0);\n    -ms-transform: rotate(0);\n    -moz-transform: rotate(0);\n    -webkit-transform: rotate(0);\n    -o-transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    -o-transform: rotate(360deg);\n  }\n}\n.lark-error--pc {\n  display: none;\n}\n.lark-error--pc .lark-error-cnt {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  font-size: 14px;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 2;\n  transform: none;\n}\n.lark-error--pc .lark-error-text {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -webkit-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n  color: #fff;\n  text-align: center;\n}\n.lark-complete {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n}\n.lark-complete__replay {\n  position: absolute;\n  color: #fff;\n  font-size: 48px;\n  top: 50%;\n  left: 50%;\n  width: 48px;\n  height: 54px;\n  margin-left: -24px;\n  margin-top: -27px;\n}\n.lark-volume-mobile {\n  display: inline-block;\n  width: 20px;\n  height: 100%;\n  margin: 0 3px 0 17px;\n}\n.lark-volume-mobile--normal {\n  background: url("+r(n("./src/css/resource/images/volume.png"))+") center no-repeat;\n  background-size: contain;\n}\n.lark-volume-mobile--muted {\n  background: url("+r(n("./src/css/resource/images/muted.png"))+") center no-repeat;\n  background-size: contain;\n}\n.lark-time {\n  *zoom: 1;\n  font-size: 13px;\n  float: left;\n  margin-right: 14px;\n}\n.lark-time:after {\n  content: ' ';\n  display: block;\n  height: 0;\n  font-size: 0;\n  clear: both;\n  overflow: hidden;\n  visibility: hidden;\n}\n.lark-time .lark-current-time,\n.lark-time .lark-duration {\n  margin: 0;\n  float: left;\n}\n.lark-time .lark-time-separator {\n  float: left;\n  margin: 0 2px;\n}\n.lark-control-bar-pc {\n  *zoom: 1;\n  font-size: 16px;\n  line-height: 39px;\n  height: 39px;\n  position: absolute;\n  bottom: 0px;\n  color: #fff;\n  width: 100%;\n  cursor: default;\n  z-index: 1;\n}\n.lark-control-bar-pc:after {\n  content: ' ';\n  display: block;\n  height: 0;\n  font-size: 0;\n  clear: both;\n  overflow: hidden;\n  visibility: hidden;\n}\n.lark-control-bar-pc .lark-control__left {\n  *zoom: 1;\n  float: left;\n  height: 100%;\n  position: relative;\n}\n.lark-control-bar-pc .lark-control__left:after {\n  content: ' ';\n  display: block;\n  height: 0;\n  font-size: 0;\n  clear: both;\n  overflow: hidden;\n  visibility: hidden;\n}\n.lark-control-bar-pc .lark-control__right {\n  *zoom: 1;\n  float: right;\n  height: 100%;\n  position: relative;\n}\n.lark-control-bar-pc .lark-control__right:after {\n  content: ' ';\n  display: block;\n  height: 0;\n  font-size: 0;\n  clear: both;\n  overflow: hidden;\n  visibility: hidden;\n}\n.lark-control-bar-pc .lark-play-button-pc {\n  float: left;\n}\n.lark-gradient-bottom {\n  background: -webkit-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  background: -moz-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  background: -ms-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  background: linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  height: 49px;\n  padding-top: 49px;\n  pointer-events: none;\n}\n.lark-volume {\n  float: left;\n  *zoom: 1;\n  height: 100%;\n  width: 80px;\n  cursor: pointer;\n  margin-right: 14px;\n}\n.lark-volume:after {\n  content: ' ';\n  display: block;\n  height: 0;\n  font-size: 0;\n  clear: both;\n  overflow: hidden;\n  visibility: hidden;\n}\n.lark-volume-line {\n  float: left;\n  position: relative;\n  height: 100%;\n}\n.lark-volume-line__line {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -webkit-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n  width: 50px;\n  height: 2px;\n  background-color: #fff;\n}\n.lark-volume-line__line-padding {\n  position: absolute;\n  bottom: -10px;\n  left: 0;\n  padding: 10px 0;\n  width: 100%;\n}\n.lark-volume-line__ball {\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  left: 50px;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #fff;\n}\n.lark-volume-pc {\n  float: left;\n  width: 20px;\n  height: 100%;\n  margin-right: 8px;\n  background: center no-repeat;\n  background-size: contain;\n}\n.lark-volume-pc--large {\n  background-image: url("+r(n("./src/css/resource/images/volume-large.png"))+");\n}\n.lark-volume-pc--small {\n  background-image: url("+r(n("./src/css/resource/images/volume-small.png"))+");\n}\n.lark-volume-pc--muted {\n  background-image: url("+r(n("./src/css/resource/images/volume-muted.png"))+");\n}\n.lark-tooltip {\n  position: absolute;\n  display: none;\n  color: #fff;\n  padding: 4px 8px;\n  font-size: 13px;\n  white-space: nowrap;\n  border-radius: 6px;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.lark-not-support-notice {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  color: #fff;\n  z-index: 4;\n}\n.lark-not-support-notice__text {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  margin-top: -12px;\n  width: 100%;\n  text-align: center;\n}\n.lark-full-window {\n  position: fixed !important;\n  top: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  margin: 0 !important;\n  box-sizing: border-box !important;\n  min-width: 0 !important;\n  max-width: none !important;\n  min-height: 0 !important;\n  max-height: none !important;\n  width: 100% !important;\n  height: 100% !important;\n  transform: none !important;\n  object-fit: contain;\n  z-index: 999999;\n}\n.lark-fullscreen-adjust {\n  top: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  margin: 0 !important;\n}\n.larkplayer {\n  position: relative;\n  cursor: pointer;\n  background: #000;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.larkplayer video {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n.larkplayer video:focus {\n  outline: 0;\n}\n.larkplayer video::-webkit-media-controls {\n  display: none;\n}\n.larkplayer video::-webkit-media-controls-panel-container,\n.larkplayer video::-webkit-media-controls-start-playback-button {\n  display: none !important;\n  -webkit-appearance: none;\n}\n.larkplayer:focus {\n  outline: 0;\n}\n",""])},"./node_modules/css-loader/lib/css-base.js":function(e,t){e.exports=function(n){var l=[];return l.toString=function(){return this.map(function(e){var t=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa)return e=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),t=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}),[n].concat(t).concat([e]).join("\n");return[n].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},l.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),l.push(a))}},l}},"./node_modules/css-loader/lib/url/escape.js":function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},"./node_modules/global/document.js":function(r,e,o){!function(e){var e=void 0!==e?e:"undefined"!=typeof window?window:{},t=o(0),n="undefined"!=typeof document?document:(n=e["__GLOBAL_DOCUMENT_CACHE@4"])||(e["__GLOBAL_DOCUMENT_CACHE@4"]=t);r.exports=n}.call(this,o("../../../../usr/local/lib/node_modules/webpack/buildin/global.js"))},"./node_modules/lodash.assign/index.js":function(e,t){var n=9007199254740991,s="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var l,i,A=Object.prototype,p=A.hasOwnProperty,c=A.toString,u=A.propertyIsEnumerable,f=(l=Object.keys,i=Object,function(e){return l(i(e))}),d=Math.max,h=!u.call({valueOf:1},"valueOf");function m(e,t){var n,r,o=w(e)||function(e){return function(e){return e&&"object"==typeof e}(e)&&C(e)}(n=e)&&p.call(n,"callee")&&(!u.call(n,"callee")||c.call(n)==s)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],a=o.length,l=!!a;for(r in e)!t&&!p.call(e,r)||l&&("length"==r||g(r,a))||o.push(r);return o}function b(e,t,n){var r=e[t];p.call(e,t)&&k(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function y(i,A){return A=d(void 0===A?i.length-1:A,0),function(){for(var e=arguments,t=-1,n=d(e.length-A,0),r=Array(n);++t<n;)r[t]=e[A+t];for(var t=-1,o=Array(A+1);++t<A;)o[t]=e[t];o[A]=r;var a=i,l=this,s=o;switch(s.length){case 0:return a.call(l);case 1:return a.call(l,s[0]);case 2:return a.call(l,s[0],s[1]);case 3:return a.call(l,s[0],s[1],s[2])}return a.apply(l,s)}}function g(e,t){return(t=null==t?n:t)&&("number"==typeof e||a.test(e))&&-1<e&&e%1==0&&e<t}function v(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function k(e,t){return e===t||e!=e&&t!=t}var w=Array.isArray;function C(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=n)&&!function(e){e=E(e)?c.call(e):"";return e==r||e==o}(e);var t}function E(e){var t=typeof e;return e&&("object"==t||"function"==t)}O=function(e,t){if(h||v(t)||C(t)){var n=t,r=(C(c=t)?m:function(e){if(!v(e))return f(e);var t,n=[];for(t in Object(e))p.call(e,t)&&"constructor"!=t&&n.push(t);return n})(c),o=e,a=void 0;o=o||{};for(var l=-1,s=r.length;++l<s;){var i=r[l],A=a?a(o[i],n[i],i,o,n):void 0;b(o,i,void 0===A?n[i]:A)}}else{var c,u;for(u in t)p.call(t,u)&&b(e,u,t[u])}};var O,B=y(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,a=2<r?t[2]:void 0,o=3<O.length&&"function"==typeof o?(r--,o):void 0;for(a&&function(e,t,n){if(!E(n))return;var r=typeof t;if("number"==r?C(n)&&g(t,n.length):"string"==r&&t in n)return k(n[t],e);return}(t[0],t[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var l=t[n];l&&O(e,l,n,o)}return e});e.exports=B},"./node_modules/style-loader/lib/addStyles.js":function(e,t,r){var n,o,a,i={},A=(n=function(){return window&&document&&document.all&&!window.atob},function(){return o=void 0===o?n.apply(this,arguments):o}),l=(a={},function(e,t){if("function"==typeof e)return e();if(void 0===a[e]){t=function(e,t){return(t||document).querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}a[e]=t}return a[e]}),s=null,c=0,u=[],p=r("./node_modules/style-loader/lib/urls.js");function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(g(r.parts[a],t))}else{for(var l=[],a=0;a<r.parts.length;a++)l.push(g(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:l}}}}function d(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],l=t.base?a[0]+t.base:a[0],a={css:a[1],media:a[2],sourceMap:a[3]};r[l]?r[l].parts.push(a):n.push(r[l]={id:l,parts:[a]})}return n}function h(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");r=l(e.insertAt.before,n);n.insertBefore(t,r)}}function m(e){null!==e.parentNode&&(e.parentNode.removeChild(e),0<=(e=u.indexOf(e))&&u.splice(e,1))}function b(e){var t,n=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce&&(t=r.nc)&&(e.attrs.nonce=t),y(n,e.attrs),h(e,n),n}function y(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function g(t,e){var n,r,o,a,l;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}return o=e.singleton?(a=c++,n=s=s||b(e),r=w.bind(null,n,a,!1),w.bind(null,n,a,!0)):t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=e,l=document.createElement("link"),void 0===a.attrs.type&&(a.attrs.type="text/css"),a.attrs.rel="stylesheet",y(l,a.attrs),h(a,l),n=l,r=function(e,t,n){var r=n.css,n=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||o)&&(r=p(r));n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");t=new Blob([r],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(t),o&&URL.revokeObjectURL(o)}.bind(null,n,e),function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(e),r=function(e,t){var n=t.css,t=t.media;t&&e.setAttribute("media",t);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){m(n)}),r(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||r(t=e):o()}}e.exports=function(e,l){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(l=l||{}).attrs="object"==typeof l.attrs?l.attrs:{},l.singleton||"boolean"==typeof l.singleton||(l.singleton=A()),l.insertInto||(l.insertInto="head"),l.insertAt||(l.insertAt="bottom");var s=d(e,l);return f(s,l),function(e){for(var t=[],n=0;n<s.length;n++){var r=s[n];(o=i[r.id]).refs--,t.push(o)}e&&f(d(e,l),l);for(var o,n=0;n<t.length;n++)if(0===(o=t[n]).refs){for(var a=0;a<o.parts.length;a++)o.parts[a]();delete i[o.id]}}};v=[];var v,k=function(e,t){return v[e]=t,v.filter(Boolean).join("\n")};function w(e,t,n,r){var n=n?"":r.css;e.styleSheet?e.styleSheet.cssText=k(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){t=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(t)?e:(e=0===t.indexOf("//")?t:0===t.indexOf("/")?n+t:r+t.replace(/^\.\//,""),"url("+JSON.stringify(e)+")")})}},"./src/css/larkplayer-ui.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/less-loader/dist/cjs.js!./src/css/larkplayer-ui.less"),o=("string"==typeof r&&(r=[[e.i,r,""]]),{hmr:!0});o.transform=void 0,o.insertInto=void 0,n("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./src/css/resource/font/layout.eot":function(e,t){e.exports="data:application/vnd.ms-fontobject;base64,OAsAAJgKAAABAAIAAAAAAAIABQMAAAAAAAABAJABAAAAAExQAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAaI3EdAAAAAAAAAAAAAAAAAAAAAAAAAwAbABhAHkAbwB1AHQAAAAOAFIAZQBnAHUAbABhAHIAAAAWAFYAZQByAHMAaQBvAG4AIAAxAC4AMAAAAAwAbABhAHkAbwB1AHQAAAAAAAABAAAACgCAAAMAIE9TLzI1xUA0AAABKAAAAFZjbWFwzBobtwAAAawAAAFKZ2x5Zmf0kAsAAAMQAAAEwGhlYWQPaUwvAAAA0AAAADZoaGVhBI8CWgAAAKwAAAAkaG10eBRaAAAAAAGAAAAALGxvY2EGqgfkAAAC+AAAABhtYXhwARwAUwAAAQgAAAAgbmFtZbK+HZMAAAfQAAAB/nBvc3RLv5tnAAAJ0AAAAMcAAQAAAgAAAAAuAmYAAP/oAl8AAQAAAAAAAAAAAAAAAAAAAAsAAQAAAAEAAHTEjWhfDzz1AAsCAAAAAADW+4WZAAAAANb7hZn/9P/0Al8CDAAAAAgAAgAAAAAAAAABAAAACwBHAAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEB2gGQAAUACAA/AWYAAABHAD8BZgAAAPUAGQCEAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQOYA5gkCAAAAAC4CDAAMAAAAAQAAAAAAAABkAAACZgAAAmYAAAJmAAACAAAAAgAAAAIAAAABSwAAAXkAAAIAAAACAAAAAAAAAwAAAAMAAAAcAAEAAAAAAEQAAwABAAAAHAAEACgAAAAGAAQAAQACAADmCf//AAAAAOYA//8AABoBAAEAAAAAAAAAAAEGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC4AngDsASYBiAG8AewCBAIcAmAAAgAA//8BWwIAABQAGgAAISIvASMiJic1PgE3Mzc2MhYXEQ4BJTMXEQcjATQSDp5FEhcBARcSR6ENIBQBARf+8lGnpFQOeRkSjxIYAYcNFhL+TBAUtIABlYsAAAAEAAAAAAJfAgAAFAAaAC8ARgAAISIvASMiJic1PgE3Mzc2MhYXEQ4BJTMXEQcjASIuATc+ATQmJyY+ARYXHgEUBgcGJyInLgE3PgE0JicmPgEWFx4BFAYHBiMBNBIOnkUSFwEBFxJHoQ0gFAEBF/7yUaekVAHTCA0DBh0eHx8GAg8SBiQlIyIHVwcFCQQFDw4PDwYEEREGERQTEAcNDnkZEo8SGAGHDRYS/kwQFLSAAZWL/vYLEggkVFtXJQgSDAIHLGRrYysIVQMFEggYJDEmFwkRCwQIGTJGMRgLAAAAAAMAAP//AfMCAAAUABoAMAAAISIvASMiJic1PgE3Mzc2MhYXEQ4BJTMXEQcjBSInLgE3PgE0JicmPgEWFx4BFAYHBgE0Eg6eRRIXAQEXEkehDSAUAQEX/vJRp6RUAYcHBQkEBQ8ODw8GBBERBhEUExAHDnkZEo8SGAGHDRYS/kwQFLSAAZWLtQMFEggYJDEmFwkRCwQIGTJGMRgLAAf/9P/0AgwCDAADAAkADwAVABsAHQAfAAADIREhATMyFh0BJRUUBisBEyMiJj0BBTU0NjsBAR8CDAIY/egBhVMQDP78DBCwb1MQDAEEDBCw/jC6XLoCDP3oAfQMEFNvsBAM/vwMEFNvsBAMAQS6XLoAAAAABAAAAAACAAIAABAAIQAyAEMAAAEVHgEyNj0BNCYrASIGFBYXEyMOARQWOwEyNj0BNCYiBgcBMz4BNCYrASIGHQEUFjI2NxE1LgEiBh0BFBY7ATI2NCYnAdYBCxIMBwW4BQYGBZqRCQsLCaYJDAwSCwH+VJEJCwsJpgkMDBILAQELEgwMCaYJCwsJAdaRCQsLCacIDAwSCwH+VAELEgwMCaYJCwsJARsBCxIMDAmmCQsLCf7lkQkLCwmmCQwMEgsBAAAAAAEAAAAAAgACAAAdAAABDgEHHgEXPgE3LgEnNx4BFw4BBy4BJz4BNzIWFAYBAFh1AgJ1WFh1AgFDNxREUwEDkG1tkAMDkG0KDg4BzwJ1WFh1AgJ1WEBkGS0ffE9tkAMDkG1tkAMOFQ4AAgAAAAABTAIAAA8AHwAAETQ2OwEyFhURFAYrASImNQE0NjsBMhYVERQGKwEiJjULCBMICwsIEwgLARMLCBMICwsIEwgLAe0ICwsI/iYICwsIAdoICwsI/iYICwsIAAAAAQAA//0BegIDAAkAAAEWFAcFBicRNhcBaRAQ/p8HAQEHARoLHgvlBAkB9AkEAAAAAQAAAAAA4QHfAAsAABMuASIGBzM+ATIWF+EBNlE2ARQBKkAqAQF/KTY2KSAqKiAAAQAAAAAB9wH+ACoAACUmBgcOAQcuASc+ATceARcWNzEyNj0BNCYiBgcVLgEjDgEHHgEXMjY3NiYB6wcMAxpuRl5+AgJ+XkNsHAYMBwoKDgkBJGo+bJEDA5FsUH8eAwW3AgUHP0oBAn1dXnwDAUY8CwEKB1gHCQkHIDA1ApBsa5ACVUoHDAAAAAAAEADGAAEAAAAAAAEABgAAAAEAAAAAAAIABwAGAAEAAAAAAAMABgANAAEAAAAAAAQABgATAAEAAAAAAAUACwAZAAEAAAAAAAYABgAkAAEAAAAAAAoAKwAqAAEAAAAAAAsAEwBVAAMAAQQJAAEADABoAAMAAQQJAAIADgB0AAMAAQQJAAMADACCAAMAAQQJAAQADACOAAMAAQQJAAUAFgCaAAMAAQQJAAYADACwAAMAAQQJAAoAVgC8AAMAAQQJAAsAJgESbGF5b3V0UmVndWxhcmxheW91dGxheW91dFZlcnNpb24gMS4wbGF5b3V0R2VuZXJhdGVkIGJ5IHN2ZzJ0dGYgZnJvbSBGb250ZWxsbyBwcm9qZWN0Lmh0dHA6Ly9mb250ZWxsby5jb20AbABhAHkAbwB1AHQAUgBlAGcAdQBsAGEAcgBsAGEAeQBvAHUAdABsAGEAeQBvAHUAdABWAGUAcgBzAGkAbwBuACAAMQAuADAAbABhAHkAbwB1AHQARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAABAgEDAQQBBQEGAQcBCAEJAQoBCw4wMDEtbmV3LXNvdW5kMA4wMDItbmV3LXNvdW5kMQ4wMDMtbmV3LXNvdW5kMhMwMDQtZXhpdC1mdWxsc2NyZWVuDjAwNS1mdWxsc2NyZWVuCzAwNi1sb2FkaW5nCTAwNy1wYXVzZQgwMDgtcGxheRIwMDktbG9hZGluZy1jaXJjbGUKMDEwLXJlcGxheQAAAA=="},"./src/css/resource/font/layout.svg":function(e,t,n){e.exports=n.p+"54b1c765831fe87badca73622abbe704.svg"},"./src/css/resource/font/layout.ttf":function(e,t){e.exports="data:font/ttf;base64,AAEAAAAKAIAAAwAgT1MvMjXFQDQAAAEoAAAAVmNtYXDMGhu3AAABrAAAAUpnbHlmZ/SQCwAAAxAAAATAaGVhZA9pTC8AAADQAAAANmhoZWEEjwJaAAAArAAAACRobXR4FFoAAAAAAYAAAAAsbG9jYQaqB+QAAAL4AAAAGG1heHABHABTAAABCAAAACBuYW1lsr4dkwAAB9AAAAH+cG9zdEu/m2cAAAnQAAAAxwABAAACAAAAAC4CZgAA/+gCXwABAAAAAAAAAAAAAAAAAAAACwABAAAAAQAAdMSNaF8PPPUACwIAAAAAANb7hZkAAAAA1vuFmf/0//QCXwIMAAAACAACAAAAAAAAAAEAAAALAEcABwAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQHaAZAABQAIAD8BZgAAAEcAPwFmAAAA9QAZAIQAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5gDmCQIAAAAALgIMAAwAAAABAAAAAAAAAGQAAAJmAAACZgAAAmYAAAIAAAACAAAAAgAAAAFLAAABeQAAAgAAAAIAAAAAAAADAAAAAwAAABwAAQAAAAAARAADAAEAAAAcAAQAKAAAAAYABAABAAIAAOYJ//8AAAAA5gD//wAAGgEAAQAAAAAAAAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALgCeAOwBJgGIAbwB7AIEAhwCYAACAAD//wFbAgAAFAAaAAAhIi8BIyImJzU+ATczNzYyFhcRDgElMxcRByMBNBIOnkUSFwEBFxJHoQ0gFAEBF/7yUaekVA55GRKPEhgBhw0WEv5MEBS0gAGViwAAAAQAAAAAAl8CAAAUABoALwBGAAAhIi8BIyImJzU+ATczNzYyFhcRDgElMxcRByMBIi4BNz4BNCYnJj4BFhceARQGBwYnIicuATc+ATQmJyY+ARYXHgEUBgcGIwE0Eg6eRRIXAQEXEkehDSAUAQEX/vJRp6RUAdMIDQMGHR4fHwYCDxIGJCUjIgdXBwUJBAUPDg8PBgQREQYRFBMQBw0OeRkSjxIYAYcNFhL+TBAUtIABlYv+9gsSCCRUW1clCBIMAgcsZGtjKwhVAwUSCBgkMSYXCRELBAgZMkYxGAsAAAAAAwAA//8B8wIAABQAGgAwAAAhIi8BIyImJzU+ATczNzYyFhcRDgElMxcRByMFIicuATc+ATQmJyY+ARYXHgEUBgcGATQSDp5FEhcBARcSR6ENIBQBARf+8lGnpFQBhwcFCQQFDw4PDwYEEREGERQTEAcOeRkSjxIYAYcNFhL+TBAUtIABlYu1AwUSCBgkMSYXCRELBAgZMkYxGAsAB//0//QCDAIMAAMACQAPABUAGwAdAB8AAAMhESEBMzIWHQElFRQGKwETIyImPQEFNTQ2OwEBHwIMAhj96AGFUxAM/vwMELBvUxAMAQQMELD+MLpcugIM/egB9AwQU2+wEAz+/AwQU2+wEAwBBLpcugAAAAAEAAAAAAIAAgAAEAAhADIAQwAAARUeATI2PQE0JisBIgYUFhcTIw4BFBY7ATI2PQE0JiIGBwEzPgE0JisBIgYdARQWMjY3ETUuASIGHQEUFjsBMjY0JicB1gELEgwHBbgFBgYFmpEJCwsJpgkMDBILAf5UkQkLCwmmCQwMEgsBAQsSDAwJpgkLCwkB1pEJCwsJpwgMDBILAf5UAQsSDAwJpgkLCwkBGwELEgwMCaYJCwsJ/uWRCQsLCaYJDAwSCwEAAAAAAQAAAAACAAIAAB0AAAEOAQceARc+ATcuASc3HgEXDgEHLgEnPgE3MhYUBgEAWHUCAnVYWHUCAUM3FERTAQOQbW2QAwOQbQoODgHPAnVYWHUCAnVYQGQZLR98T22QAwOQbW2QAw4VDgACAAAAAAFMAgAADwAfAAARNDY7ATIWFREUBisBIiY1ATQ2OwEyFhURFAYrASImNQsIEwgLCwgTCAsBEwsIEwgLCwgTCAsB7QgLCwj+JggLCwgB2ggLCwj+JggLCwgAAAABAAD//QF6AgMACQAAARYUBwUGJxE2FwFpEBD+nwcBAQcBGgseC+UECQH0CQQAAAABAAAAAADhAd8ACwAAEy4BIgYHMz4BMhYX4QE2UTYBFAEqQCoBAX8pNjYpICoqIAABAAAAAAH3Af4AKgAAJSYGBw4BBy4BJz4BNx4BFxY3MTI2PQE0JiIGBxUuASMOAQceARcyNjc2JgHrBwwDGm5GXn4CAn5eQ2wcBgwHCgoOCQEkaj5skQMDkWxQfx4DBbcCBQc/SgECfV1efAMBRjwLAQoHWAcJCQcgMDUCkGxrkAJVSgcMAAAAAAAQAMYAAQAAAAAAAQAGAAAAAQAAAAAAAgAHAAYAAQAAAAAAAwAGAA0AAQAAAAAABAAGABMAAQAAAAAABQALABkAAQAAAAAABgAGACQAAQAAAAAACgArACoAAQAAAAAACwATAFUAAwABBAkAAQAMAGgAAwABBAkAAgAOAHQAAwABBAkAAwAMAIIAAwABBAkABAAMAI4AAwABBAkABQAWAJoAAwABBAkABgAMALAAAwABBAkACgBWALwAAwABBAkACwAmARJsYXlvdXRSZWd1bGFybGF5b3V0bGF5b3V0VmVyc2lvbiAxLjBsYXlvdXRHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBsAGEAeQBvAHUAdABSAGUAZwB1AGwAYQByAGwAYQB5AG8AdQB0AGwAYQB5AG8AdQB0AFYAZQByAHMAaQBvAG4AIAAxAC4AMABsAGEAeQBvAHUAdABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAHMAdgBnADIAdAB0AGYAIABmAHIAbwBtACAARgBvAG4AdABlAGwAbABvACAAcAByAG8AagBlAGMAdAAuAGgAdAB0AHAAOgAvAC8AZgBvAG4AdABlAGwAbABvAC4AYwBvAG0AAAACAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAECAQMBBAEFAQYBBwEIAQkBCgELDjAwMS1uZXctc291bmQwDjAwMi1uZXctc291bmQxDjAwMy1uZXctc291bmQyEzAwNC1leGl0LWZ1bGxzY3JlZW4OMDA1LWZ1bGxzY3JlZW4LMDA2LWxvYWRpbmcJMDA3LXBhdXNlCDAwOC1wbGF5EjAwOS1sb2FkaW5nLWNpcmNsZQowMTAtcmVwbGF5AAAA"},"./src/css/resource/font/layout.woff":function(e,t){e.exports="data:font/woff;base64,d09GRgABAAAAAAaoAAoAAAAACpgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAEAAAABWNcVANGNtYXAAAAE0AAAAOgAAAUrMGhu3Z2x5ZgAAAXAAAALmAAAEwGf0kAtoZWFkAAAEWAAAADAAAAA2D2lML2hoZWEAAASIAAAAHgAAACQEjwJaaG10eAAABKgAAAAYAAAALBRaAABsb2NhAAAEwAAAABgAAAAYBqoH5G1heHAAAATYAAAAHwAAACABHABTbmFtZQAABPgAAAElAAAB/rK+HZNwb3N0AAAGIAAAAIYAAADHS7+bZ3icY2BkvMU4gYGVgYPBnjGNgYHBHUp/ZZBkaGFgYGJgZWbACgLSXFMYHJ4xPONkAnH1mHgYeIA0I4gDAJq1CGl4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGJ5x/v8PUvCMAURLMULVAwEjG8OIBwBrhAa1AAB4nH1Sz0/TYBj+3nbt166lW7uuHeB+/wpDB2ysOyCTBJ0JIVECBBIUD3JRhpw4aBC8GA4eHAcvHjQmRq4cNBr+CQ8mHLwYDiYmxosuepHOt9uci1mWpm+f93u+fn2e9ylhCKnXYQUfOhkgJBobgXgslS6UoJgvWjnDVBVI5k2VxmFcU55d0kwAU7v8oi+iI7C/zx28XFDu9muPtQDs9RmaPevVXz+AJ48IIS68CXOjdfYIKfc+P5aFYgnGU+lUCQwzBDpP+XQs3WW1hxb4IPSxfDAUDvOMR+MTyXiMLlFOdHEexePhXarKq7rPS/u6irZ/SpqQWFhZSgqazNCza+s3h4VFltOEQGIsZYqq5BL6c+WxgORYYxuz+9HyN9rTHdfVSA8fe11Ed9X8pqs8Wq/Va4zMyKhSJB7iJ4MkSMIoOqpGIZ8zgpD06/ww+FDwJHCFcWsCIIxvBE6/wMN5r2z/lr2HmwjAhcAePbp2xMjI1WTv/OZhk28AcCFF2nnjRbwkSnJkmhDwhyBnTaLtYYjxumH64groxkRrMcZTyJdabBCJnFVUC9lW4+zCecExSJpMuXccz3NP90VJEl+JsqxJYC90ds4uGRtcgeMGcSC0tnVSgx2N/bnzAEc+tD0EsVGAhsDENLOQLiLCHhH2OUPngSxvMczWMlaYLuoX54GtbmxUWaxuRYH3TQrr1Fr/ufD2lSaFVfErzgfw/Fl8eJxUVGf8OcOvOpHEUgX4r5cEnyA1Cvg68DcH2Cmnwsd/uOmjfgr3GCd9AoZOOT6tWibc8nrt5xSAwoAUkj67RKiJrr++yQl8Ivhr+5wEKAaDf/AJWHMW6JCZygDsDlnWUCSTiTT3wy+wSYaQZIqn7dHgmIziWDtffxbizTFitlYKvlKZHbhTXt1hmJ3V6coZXqZutyJC4napss+y+5WruyGWe8tw9MIMMPevr26zUD4vgZsuU1GkkdECU62sV5nFGSoT8geUSMRlAAB4nGNgZGBgAOKSI4U28fw2Xxm4mRhA4Nrv1pkw+v+X/1+Y4pl4gFwOBrA0AG8dDdF4nGNgZGBgYgACPaY0Bob/L5jiGRgZUAE3AD/OAu4AAHicY0hhYGBKQ8IMCMzoDcSVCD4ARgICbQAAAAAALgCeAOwBJgGIAbwB7AIEAhwCYHicY2BkYGDgZnBnYGcAASYg5gJCBob/YD4DABEDAXAAeJxdkEFOwkAYhV+hYAQ1RhMTd7MwLjRpgSUHgD2J3ZcyLZC20wxTErYewAN4Cg/g2nP52v4Lcf5k8r33v/lnMgBu8QMPzfIwbPdm9XBB1XGfdC3sk++FBxjjUXjIehIe4RUvwmOm3zjB8y/pXGEr3MMNnHCf/ruwT/4QHuABn8JD+l/CI0T4Fh7j2bvL45Op3UpndR7bTnR7pO1hZ0o1DSadsdSltrHTG7U+qcMxmzmXqtSaQi1M6XSeG1VZs9eJC7bOVfMwTMUPElMgR4wTDGq+fQWNjNR49qzzlyOmLA7YUZdQmCLA5CyxZKJsUzGVxoapNbuKp468YUbXIaVOmTEoSIt2WpPOWYZO1fb2dBL6Af+5OVVhjpCV/ssHTHHSL0VeV9QAAAB4nG3K3QqCQBDF8RnLUhe6qOcYOGvfj7PoFMKyirZUb58RYRf9736cQwl9Sul/hogTnvGcU17wkjPOuWCzAqwEvcvQxlBjZDnRjtxOLDfATvTR3OQSvR+qXjWMl/0PDXAQ37q6CdccOErn4qAZcJLOu+caOH9nqZq+8lrAQnp9r0QvvFUs7QAA"},"./src/css/resource/font/layout.woff2":function(e,t){e.exports="data:font/woff2;base64,d09GMgABAAAAAAT4AAoAAAAACpgAAAStAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlYAgkoKiUCHTwE2AiQDLAsYAAQgBYN+B4FHG9kIUVRLKrIfktSGgQYSM0KEQAqoAsAEHAAAoABAPATH3nf3KykWwKMBVoJFA5X7QJorvOLn3/M9NynS3CfwC0L7YG7p5nRzMAl/QvtmfonXlsmnVmHQmYEr6a+S7qu9wi3XaAPLFx+jonR0pMvYmtq/luULV0BZ4d7aIpCsI9cqMgrIwYA4noSfsbOTs2rD2KVlXkHE/VikhBITjYhp59tfDfkmSQugXn5l57khdw/wUCMAGEs90AMCUBaQcjQBJuSI5lzjhSiTaAlNvf//46CYh0P6B4oyqPIG3LqHGEZiH4kTgB0vThKk/ZXtlIVGNJdJLA2rhUSmwgRh/PM6GBnRer76rIWSZnfYoJU7PbFK1Gy3JrhttbiILKTTz9zACiss906qdQHCSnGz+WktcyeSU7IWGaSVa9VrbKCtY96+n9lnxbXRuqbyLSsNJQZNWMMD1GI4mi6hWQGhGqQWMW4sUs/UBDyvERFSCzTNcgxvXkJztgHjlEKWM2vEolhgBWCqJSwJJAghXoW91YJF2Z07hVpt0eSkaoMuPdDjRmGdThnT8AxH9uPT8ED0zaWbNuFn8IxZNWdBiuZla26xN+zwyrOa09Z1Ame2r40yrTaYt0STCcAZHd0fpPkNiUKYyaPVw0kmzWghajJKWTfrilM4OmRYp38wb8tUfiNbCLl/oVsK6pKz6qJ9QZmD8qXK+IOxMsKtrs2l1qZJWSiPnxGc8uZ28KvXxUE0qaKCk52+t+qD0HnWoVoewNhKXTHjc4HRSaMCsnOf3bWvk4xkXCePHy8rM+4IWu1iaofJCcVWqk16TFpmUhq7fOdiZofJTsUWxUkw5AmTHdROm4TCtoaAh3YuYeD/NRXq70cqTdvfb/KDXQ3j65ojExzyxyA72xcubIcSguJCPl5BPzJ/BJ+oHZSpobzvtDO5F/tysDf0y+FX9cs66ktVwNMpVFFeEWVmuDx2uSG8HKk55LGmIy0JKmJiHJWjiomxCiIe2iZPlu4D+XJ5sXyZwRyZU0xLWHQbWrSQaCNarce1odwphfZpHhkmibsC/P+PsgRAriYv/4wDf2M038311/EE4j3+CXdTsHXcE1kcRv5XcbPQ5ffM5Vjz/4vG7aZAD0BVnjPAC1veiPy/zSpGpMYa6pECsYFAjPm6oyi/IbUhxSZPkda1EPgH1dn1170zyCrDpFIWSAueUh+CItaUXoJZS8ua0g3S63ydHd1g6tMqVFQAoqcZ0AkG+ukkPdOABLuALmXhhy6jZx+dpvR7CcwjTFS1tBHfoI2q8pTA2uwLfOitoRlPY+/xCgZ8hdDQeknDrM0RJZXeavpiDYJSljpvBxDIO0Q3TRKZdWEurCZKZcmK0BvQikqjl2qC6i/AC3ppsUFluLQQvMpNBWsFsbSBq2tLVDDTyml2JFEy39Kol454FaVKlFpR7rKlA8oXENc1iDpTidZMVrVzohPBdRuQ0l/0FpGIRBIkRTIkRxRSIBphg6A0YwbmLNhomjSMyEGGOCfkp3tfMFj0yGRUKggPYPLrLyG0e9orpmzV9KbdDkqvmatigK2g9MbjHlnoJE1v8/ZhovdCwU5QljIPREcI"},"./src/css/resource/images/exit-fullscreen.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABCBJREFUaAXtmrtPFUEUxrlIIT4qjBUF1hqjCQkWNDRWFsZGEqmksLBTQsd/oHYWhoTCQKKFxobaVhMLYrQ0UmgjWIlAwcPfJ3fI3L1z9nHZua/sSU5m5sx5zDeP3ZnZHRioqOqBqgeqHuihHqi1q62Hh4cTxNqq1Wpfi8bEdhSba/CgYbuL/Bf8Gf8Hhk62mECT8AI8nq1ta2C/CDuaszWbazCagneccUb6k/rpZi85JBgK7EE9wF6rjrAbhvfrfpR8zxH+WAX9l55t3qwJ2poiCjgFuyl/ivwy0UxHMjDoDHI/znlDzxJ/sSpS5E9pqx/zWNUBOha4DAaaxh9ggXW0T2aGdfLKCbJS/Iygs+np/cb+gldOzWI/hMIj+Abst8W3k44GaNgTXifOmlfOzhJsGtZ09knlu9nWRxrojvjG5H3wed1k6uF3NRHnZsgoOOxOsT6SM5Q1so7Uyys4zw3aGUZO9xL+TyfK/4upgKXRY6BDGBtkmYA90PfI98JINwBMFnIBroN+TdrzoHMD7hfQhQD3A+jCgLsYtP98UTNb31PLOkR6NcGp72nq2/UenieWI+29deAon3CcCpr6dgEeIpZAa++tXVc8IoAJmrq2AI6HzvCcAnqWOp+ibC2NZsUVg8oa6f4ErO40QPuAN+J2e7p383hYb7yOWzrPFqXbGLyAQ8e5dfbnl4o6LEtf58ggMSSLVNyHW3pXB50eCddT6jpTBdgJfw6WnJ/tDKqjqNbo/Y3UqLf4XYrkO5dbcw0zqrpdfAgXvYPyAx9S2ILX4WV4ifUrWUVVD0TqAXNKR4rX5JalozbobaC7szH4HHySdv3B/jlL5wlpd5HAwm/gGHQ5hNZ6Sod0Y8g0sndiOManZkoTmRuPJs04Ak3jskkHf70NPoYcdxrwWKhRyHR78QB+Z9SnibcBu5Om0LE6Fu5GyuIt9IWjYyCKBAbsZgJw6nVREd9dqRsArMuC/gUdAKzrIOsSIe63LALry7suxHQxFuXhht/klNanVesSId6apiGj8A7saD7GmsB5EHDbQdOQWw5pPdWxrnRKA6xg1Jc+va2dVlIeuqopvQOSDnmflv4BLwksGbPj5bJBdz1g9XiZoHsCcJmgewZwWaB7CnAZoC3Au3LuUZSNh+e/UPYka9oCoh81fdKuaxVB8tcgp6PjnH5ie0ZjLB2nW0oq0LRJvlZg99pUql+qvlH/SZW5CINBWD9qFqVCOzKcmzutXA1FCR+hzcmCZR+c0vSObg0eW0Yp8ispdaEqXbg5UsxtV8ibaqTR9f8u0rC/z2vfoEfv6dfDvCOtvfdUg4OMAvpzsCN9y2qZcDIO61fnyTQnmdehONAsuApfhIO/8yHX6KzR2z9ICxH+NSvOYhu8gyrkrFKueqDqgaoH+q0H/gFQgJGXTJjF7QAAAABJRU5ErkJggg=="},"./src/css/resource/images/loading.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABOBJREFUWAnNmNuLVVUcxzteahxTqaBMnfISXRSmi/QQ0UsPYSQEAxH0KKKiL8EQQX+BD0UEEYEg9NBDENFTRdjFEpJ6SIJCRxjMCkexpLw0NY7T57Nn/XZr9jln7nO2P/ie39p7rfVbn/1ba6+9z27cMAcbGxvbTPdn0H1oTdJa/EW0t9FofIKfF2vMNApwD9DnBfQ0Wo8WtdBizp0BdD2+yYhBVWOsqWKSE0smqZtQRXAz9RJ6Dgki4GxtMfFG7Txd4ClBCXgj8frRDtSFNLNRVVGRfn7D781PRJl4XcAN44uZwFs1OhXwpKAEuY0gb6FHkYGrcJc5dxgdQqfQEHLKL+HbGnFdciHjmuER+l1r18nGLY2O91PxNlqHbFdkIPmf8G+gz80OflomIIYbzyad8piOMUx9sSSqAVuCJsh3aXwzyiHPcPwq+tAB8bMygenobOaglj1/hdhX8ROsCZQgt9LiPeTNE5D6I+hFgvyFn7MlWNe/wDGOsNrFamajoqil81IKr6PVyPVi1vQH0c75giRWcbcT7x+KZi8yK7A7yop0IRTHbQIop/ahB5FwoYME3I88nndLsCMEjqzqTZjLrrQSlCswi8+jADSbX6HX0IIasH8zQJ5ZuZbDVO5KJSgVe5AVggrpXvjyQmWS2FVzq3NcmUKrolEBCvk9nNiGbKiEfRNIn9kdsZQQYQNS3w2bN1xxUr8dBaCQx9HHqKPWZgkUa7XIKDSPo1ibbrgH6CR4HeZTLc/qSrLaWMLPJiruQIJqbhlHi1I9P95YmrDuAKrLgzybwh4lm8LWYmkmfSznWV3mQQ+Kadd/g+o2ExWvkjJ2ux35yIxpN81uS3WboALKo93UCvT8eF2tv27+ZjRsqaC3oMioFb/7U7O585jRsAI01mecvB68U55n9JrUTnXAeiWu2brNlxLZQqM5qJACXw+gPjYDUn81B42suvnXbV0AOPWxRRWgv3Aisinsw6hu809lntFhD75FkU2Be+ONhXLHjbFlcvlFNj2+sIhH1s8UzqKAdct6CNVlZjO/mfwbfVla7TsUoPpnfWOxopOWxtzImHKF/pAhQL+gnK/THo4fs0GH7U7GW4kCUj8kQwFKak9T/hrlWe3jCrtt1AljLKfbr4I55FnYiq8uBWgCeR//LwpYH627CJC3SU3n16Upf4SoJiZAHWTQH62EgNxn/KcoQPWbUR9aaNvCAO7fAak/DVO8RP8Pmkg+wJ9E+f+nJ7lil0F5UantnJ2ZRH5HuBflkH9yLEdpTXc2HVdQ+wqKt6qA/pFz7+RXWUaZRYFxfEx6w96OYgxn8Qo6zDi+k5bWBGoNQdbh+pHB8qXg8vgIfU8gg8/YiO2YG1AvWoby+L6HfklsMzrBWoLagoBrcbuRHwHyKzbwr+gzNEDQEfyURjwfJCbAqTZmDmh87+4jrSA5X77qW24ygrsMdqC7URXWgfwTNpDkxuwHi/iIu5yycl+8C61BrkP75Xu2cc8hIY3X0tpmNFqnTPgV5Qlk+zwT1UEDoJ2v9nWq/Sj8A5D2aWtTgkZPgL25nkJOXTW7ARYgcRw+zucX5l19DMCYAQ7b27RBIwTAqylvRT5FnNYcIgfJzwewN8kpdAJAl8q0bcageeQE7R7oG49PFdekXkjXa0ioQeDcNWZl/wEvOtYXm75OxAAAAABJRU5ErkJggg=="},"./src/css/resource/images/muted.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABFlJREFUaAXtm8tvTUEcx3uRUK2dDbGxqCjRiipqQeqxqdhpSDReQbpRjbJDiz9AK40Qz0ZESezEwsZjY+lRjyCUnRChaBsLrc+vzlxzf5ke556G3jn3/pJvZuY3v5nz+8w55/a8WlRUsMIKFFbA5xVIjUfyw8PDs9huAxpGV1Op1FvKZBqwDeg7MvaNysLE0QJVjM4ZSlVeSxQwcOXoiYK0mw8TAwzVVtRv0znqj7wHBmoquuiAE9cH5fcbGJj56KmCMs0uKstNIyj9BQZgB3IdwuLbLocuZQWyzT9gsi9Bl2wKqy57e545T6n7DQzAAvQcuewCzqkG1vs9DMwuNIC0ycXFFhvU1PH7t4dJuhRdRi7rwTnXAOqSPr+ASbgSvUAuO4uzWEPabfr9ASbZRjSItMk18WYbbLQ6ceMGPMlOikRm0p5s+6y6xB5DGy2fqT6mUs9dz0vjyOkS0BXoHYpjpxg0JRtA4sdtD8tFgPz9/Iiyta8M2JQNqIll3LgBTyCJSjTdJBOxlLubKg7h7ojxYwpjgeS6fD0qjzNRsMD1lKVyXpaoSQZpv1c+u3mTRguwP2znv6qTpPym3EcV6CftZrbdGXV7xO8hth3Jzu2RQ3otsu1W1MnixrGxyIc0scvs5IJ6U5RtE9ukxwp1rtsrEuxTSXYAslf5Mpr0N+PoyHAyT84Dc/h+Iul6JKeabe0BlO0bqePfR+W46pDxG3L+kDZJA7EGua7ZBS5txLQgbTJu9UgQlZw+h9MkVCRp5ILeL3H0HUDa5D58VXoeGt4AB1C15CwQ2m5oB22Jq03DUsn5c9hOVuqc07cp1qEBaVsmPtv6adQF8Wm/d8CSORB3KOqQQLnMwN7VnV4CCwTQAnNFAwXty/Tfc/V5C8y5eQignS4ofLvpP+jq8xIYmMPAHFVA8mLOtmPBotg+/360gGiD4EgGRVHRN9qNSErbjhLfaju8ufCQpEleALT14agJ+muoS1vbnwWix4u/w+Qph6g2gVtq70HacrPhgv59CtCpgeVK5k2IOumTW7bYxvjId0uyEeLbkLYvOJa4ksC/FEm/tlaZTL/n0UGu9gOcZa6NRfExNjIwsfKqdQjZ9plGddi26F+CNPSQAMsjHv02D9df7b884iGLapWJwC4OgzV9wViJT9tIH62VKO5DvNOM/acP8Zj/JJK93IsWGaAoJfFV6DWSpyUnMsbgmIlmj6Iy/N3IZY9wzsmYLKRBbORD2kzDmGko9nUDY+P97jDQ6wfxZgGzKoGuRKO9ajlDX3JetZiVASp/XqYZaCkB34VcTyGS9bpUQYe9ED/PgiTnhbgBByp/Pnkw0FICHvZRy7YgJus/SzIuZw3o+egZclkXTrmrsc2/r3j06kOTPx+m2fCAb0Xyix1m/u9hBZ0/H5cacHZv2OfD101c4krA9Qfi8nQiqzugsSxKaiyD444FcAZj5V8AJiL5F4DeuHMVxhVWoLAC+bUCvwAlfPCPZ1UriQAAAABJRU5ErkJggg=="},"./src/css/resource/images/pause.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAAC5JJREFUeAHtnVmPFUUYhh1lwOCMgHHfJ4AJ8UKNC1deGBPj+hP8Fdx4B5fewJ/Qf+B2YUw0XGk0amJCAiKRgCsKOOOCCPo+zfSxzzndp6uXOqeq+vuSl16mqvqrt16qv6qu7rN03fDselX5ZmGHsHNzu03b5QK2Fva1e93lTfxd2OfcJeGicGFz+5u2V4XB2FLiNUUUdwp3CbsEBLMqICIfhnjWBQR1Xvhe+EFAbElaagK6Qa10h3C3cI9wm+BLLCrayRDVz8JZ4TvhR+GKkISlICB6mTVhj0BPg4hCNsRDz/S1cEqIuneKVUD4TQ+zV0A8W4QY7R85jYhOCPRQ/wpRWWwCIvjdJyCc7VExXe/sH0qCkI4JBONRWCwCIvh9TOA2FYvPbQVAL8Tt7XOBYDxoC70xbhV7CGctaBb9OcftDSGd83eJbiWHKiBGT48L93erXjK5T6smnwmM5oKy0ATEhN5TAnGO2TQDxEefCExgBmGhCAg/HhL2CzcGwUy4Tvwl1z4WjgsLH7WFIKBbRMTTAhOAZu4MMCF5VPjVPUv/KRcpIGaIiXMeFRbpR/+szq9EeqAvBOKjhTyDW1TD3aQKPyvwnMqsOwM8b/tA+L17Uc1KWMS0/31y8UWBuR2zfhhYUTHEkNzO5joJOU8Bcct6UiDeifXRg1wP1uCUGXralGdtcwmw5yUgRlYvCMwkm/llgLCA1QjfCjxr82rzEBDd68sCs8pm82EAzh8QEBGL4LyZbwExRH9FYBGX2XwZoNffLZwR/vR1aZ8Coit9SbCJQV+tV1/uspIQNjBK26hP3jyFLwHRfT4vUAGzxTJAGyMiRmis3+7VfAgI8TwnLHopaa9ERV4YbbFb+EXoVUR9C4jbFj2PiUckBGZMGq8JDPF7u531KSACZmIeu22JhECN/9iI6LTQS2Ddl4AYNjLasoBZJARutPmDwjdC5yF+HwJCNMzz2FBdJERi3CV4pHRS6DTZ2FVAdInMMNskoUiIzPiPzxIaFvK3fuzRVUA827LHEyIhUiP0oBM429b/LgKiC+TBqFncDDBy/klo9RQf9bUx1vM80yaj5QmSAdqSNm1sbQREnmcFG3E1pjvYDLQlbdpYD21uYU/oQnuDpcIca8sA8dCSwAcgnK2p4pgsZA2zWZoM0La0sbM1ERDqJGhma5YmA43buImAWHNrr96kKZxirWhj2trJXAXEG6P7nUq0RCkwQFvT5rXmKiBeN7ZRVy2dySSgrWnzWnMREB862FdbkiVIjQHanLafaS4C4u1Rs2EyUNv2dQLiIal9YmWY4qHWtP3MB+V1AuLjTmbDZmCmBmYJiFeP14bNndV+UwOVr6HPEtBM5Rm1g2KgUgtVAuJrqLbOZ1AamVlZtIAmpqxKQAzh7JHFFF2DPYEWSqdytpRQQuIonrYfOnTo4QMHDry6srKyq6Qepac2NjbOHzly5M2DBw9+VZqgw8nQ/OlQlbKsaILvM44tfy3rZe5VIr7fE7ytr6+/3kQ8eYUQ0erq6mv5cV/b0Pzpq16Fct7V/pnCcekCoih6HyrRRjxd8hWJK9sPzZ8yHzuem9LGZAy0rAusdbyIZU+XAbSBRkY2KSASlMVFowy2M2gG0MZYBzMpoD2Dpscq78LAmEaKAmJ9NL+3ZWYMzGJg7DfZigJiJVqbRfazLmZ/S48BNIJWMisKiA8zmhkDLgyMtFIUEL8AaGYMuDAw0kouIIZmtavPXEq2NINgAK1kw/lcQLwfne8PggGrZCcG0AqaGYnGRl+d+Bxk5kwzea/j/DBykFRZpcsYyDSTC6hyxVlZTjtnDIiBTDMICNjn6UwTTRlAM9cjHlaa5T1R00Is/XAZyLTDPzuGy4HVvCMDOxCQxT8dWRxw9p3WAw249XuoetYDOX2FoYeLWRHpMbCNHmhshVl6dbQaeWRgGQFt9XgBKzptBrYiIFvCmnYj+6zdFuuBfNKbftlZD2QxUPoN7auGWQxkAvJFb/rlZgJKv5pWQ28MEANd9la6FZw6A5dNQKk3sd/6ZQLq/LOHfn200gNm4G/rgQJunQhcs1tYBI0UsosmoJBbJwLfMgFdisBRczFMBi4RA10M0zfzKgIGLiKgCxE4ai6GycAF64HCbJhYvMp6IH7u+WosHpufwTCAZn6jB2JnPRi3zJFYGEAzVxEQZnHQNR7sX3cGMs3kAjrvns9SGgMZA5lmcgF9b6QYAw0ZyDSTC+gHZbZAuiGDA06OVtDM6J141gT9zAkzY8CBAbSSrSPLeyDynHXIaEmMARgYaaUooO+MG2PAkYGRVooC+lGZrzgWYMmGywAaQSuZFQXEH2w0tkmMbSoZQCOjjqYoIHJ8XZnN/mAMXGNgTCOTAjqlNP8YU8ZABQNoA42MbFJADM3GEoxS2o4xcE0bY6+BTQoIkk7EwhQ/XdnG17b56q7Vtty2+er88fD3KW2UCYgx/h8eLt57kfx4blPySX/48OE3endGBYbmT891RBOj+Z+87KV8Z2K7X8ePTJyzw2Ez8KWq//EkBWU9EGmOCWM/7zyZ0Y4HxQBaQBNTViUgVimODdemctqJITGAFtDElFUJiISfT6W2E0NloFILswTEijMb0g9VMv/XGw1UrlidJSCKqFTe/+XbXuIMzNRAnYDOiZzTiRNk1atmgLZHA5VWJyAyflaZ2/6QOgO1be/yM99MIG0X7DdVU5fLeP0YtpcO3YvJXHog0n8i/FXMaPtJM0Bb0+a15iogvuAxNQtZW7oliJUB2trpqy2uAoKI48JoJRonzJJkgDamrZ2siYCYzj4qsDVLk4HGbewSRBep+lMH5Ml+8rn4B9tPgoEvVIuTTWrSpAfKy2Vol71Ulp+wbRIM0Ka1w/bJmrYREG8lfiDYqGySzXiPaUvatPHbyU1vYTlFLGv8Vdibn7Bt1Ay8L+9nzjhX1a6tgCiPx/vkv5MDs2gZIO6pnTCsql2bW1ixrE91YPFQkZG49mk72rC1demBuCjDvm+FB4QbBbN4GGCJxrsC4Uhr6yogLsy7Qohot7AsmIXPAM833xLYdrI+BIQD/GDLGWGP0FeZKsrMAwO01dtCL98H77OxmWTknoqIusZWKsLMAwO80/6e0Nu3oPoUEPXdEBje7xaqXhnSn8wWwADxKsP1qXe7uvjSt4Dwha7xF2FNsJ5IJARg9DyIh1i1V/MhIBxERHwGBBH5uoaKNnNggJiH21avPU9+XZ+Ny+3stPCgYKMzkbAAY5RFwNxbzDNZB58C4loE1t8I9wk2TyQS5mjM8zBU72W0VeW3bwFxXbrQk8Idwopg5p8BRsNMEnae56lzdR4CwgcmG08IBNX27EwkeDSebX0odJphdvVvXgLCH4aRBHI/CdzStghm/THAkgxGWscEuJ6LzVNAeYXyDzfcrhN2S8tZ6bbllvWOcK5bMc1zL0JAeEn3yi1tSeCWxtasOQP0NNyyPhKINeduITTcLar10wJBtpk7A7w9cVRg5n9hFoKAqDx+PCTsF2y4LxJmGLEO720dF+YW61T5E4qAcv+2aecpYV9+wrZjDBAg88ao00t/Yzk9HYQmoLyavIf/uHB/fmLgW2b0eWPC24xyW35DFVBen1u185iwlp8Y2PaU6sv3eeY+unLlOXQB5fXYqR2ExFqjWHzOfW+6Ja7hm4QIh8cRQVtsjXGz2CQ+2itsD5rZ5s7x2IGpDeKc0g9aNi/Sf47YBJQzgt/3CAhpTYh1VptHPNymEA6z9AsfVcmHRhargIqVXNYBIuL2xjv7i5oc1aWd7IpSsVaK2xTiuSxEaykIqEg+4mFC8m6BHorR3KJXRfK6MKMnehh+6Y8JQESUhKUmoMlGoXfiUQk90y6BYHxV8CUqxLIuEPyeF+hpeE4VdS8j/ystdQGVVRzxEIzvEBAUWyYwEdtWgXiKLccAQwCA503ELWw5ZkKPBVsIhi3BLyIajP0HRuzEJsOiFAEAAAAASUVORK5CYII="},"./src/css/resource/images/play.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAAD21JREFUeAHtXWlsFdcZxQaDw25IWRuwWUJJxZJQoKpYFKWCQCgCRZUgVIqg7BRaoFRqaAsNFq0Q8AMhIYRQ+cGmJGwtLlAEIYBYTCgBsYPZzVLAQNmMDabnvDKP8fNb5r1Z3p073ycdz7xZ7tzv3OM7d5+MasGzTLhcH2gANHy1rYVtlgk1TfvYrVb+CmWmfR57BjwA7r/a/hfbCiAwlqG5pxRFM6A5kANQMPUAisgNo3goIorqHnADuAlQbFqabgKqjlRqCrQAWgLfA9wSC4K2ZBTVbaAYuA7cAl4AWpgOAmIukwe0A5jTUEQqG8XDnOkccAnwde7kVwEx3sxh2gMUTw3Aj/Yckb4InAWYO70EfGV+ExALvx0BCqe2r5hOHNnHuOQ8cApgOcoX5hcBsfD7LsDXlF/inKoAmAtRSEcA1u6UNtUT402wR+HkKc2ie5G7gKC/A+649wh7IasqINaeugGt7Lmnzd1X4MlhgLU5pUw1AbFBrwfAco5YVQZYPioE2ICphKkiIMbjbaAnkK0EM+pGohRROwiw5pb2WpsKAmoMInoBbAAUs84AW7j3AiXWb3H+ynQKiC3ELOd0BdIZD+dZ9S5E5kAsZLN8xBZvzy1dCVcHnn4AsJ9KzD4DzI12AGxL8tTS0ez/FjwcCDT01FO9H1YX7rEMydeZp42QXgqIr6zuQG/Ar10PiLqyRk7ZQs80ZV+bJwVsrwTEmtUAgC3JYu4ywGIBRyNcBtjX5qp5ISBmrz8D2Kos5g0D5Lw1QBGVuflItwXUCJGneOq56YSEHZUB5vptgWvA06hXOHDQTQExK/0IoCNi6WGAY6VYbGAt7ZEbUXBLQMw+PwTogFh6GWAaU0SsoXGoraPmhoAonn5AuoeSOkqUzwNjWrQF7gKOishpAfG1xZxHxAMSFDM2GucBrOI79jpzUkAsMLPMI68tkKCo8R+bIroCOFKwdkpARlVdCsyKKscULaZ5LsDBarar+E4IiKKRqjpI8JHxLcEupSLAVmOjXQExS2QLszQSggSfGf/xOYSG04tS7vawKyD2bUn3BEjwqbHowUygONX42xEQs0B2jIr5mwHWnP8DpNSLT/WlYhzP834qN8o9SjLAtGSaJm2pCIj3fABIjStpupW9gWnJNE1aD6m8wn6EB7VXlgqJWKoMsDyUAXCKtWVLVnEcAM8xzGJ6MsC0ZYOwZUtGQFQnZ09wK6YnA0mncTIC4phbmXqjp3DMXrFWxrS2ZFYFxBmjPS2FKBfpwADTmmme0KwKiNONpdaVkE5tLmBaM80TmhUBcaEDmauekErtLmCaM+3jmhUBcfaoWDAZSJj2iQTETlJZYiWY4qHXTHs23cS0RALi4k5iwWYgrgbiCYhTj/OCzZ14DwbaADGnoccTUFzlCbWBYiBm70MsAXE1VBnnEyiNxHWWfZ9RJ4fGEhCrcNJlEZfTQJ2kFqI25UQTEC/Wqrd97ty5nc+fPz953bp1/Zo1a1YzUEnvnLPURJVMpcoBXPR9gOv3aGMPHz78S926dUO9zI8fP763cuXKjZMmTTrw4sULbXz0yJECPKfY/KxoOZBWuQ+dNcTD/Tp16uSMGzduZHFx8WfTpk3Tzlf66KJV6WSNFFAWHp7nYgSUCbpp06atFyxY8NuTJ0+OGzBgQMIme2Uint6IUBvUSNgiBcQLaoTPBmCnY8eO723evHn2rl27Pm7Tps0bAXDZjovURq45gEgBBbLqnpmZWaNv3779Tpw4kY/yUd/atWtH8mLmLOj7lV77ZqI4Pprf2wqsZWdn1x0xYsQnV69e/dPs2bN/GFgi4jte6ZtsZgFxtGEqg+zjP86HZxs1atR81qxZU4qKin49bNgwrjco9poBaiQ8MtUsIH7ATczEAMpE76xevfqPBw8e/KRLly6ctSD2fwbC/1RmAYUPCkuvGcjIyMjs0aNH30OHDuVv2LChX05OTqAqGa+ZqLQX1oohIFbNpCpbiaPKP7Kyst4YMmTIx5cuXfrzwoULEw60qny3dr+awKNQdd4QEEfiG/vaeeukQ/Xr139z6tSpY69duzZj7NixXM4viEatUDNh0QS69pWKAlq2bNlu6dKlvz969OjIPn365KQShs/vCWnGyHWCSIAT6ZfRuXPnH+/cufPzrVu3Dm7RokWQOmpDmjEEFHPEmRMs6x5G9erVa/bv3/+js2fP5i9btuwnKC9l6O4z/GtAHykgIupgIV4gZp0BdNQ2GD169KcoH302Y8aMKh2P1kPyxZUcdJhJ8YR2fBFln0SySZMmrebNmzf99OnTEwYNGsQai44Wynj4J5QV6ehhun3q0KFD102bNs3evXv3z7FfO93xceH5DSkgKf+4wKwRJDpqq/fu3funqK3lo1X7fc06ahtIDmSktMvbWrVq1Rk+fPgwlI9m5efnd3L5cV4FHxKQpVUYvIqR7s9BV0izmTNn/urixYu/Qc+/3/sfs5kDVRphpnsCquJfbm5uR4w9+kNhYeEvunXr5tdacBYFFKTGL1X0Y8Qjs3v37r3379+fj8L2h40bN/ZbR21IQJIDGcmZpi0aHrMHDx48FK+1zxctWsRFTP1iIiCVUqpevXqNJ0+ePOb69eu/mzhxIsenq26hJvdPEUutC9IvX75cqnpKRIvfsWPHCocOHbr6woULT6OdV+BYqRSiFUiFWFFAR22Pbdu2/TLWeQWO16SAxISBlBmggMpTvltudJWB48ePF6KXf7mrD7EXeJkIyB6Brtx948aNC5i7/9dOnTotV7j8Q9/L2e5Q5goLEmjSDGARiJIVK1asnzJlyqGkb07PDSEBySssPeSHn1peXl6KEY1bR44cuf3u3bu2PkEZDtSbHRGQNzzHfErF4cOH92G1kI3YPox5lbonREDpSpvLly+fQqfql6tWrSpOVxwceG4Zy0DPHAhIgrDIwL17924uWbJkHcRzzOItKl/2jAJ6oHIMdYnbs2fPHmNm6+YxY8Z88+jRI12WRntAAd3XJZFU9KOiouLFvn37vsZg+4IzZ848UTGONuIUEpDkQDYYjHcrpvkcnT59+ldYwIpfRdbR7jMH4ueeKwDp1nAoiW/fvn11/vz5X2JmxhmHglQxGGrmIQUU2sFWZmfYTCasAPtg7dq1GydMmLAfbTsvbQan+u2hjIcCorEcJAIKUZH8HywXXIbpzdtHjRq1DYPmg1KrDZWdDQHdA21BXWkiecW8vuMlxuwcwiCw9Zj7RQ6DZJUEdAOedw2S93Z9xTrTRXPmzPkCK3RcshuWT++nZsJL+t7EvhSkLaQkOjzvLF++fD3WCDps4XJdL6FWqJmwgNihehsIL57Ik2KvGUCh+GlBQcEWlHN2oDXZTx2er51wbo/NEqFOeKMMxKDZJyMCIhMmw3jqCqyPuHf8+PF/P3LkiB87PE3eOLZ73QjJLCAefM84Idtq1TCY6yQ7PFE1DxMmvIQYCPNhFtAtnGIfTeDXii4pKbmxePHir7BW9HERTBUGqBFqJWRmAfEES9b83FMgrbS09BG+KfYPLJ65+8mTJywoilVlgBoJdwabBcRLzwOBExA6PJ/v2bPna/SUF5w7d07VOVhMHxXsnDkSkQK6iJO9gMjj5nu02scqYkfw3bB1W7ZsYS1ULD4Dz3GaGglbpFBYNeMF7cNXaLpz69atK+js/AKLhlf6j9LUXafcuoCAKKKwRQqIJ84CWgkIA7hKjK8WosPz/qtPXu6XT16GdWB1p8o/W7Qa1yOE9gOgptVQVb8OixbcxhrOtfFRuT0DBw7825o1ay6jfUf1aKsWv8eI0L7ISMVaz7gnLuwSebH8DjQD38H7wkgGYg0iO4UL5V80kq3g/qYWqIkqFktAHCx0vsrVciCoDLDsE7UbJ5aASNSRoLIlfldhgK+vqBZPQBwwxGqbWLAZoAaohagWT0C8IabyooYmB3VkIO6bKJGA7oCRKzqyIj5ZYoBpfzfelYkExHuDPPIuHndBOPdtIiejNSRG3sPZlPxQiHxTNZIZvX+fhHunE7loJQdiGGxAKk0UmJzXhgGmtaVFrqwKiHOdDmpDjziSiIEDuMDS/DarAuID2ckaGonPH2LaMsA0ZlpbsmQExObsvYB0cVii1pcXGWlsOfJWCtHmwDhaj/c0Nx+UfW0YYJtPUTLeJJMDGeGyWi+vMoMNfbZM038n604qAuJg8x2A1MqSZVvd65mWTFOmbVKW7CvMCJxDX0sArUYuGs4FcLsdPrPXIWlLVUB8EId88P5m/CHmWwbY3xl1rI8Vj1J5hZnDZVO3lIfMjPhrn2mXsLsinkt2ciCGy2rfZaA1kA2I+YcBDtH4J8DiSMpmV0B8MKd5UERtgSxATH0GOEB+M2B71VgnBES6+MGWa0A7wKkwEZSYCwwwrSgelmFtm5OJzUZGvlMpIrtlK9uOSQBRGeCc9i1ASjWuaCE6KSCGzzllrN63BWJNGcIpsTQwwPLqv4BiJ5/ttIAYNy5czlFseYDkRCBBAWPOQ/FccToubgiIcaSIuAwIReTWMxC0mAUGWObha8vRnMd4rpuJy9cZFZ8LSO0MJKTBjNqWY2WeSB/cFBCfxYI1p4W8BUg7EUjw0NjO41htK1a83RYQn8sstAhoCtQFxNxngLVhNhLabudJFFUvBMQ4sLGR02NZqJa+M5DgorFvaxdgq4XZavy8EhDjw2okC3JcY5ivtBqAmHMMcEgGe9VPAeTaE/NSQIZDxsINTXBAXmkGK/a2fGUVAK4VlmNFLx0CYlyYvfKVxsZGvtK4FUueAeY0HIb6DcCypuemQsI1gte9ACkbJZf8zHX2Amz5T5upICA6z3i8DfQEpLoPEuIYyzoHgLNxrvHslCoCMhyuhZ0eQEfjgGwrMXASvzhj1NKkv0p3uvRDNQEZbnIefjeglXEg4Fu26H8LeF5ITsS7qgIy4t0YO+8CbYwDAduyFZ+F5LhLrKSTE9UFZHDTEDtdgfaAX+JsxD3ZLWtWrKGyQfB+sjd7fb3fEqMeCHoH4KC1Ol6T5fLz2PFJ4bAhMOqCli4/P6Xg/SYgw0nGuwXAmlse4NdWbXbx8DVF4VwHPGtBxrMcMb8KyOw8h4rkAny9cc5+uhpH8WhLxsFdHCtF0VwEKCLfmg4CMpNP8bDXn7kTwe4SduCm0yrwcPb/MYchjA/7Ydf/ppuAIlOEuRNbuJkz5QANgPqAW6KiWNjXx8IvwZyGLcblgJamu4CiJRrFw8J4Q4CCItj6TbFFoiaO0coAiiASbBXm8F2CgmHhlyIKjP0PI0IycOdH9P4AAAAASUVORK5CYII="},"./src/css/resource/images/request-fullscreen.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA+dJREFUaAXtmrtrFUEUxu/1gViKFiks7CIBQRGEWFgoPkCLKKig6UTUwr9GJYVol0KjaJMiKSxSRBBUbERrm4CvUtTo9fvizmWYu+fMzL7ubNgDJ3dn5syZ85vHZnZ2e71Ouh7oeqDrga4H0u2Bvi+0wWCwAzbnoIegu6BboEXlDyqu9Pv9x6EO0P40bC9Cdwp16PMr9BV0Cb7XBTt/NhrbD/0ArVpm/a33emh0EvorovG3sN2n+RZHCxU5ss+hk5qDgmUctRA5DKPtIYaZzUH8PkPs26Q6IjAqcBrXAcsp+FQKyMl/gfQXJ8+XJPRpyUjsCVTgms2Tv8h8AH2dV+jJI+wq1tl7j91GMezWMFoHkDgFldYwB+089CTUyBFcLJpE0C8augeVZB0Fl4McNWCEWG45gd6VmtWmtFvGkTWyFRfzCUHbsTFGxpcrLlSuUZbJacwpaSQ1aBOX+hsDzDV7Fdpq6BjgHm4ij9oOHQXMudJ26GjgtkMXAk4Q+gdjssRND4sKA9NDQtN7GeGYHdlvXC8wvijB/9g555/5DckB/x9DuRmxpdHNCRqegF6BFtsOo2IwMDsC9mOHlgbEzi81pW1HCU1vO6yR68qA6dkDPTPS+hgyKgX2QN8ZA99Ik5UDK9AjjY8jQ3seLhUPpzduZD/hxIzs9VIOK6qsAdsPCWzOTXtDADSPiKjJiDalV6woCbtqpTfnJabkLJQnHyc2J2GLqTgo2eAEHQG3GHVjlzcFWHtre0kC0tawVCfF/KMIyj7HOiYFmQQwRucM9FOmRXZkNixZ3fSQPwlgRHMfujfTJwCv7Qg4FeDhCOCCo1PbEXAqwLcBaW9saoNOAjjbkTVyBJwEMOez59GysjWtAuPmwfezPDaZYFB1Swlo74t9b+yAnIaal9Gfm4JmYGgr6rgI9jehtsxJgNoI8zMD8zJ6D675yrIRKTHS3vg0YPd9rJv2Oi9jEAk9CG1LAw71UZtdJHRQHEkDk6BqaO3EI6jHmjAiNO5IbGoeavbJZnMSFULyI2xotJGGDb/2CZLWAJNGgb4WRAsjDdje29KfZhvaXmk7AdqNzf3mY9iutoa/Da3+X8xk60hyxleUywhozaknJuFvCoXuw7to7xQ8RJoj68LS7Dv/RAmCOQuNleAdGRzzDMo+loltS7O/IMHm9Y6xXcLFO5MI/OWO7HigLYMyd9zAKkFmH2ElfpQmAmNq8qtUfuEWA82X0aFf6L2EbdVC2BnEzjceueJ9ysC84Trnt4v8nG83VBoVruEFNBYMAt88XeSBm+QTRV7hPYVr9g10UYP1euoMuh7oeqDrga4HxtwD/wBjEyk1u1TOJwAAAABJRU5ErkJggg=="},"./src/css/resource/images/volume-large.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAO5JREFUeNrUlOENgjAQhSlxAEZgBDegIzACIzBCNzBO0BF0g46AG8gGdYN6je9IUw8wwg+95IXL9fL1uF5bFH9vIYRTeJnbCqpIF5In2UgUcmpS/wksJg6AHUl6ARgWoQB4ACvERCDWDPKrdBcDcb/slCAAye24KrTGT1WSc4ccZIQqJGC0Ojm4gRej6ZWevv0yijDwW14vNwzCldTAf3Cw3GlcdwG2pBv8moMHfHXSolEpNa70tAPkjFAzwTEuqfn8kIRT7mfHRrhuFmCzdMqzgz2T1PODgE2+v3rZFeShN5seh6wFbpfn62fsKcAA+g6BaglMgL0AAAAASUVORK5CYII="},"./src/css/resource/images/volume-muted.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPdJREFUeNrUlOENgjAQhcHwX0bQDRiBERgBN8AJrBPoBrCBbsAIuAFsABvUV3011dTUUn/oJS+XtvBxfVcaRX8fUsqDvEcbCkqhEzRCtSKGwFZQR1gG5Z8CFxZYhtRxuI7j+OJTTKKqQS45XkIV1EBbwCbf3SWQNntg3gMkXJYgFXjuaMwVSFnEDuYOwJOH9PjWLI5LcupZQO01oe0DxoVZQM4Lvt+/7bLH0VKN3EFnKNUVJlzPjQIGmD24KkZSgAbPbnjU1NYns2wd46sFlqYo/yqLp6Xtd6sJFi4Pffyp9IXAj4QBjS30lAgGGha0X7m+fiauAgwA1JY3K6LOGfkAAAAASUVORK5CYII="},"./src/css/resource/images/volume-small.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAANxJREFUeNpiYBjy4P////3/IWA/pQYJAPF6IH4PxPNBJlJimAIQn4caZgDEDsQayITFMAMgdR7KVWRkZLxAimNYQK4B0glQPj8QFwDxAiAuBBr2AYcPQOoFgPITsEneh+L9UNyARQ2Kl0EGQiNKAZuBIOBAIEwxwhDqiAaCYUgC2ADE9tQ0kLhYJgEEADFGCmCB0g5IQfQAGHsPCIQpKJZBETIRm2TDf1TwHj2SsMRyAQgTm93mQw1uwBfLpGa9AliBALWEMgNhWRAp0TdQbCBSEOynSvE1aABAgAEAkt73U3Vlb2EAAAAASUVORK5CYII="},"./src/css/resource/images/volume.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAABPxJREFUaAXtm0uMVEUUhqcRgRnQaAQRlKAhEHHiewUBCb4IUTfiwoRRlIiBFTEuTNSNC124kRgXGkWZGBMhUVe6cKXE+I4yAhI1giYmMIAJD3kI4vid5lbP4af62t1zu2eq05X8qXNOnTrn/Pfe6Vtd1dPV1WmdK9C5AilfgdJoFD80NHQVefvAENhcKpV+o2/PBtk+8BcI7SjCTW3HFlLdYGNgKf2WtiIMuflgh5D06ra2IQyrVeCYZxeRB5InDKkesClCzkz7xZ42Ycj0gp1CKqj9CAuDkvXpEobAahB7hM32qD269DcA39IjTPWTwduehZPtbl8X/k6RCyVMvNvBJ2ALsHd8cxtJrge7QKy9hbHHV4BeGGFiTQKHQWg/IEz2+QqVCb4GHA/ZXG+Li4djybAXSfgylzOIm2N5R2Qj8hTwTsgg/Xb0a6slYKwwwpaDeK9LflOfqpa/bjvBbgQ/WdRIewNbd15QxosmbI/1t1LLGfTFeXXUNEaQteCEBDfV1sQrawmCX6GELScxZwF9v3+RWw8TZoJrqmAu9ndBrA1gnJcb3A3i2xBh5k0DD4FeF64iYl8K/gW+3VtxCAKjt4HfvVcd8qv4Tgqxaunxr5swc6aCvcDaabAslgu7vZp824Yy/DUYxd6fB7xHjfIR/B6MJf0/G/MaIbxC6rIbNEVzYbMvKv+I7wMVPwZ0mSe+UfV7rHMrQeoUmNsI4auZd0qqeSmWGp9+8Xuv4sfAXTJo79TdOXiFsYmVAA0IzK+bsKVh3vPAt5Mo07QEbBrfnsYJZT8EJfyxBihajxRU01qaefb6+RX49nSsPhz0M+lO8xsXcx6rNva+TlLbBqnvcdGD+mEQsr78aZ0U4azwfvpjjsxs7uYcpwdRCS+xgeQIc5ePUPdngVXWl8mI7SvRrzQ9OcIZiU+FzK2im/onOO3s9h4fnyrhnx0REy8XvYsnwfa8B53dFh/TUyV80BEx8bxXUza+T/xmpEr4byFSbV1wQvy6UyU8VYjoHQ/D04OQ9YOpEp4pRKoRvkL89qZKeIEQ+UV0W4baPtrFzn6cD7KjqRJe6oiYuFV0U3UxUv4AS44wd+4OyMx2BO2D6WunB3F5ELJ+u/XJEabm9RmB0H3Ao3oqKK6/x8kmlpea48Vo6iKu4u6IPZg+QniSJPpqCONN66nrboLfJwleFt3+fi/BtlDsZ9fWDKayATDRbgTw7XMhVVZxWOedkL+r+KHYFo/u9ol/VG31Fs/9UoVt49xcIZIJ2Ow78x/i+9w5fgwuAfqFWeZUVV9jpBWbeIulghfPITFM+AnxsxOQ89baZXcGxvo27Xpq/AZsAGe3bBxrbBeBQeDbC86lfpFIY3UjvkRt73umyIfApfWzlBkEyTtqsXOelh61WHnkfAZoe1ZKb1wl8lg6TFtOPWeE7Zfo1b5FjYj4GgKP5nHpheTXv9t92MpbOo0zy5lJ8LwD8TcZb+aBuJ4P22b9opxyixkiib3PR+snD3ZRrdmZ02PFMKoxCgnzftTyiIXBR08GatqIzyshizkrz6dpYyTvBT+CWLNznwUyMGLCTSNTa2AI9YBNQiyoupRNn3C4MDBcBWx5l9fah7ARh+l8sCOHcfv8uNTd6W4Ib6xCevj8Nkxolx7CfcA/4vajsltaxc+OH1reIDiDpPYvABcA+xeAPS0vopOwcwU6VyDJK/AfpWRhoEq4i1sAAAAASUVORK5CYII="},"./src/js/class-name-manager.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=n("larkplayer"),s=n("./src/js/constants.js");var i=l.util.toTitleCase,A=l.util.featureDetector,n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function r(e,t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleFirstplay=n.handleFirstplay.bind(n),n.activeTimeoutHandler=null,n.activeTimeout=s.ACTIVE_DURATION,n.events=["loadstart","loadedmetadata","canplay","canplaythrough","error","playing","waiting","seeking","seeked","ended","play","pause"],n.events.forEach(function(e){var t="handle"+i(e);n[t]=n[t].bind(n),n.player.on(e,n[t])}),A.touch?(n.player.on("touchstart",n.handleTouchStart),n.player.on("touchend",n.handleTouchEnd)):(n.player.on("mouseenter",n.handleMouseEnter),n.player.on("mousemove",n.handleMouseMove),n.player.on("mouseleave",n.handleMouseLeave)),n.player.on("firstplay",n.handleFirstplay),n.player.addClass(s.ClassNames.PAUSED),window.screen.height/window.screen.width>s.NORMAL_SCREEN_RATIO&&n.player.addClass(s.ClassNames.ALL_SCREEN),n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),o(r,[{key:"dispose",value:function(){var t=this;clearTimeout(this.activeTimeoutHandler),A.touch?(this.player.off("touchstart",this.handleTouchStart),this.player.off("touchend",this.handleTouchEnd)):(this.player.off("mouseenter",this.handleMouseEnter),this.player.off("mousemove",this.handleMouseMove),this.player.off("mouseleave",this.handleMouseLeave)),this.events.forEach(function(e){t.player.off(e,t["handle"+i(e)])}),this.player.off("firstplay",this.handleFirstplay),a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"dispose",this).call(this)}},{key:"handleTouchStart",value:function(e){this.player.hasClass(s.ClassNames.ACTIVE)&&(l.DOM.parent(e.target,"lark-play-button")||l.DOM.parent(e.target,"lark-control-bar"))&&clearTimeout(this.activeTimeoutHandler)}},{key:"handleTouchEnd",value:function(e){var t=this,n=(clearTimeout(this.activeTimeoutHandler),!1);(n=l.DOM.parent(e.target,"lark-play-button")||l.DOM.parent(e.target,"lark-control-bar")?!0:n)||this.player.toggleClass(s.ClassNames.ACTIVE),this.player.hasClass(s.ClassNames.ACTIVE)&&(this.activeTimeoutHandler=setTimeout(function(){t.player.removeClass(s.ClassNames.ACTIVE)},this.activeTimeout))}},{key:"handleMouseEnter",value:function(e){var t=this;clearTimeout(this.activeTimeoutHandler),this.player.hasClass(s.ClassNames.ACTIVE)||this.player.addClass(s.ClassNames.ACTIVE),this.activeTimeoutHandler=setTimeout(function(){t.player.removeClass(s.ClassNames.ACTIVE)},this.activeTimeout)}},{key:"handleMouseMove",value:function(e){this.handleMouseEnter(e)}},{key:"handleMouseLeave",value:function(e){clearTimeout(this.activeTimeoutHandler),this.player.removeClass(s.ClassNames.ACTIVE)}},{key:"handleLoadstart",value:function(){this.player.addClass(s.ClassNames.LOADSTART)}},{key:"handleLoadedmetadata",value:function(){this.player.removeClass(s.ClassNames.LOADSTART),!isFinite(this.player.duration())?this.player.addClass(s.ClassNames.LIVE_PLAY):this.player.removeClass(r.LIVE_PLAY)}},{key:"handlePlay",value:function(){var e=this;this.player.removeClass(s.ClassNames.LOADSTART),this.player.removeClass(s.ClassNames.SEEKING),this.player.removeClass(s.ClassNames.WAITING),this.player.removeClass(s.ClassNames.PAUSED),this.player.removeClass(s.ClassNames.ENDED),this.player.removeClass(s.ClassNames.ERROR),this.player.addClass(s.ClassNames.PLAYING),clearTimeout(this.activeTimeoutHandler),this.player.addClass(s.ClassNames.ACTIVE),this.activeTimeoutHandler=setTimeout(function(){e.player.removeClass(s.ClassNames.ACTIVE)},this.activeTimeout)}},{key:"handleWaiting",value:function(){this.player.addClass(s.ClassNames.WAITING)}},{key:"handleCanplay",value:function(){this.player.removeClass(s.ClassNames.WAITING),this.player.removeClass(s.ClassNames.LOADSTART),this.player.paused()&&(this.player.removeClass(s.ClassNames.PLAYING),this.player.addClass(s.ClassNames.PAUSED))}},{key:"handleCanplaythrough",value:function(){this.player.removeClass(s.ClassNames.WAITING)}},{key:"handlePlaying",value:function(){this.player.removeClass(s.ClassNames.WAITING),this.player.removeClass(s.ClassNames.LOADSTART),this.player.removeClass(s.ClassNames.SEEKING),this.player.removeClass(s.ClassNames.PAUSED),this.player.removeClass(s.ClassNames.ERROR),this.player.removeClass(s.ClassNames.ENDED)}},{key:"handleSeeking",value:function(){this.player.addClass(s.ClassNames.SEEKING)}},{key:"handleSeeked",value:function(){this.player.removeClass(s.ClassNames.SEEKING),this.player.removeClass(s.ClassNames.WAITING),this.player.removeClass(s.ClassNames.LOADSTART)}},{key:"handleFirstplay",value:function(){var e=this;this.player.addClass(s.ClassNames.HAS_START),clearTimeout(this.activeTimeoutHandler),this.player.addClass(s.ClassNames.ACTIVE),this.activeTimeoutHandler=setTimeout(function(){e.player.removeClass(s.ClassNames.ACTIVE)},this.activeTimeout)}},{key:"handlePause",value:function(){this.player.removeClass(s.ClassNames.PLAYING),this.player.addClass(s.ClassNames.PAUSED)}},{key:"handleEnded",value:function(){this.player.removeClass(s.ClassNames.PLAYING),this.player.removeClass(s.ClassNames.ERROR),this.player.addClass(s.ClassNames.ENDED)}},{key:"handleError",value:function(){this.player.removeClass(s.ClassNames.PLAYING),this.player.removeClass(s.ClassNames.ENDED),this.player.removeClass(s.ClassNames.PAUSED),this.player.removeClass(s.ClassNames.LOADSTART),this.player.removeClass(s.ClassNames.SEEKING),this.player.removeClass(s.ClassNames.WAITING),this.player.addClass(s.ClassNames.ERROR)}}]),r}(l.Plugin);t.default=n},"./src/js/component/buffer-bar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=n("./node_modules/classnames/index.js"),s=(l=l)&&l.__esModule?l:{default:l},i=n("larkplayer");l=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.line=i.DOM.$(".lark-buffer-bar__line",e.el),e.handleProgress=e.handleProgress.bind(e),e.player.on("progress",e.handleProgress),e.player.on("canplay",e.handleProgress),e.handleProgress(),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleProgress",value:function(){var e=this.player.buffered(),t=this.player.duration(),n=this.player.currentTime();if(0<t)for(var r=0;r<e.length;r++)if(e.start(r)<=n&&e.end(r)>=n){var o=e.end(r)/t*100+"%";this.render(o);break}}},{key:"render",value:function(e){this.line.style.width=e}},{key:"reset",value:function(){this.render(0)}},{key:"dispose",value:function(){this.player.off("progress",this.handleProgress),this.player.off("canplay",this.handleProgress),this.line=null,a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return i.Component.createElement("div",{className:(0,s.default)("lark-buffer-bar",this.options.className)},i.Component.createElement("div",{className:"lark-buffer-bar__line"}))}}]),n}(i.Component);t.default=l},"./src/js/component/complete.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=n("./node_modules/classnames/index.js"),s=(l=l)&&l.__esModule?l:{default:l},i=n("larkplayer");l=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleClick=e.handleClick.bind(e),e.on("click",e.handleClick),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleClick",value:function(){this.player.play()}},{key:"dispose",value:function(){this.off("click",this.handleClick),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return i.Component.createElement("div",{className:(0,s.default)("lark-complete",this.options.className)},i.Component.createElement("div",{className:"lark-complete__replay lark-icon-replay"}))}}]),n}(i.Component);t.default=l},"./src/js/component/current-time.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=A(n("./node_modules/classnames/index.js")),s=n("larkplayer"),i=A(n("./src/js/util/time-format.js"));function A(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleTimeupdate=e.handleTimeupdate.bind(e),e.player.on("timeupdate",e.handleTimeupdate),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleTimeupdate",value:function(e){this.render(this.player.currentTime())}},{key:"render",value:function(e){s.DOM.textContent(this.el,(0,i.default)(Math.floor(e)))}},{key:"reset",value:function(){this.render(0)}},{key:"dispose",value:function(){this.player.off("timeupdate",this.handleTimeupdate),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){var e=this.player.currentTime();return s.Component.createElement("div",{className:(0,l.default)("lark-current-time",this.options.className)},(0,i.default)(Math.floor(e)))}}]),n}(s.Component);t.default=n},"./src/js/component/duration.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=A(n("./node_modules/classnames/index.js")),s=n("larkplayer"),i=A(n("./src/js/util/time-format.js"));function A(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleLoadedMetaData=e.handleLoadedMetaData.bind(e),e.player.on("durationchange",e.handleLoadedMetaData),e.player.on("loadedmetadata",e.handleLoadedMetaData),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleLoadedMetaData",value:function(e){s.DOM.textContent(this.el,(0,i.default)(Math.floor(this.player.duration())))}},{key:"reset",value:function(){s.DOM.textContent(this.el,"")}},{key:"dispose",value:function(){this.player.off("durationchange",this.handleLoadedMetaData),this.player.off("loadedmetadata",this.handleLoadedMetaData),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){var e=(0,i.default)(Math.floor(this.player.duration()));return s.Component.createElement("div",{className:(0,l.default)("lark-duration",this.options.className)},e)}}]),n}(s.Component);t.default=n},"./src/js/component/error-pc.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=n("./node_modules/classnames/index.js"),s=(l=l)&&l.__esModule?l:{default:l},i=n("larkplayer");l=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleError=e.handleError.bind(e),e.handleClick=e.handleClick.bind(e),e.player.on("error",e.handleError),e.on("click",e.handleClick),e.textEl=i.DOM.$(".lark-error-text",e.el),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleClick",value:function(){var e=this,t=this.player.src();this.player.reset(),setTimeout(function(){e.player.src(t),e.player.play()},0)}},{key:"handleError",value:function(e){var t=this.player.tech.el.error,n=void 0;switch(parseInt(t.code,10)){case 1:n="加载失败，点击重试(MEDIA_ERR_ABORTED)";break;case 2:n="加载失败，请检查您的网络(MEDIA_ERR_NETWORK)";break;case 3:n="视频解码失败(MEDIA_ERR_DECODE)";break;case 4:n="加载失败，该资源无法访问或者浏览器不支持该视频类型(MEDIA_ERR_SRC_NOT_SUPPORTED)";break;default:n="加载失败，点击重试"}i.DOM.replaceContent(this.textEl,n)}},{key:"dispose",value:function(){this.player.off("error",this.handleError),this.off("click",this.handleClick),this.textEl=null,a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return i.Component.createElement("div",{className:(0,s.default)("lark-error","lark-error--pc",this.options.className)},i.Component.createElement("div",{className:"lark-error-cnt"},i.Component.createElement("div",{className:"lark-error-text"},"加载失败，请稍后重试")))}}]),n}(i.Component);t.default=l},"./src/js/component/error.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=n("./node_modules/classnames/index.js"),s=(l=l)&&l.__esModule?l:{default:l},i=n("larkplayer");l=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleError=e.handleError.bind(e),e.handleClick=e.handleClick.bind(e),e.textEl=i.DOM.$(".lark-error-cnt__text",e.el),e.player.on("error",e.handleError),e.on("click",e.handleClick),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleError",value:function(e){console.log(e,e.detail);var e=this.player.tech.el.error,t="加载失败，点击重试",n=void 0;switch(parseInt(e.code,10)){case 1:n=t+"(ERR_ABORTED)";break;case 2:n=t+"(ERR_NETWORK)";break;case 3:n=t+"(ERR_DECODE)";break;case 4:n=t+"(ERR_SRC)";break;default:n=t}i.DOM.replaceContent(this.textEl,n)}},{key:"handleClick",value:function(){var e=this,t=this.player.src();this.player.reset(),setTimeout(function(){e.player.src(t),e.player.play()},0)}},{key:"dispose",value:function(){this.player.off("error",this.handleError),this.off("click",this.handleClick),this.textEl=null,a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return i.Component.createElement("div",{className:(0,s.default)("lark-error","lark-error--mobile",this.options.className)},i.Component.createElement("div",{className:"lark-error-cnt"},i.Component.createElement("span",{className:"lark-error-cnt__spinner lark-icon-loading"}),i.Component.createElement("span",{className:"lark-error-cnt__text"},"加载失败，点击重试")))}}]),n}(i.Component);t.default=l},"./src/js/component/fullscreen-button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=A(n("./node_modules/classnames/index.js")),s=(A(n("./node_modules/global/document.js")),n("larkplayer")),i=A(n("./src/js/component/tooltip.js"));function A(e){return e&&e.__esModule?e:{default:e}}var c=s.util.featureDetector,n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleClick=e.handleClick.bind(e),e.handleMouseOver=e.handleMouseOver.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e.on("click",e.handleClick),c.touch||(e.fullscreenButton=s.DOM.$(".lark-request-fullscreen",e.el),e.exitFullscreenButton=s.DOM.$(".lark-exit-fullscreen",e.el),s.Events.on(e.fullscreenButton,"mouseover",e.handleMouseOver),s.Events.on(e.exitFullscreenButton,"mouseover",e.handleMouseOver),e.on("mouseout",e.handleMouseOut)),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleClick",value:function(){this.player.isFullscreen()?this.player.exitFullscreen():this.player.requestFullscreen(),i.default.hide()}},{key:"handleMouseOver",value:function(e){i.default.show({hostEl:e.target,placement:"top",margin:21,content:e.target.title})}},{key:"handleMouseOut",value:function(e){i.default.hide()}},{key:"dispose",value:function(){this.off("click",this.handleClick),c.touch||(s.Events.off(this.fullscreenButton,"mouseover",this.handleMouseOver),s.Events.off(this.exitFullscreenButton,"mouseover",this.handleMouseOver),this.fullscreenButton=null,this.exitFullscreenButton=null,this.off("mouseout",this.handleMouseOut)),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-fullscreen-button",this.options.className)},s.Component.createElement("div",{className:"lark-request-fullscreen",title:"全屏"}),s.Component.createElement("div",{className:"lark-exit-fullscreen",title:"退出全屏"}))}}]),n}(s.Component);t.default=n},"./src/js/component/gradient-bottom.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("./node_modules/classnames/index.js"),l=(a=a)&&a.__esModule?a:{default:a},s=n("larkplayer");a=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-gradient-bottom",this.options.className)})}}]),n}(s.Component);t.default=a},"./src/js/component/loading-pc.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("./node_modules/classnames/index.js"),l=(a=a)&&a.__esModule?a:{default:a},s=n("larkplayer");a=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-loading","lark-loading--pc",this.options.className)},s.Component.createElement("div",{className:"lark-loading-spinner"}))}}]),n}(s.Component);t.default=a},"./src/js/component/loading.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("./node_modules/classnames/index.js"),l=(a=a)&&a.__esModule?a:{default:a},s=n("larkplayer");a=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-loading","lark-loading--mobile",this.options.className)},s.Component.createElement("div",{className:"lark-loading-cnt"},s.Component.createElement("span",{className:"lark-loading-cnt__spinner lark-icon-loading"}),s.Component.createElement("span",{className:"lark-loading-cnt__text"},"正在加载")))}}]),n}(s.Component);t.default=a},"./src/js/component/not-support.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("./node_modules/classnames/index.js"),l=(a=a)&&a.__esModule?a:{default:a},s=n("larkplayer");a=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-not-support-notice",this.options.className)},s.Component.createElement("div",{className:"lark-not-support-notice__text"},"您的浏览器不支持 html5 视频播放，请升级浏览器版本或更换为 chrome 浏览器"))}}]),n}(s.Component);t.default=a},"./src/js/component/play-button.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=n("./node_modules/classnames/index.js"),s=(l=l)&&l.__esModule?l:{default:l},i=n("larkplayer");var A=i.util.featureDetector,l=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.togglePlay=e.togglePlay.bind(e),e.playBtn=i.DOM.$(".lark-play-button__play",e.el),e.pauseBtn=i.DOM.$(".lark-play-button__pause",e.el),i.Events.on(e.playBtn,"click",e.togglePlay),i.Events.on(e.pauseBtn,"click",e.togglePlay),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"togglePlay",value:function(e,t){this.player.paused()?this.player.play():this.player.pause()}},{key:"dispose",value:function(){i.Events.off(this.playBtn,"click",this.togglePlay),i.Events.off(this.pauseBtn,"click",this.togglePlay),this.playBtn=null,this.pauseBtn=null,a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){var e=A.touch?{container:"lark-play-button--mobile",btnPlay:"lark-play-button__play",btnPause:"lark-play-button__pause"}:{container:"lark-play-button-pc",btnPlay:"lark-icon-play lark-play-button__play",btnPause:"lark-icon-pause lark-play-button__pause"};return i.Component.createElement("div",{className:(0,s.default)("lark-play-button",e.container)},i.Component.createElement("div",{className:e.btnPlay,title:"播放"}),i.Component.createElement("div",{className:e.btnPause,title:"暂停"}))}}]),n}(i.Component);t.default=l},"./src/js/component/slider.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("larkplayer");n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleClick=e.handleClick.bind(e),e.handleSlideStart=e.handleSlideStart.bind(e),e.handleSlideMove=e.handleSlideMove.bind(e),e.handleSlideEnd=e.handleSlideEnd.bind(e),e.onClick=e.onClick.bind(e),e.onSlideStart=e.onSlideStart.bind(e),e.onSlideMove=e.onSlideMove.bind(e),e.onSlideEnd=e.onSlideEnd.bind(e),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"onClick",value:function(e){}},{key:"onSlideStart",value:function(e){}},{key:"onSlideMove",value:function(e){}},{key:"onSlideEnd",value:function(e){}},{key:"handleClick",value:function(e){this.onClick(e)}},{key:"handleSlideStart",value:function(e){this.onSlideStart(e),a.DOM.addClass(this.el,"lark-sliding"),a.Events.on(document,"touchmove",this.handleSlideMove),a.Events.on(document,"touchend",this.handleSlideEnd),a.Events.on(document,"mousemove",this.handleSlideMove),a.Events.on(document,"mouseup",this.handleSlideEnd)}},{key:"handleSlideMove",value:function(e){this.onSlideMove(e)}},{key:"handleSlideEnd",value:function(e){this.onSlideEnd(e),a.DOM.removeClass(this.el,"lark-sliding"),a.Events.off(document,"touchmove",this.handleSlideMove),a.Events.off(document,"touchend",this.handleSlideEnd),a.Events.off(document,"mousemove",this.handleSlideMove),a.Events.off(document,"mouseup",this.handleSlideEnd)}}]),n}(a.Component);t.default=n},"./src/js/component/tooltip.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/lodash.assign/index.js"),o=(r=r)&&r.__esModule?r:{default:r},l=n("larkplayer");t.default={id:"lark-tooltip",el:null,timeoutHandler:null,initial:function(e){var t;l.DOM.isEl(e)&&(t=l.DOM.createElement("div",{className:this.id}),l.DOM.appendContent(e,t),this.el=t,this.container=e)},normalize:function(e){return(0,o.default)({timeout:0,content:"",top:0,left:0,margin:0,hostEl:null,placement:"top",isFollowMouse:!1,event:null},e)},getCoordinate:function(e){var t,n,r,o,a=void 0;return"top"===e.placement&&(t=l.DOM.getBoundingClientRect(e.hostEl),n=l.DOM.getBoundingClientRect(this.container),r=void 0,0<(o=(r=e.isFollowMouse?(o=l.DOM.getPointerPosition(e.hostEl,e.event),t.left-n.left+t.width*o.x-this.el.offsetWidth/2):t.left-n.left+(t.width-this.el.offsetWidth)/2)+this.el.offsetWidth-this.container.offsetWidth)&&(r-=o),a={left:r,top:t.top-n.top-this.el.offsetHeight-e.margin}),a},show:function(t){var e,n,r=this;clearTimeout(this.timeoutHandler),t=this.normalize(t),l.DOM.isEl(t.hostEl)&&(e=l.DOM.parent(t.hostEl,"larkplayer"),(n=l.DOM.$(".lark-tooltip",e))?(this.el=n,this.container=e):this.initial(e),l.DOM.replaceContent(this.el,t.content),setTimeout(function(){r.el.style.visibility="hidden",r.el.style.display="block";var e=r.getCoordinate(t);r.el.style.top=e.top+"px",r.el.style.left=e.left+"px",r.el.style.visibility="visible"},0))},hide:function(){var e=this;this.el&&(this.timeoutHandler=setTimeout(function(){e.el.style.display="none"}))}}},"./src/js/component/volume-mobile.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("larkplayer");var l="lark-volume-mobile--muted",s="lark-volume-mobile--normal",n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleClick=e.handleClick.bind(e),e.handleVolumeChange=e.handleVolumeChange.bind(e),e.on("click",e.handleClick),e.player.on("volumechange",e.handleVolumeChange),e.player.on("ready",e.handleVolumeChange),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleVolumeChange",value:function(){a.DOM.removeClass(this.el,l),a.DOM.removeClass(this.el,s);var e=this.player.muted();a.DOM.addClass(this.el,e?l:s)}},{key:"handleClick",value:function(){var e=this.player.muted();this.player.muted(!e)}},{key:"createEl",value:function(){return a.Component.createElement("div",{className:"lark-volume-mobile"})}}]),n}(a.Component);t.default=n},"./src/js/component/volume.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=c(n("./node_modules/classnames/index.js")),s=n("larkplayer"),i=c(n("./src/js/component/slider.js")),A=c(n("./src/js/component/tooltip.js"));function c(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.volumeRecord={last:1,current:e.player.volume()},e.onSlideStart=e.onSlideStart.bind(e),e.onSlideMove=e.onSlideMove.bind(e),e.onSlideEnd=e.onSlideEnd.bind(e),e.onClick=e.onClick.bind(e),e.update=e.update.bind(e),e.iconClick=e.iconClick.bind(e),e.handleIconMouseOver=e.handleIconMouseOver.bind(e),e.handleIconMouseOut=e.handleIconMouseOut.bind(e),e.switchStatus=e.switchStatus.bind(e),e.clearStatus=e.clearStatus.bind(e),e.handleVolumeChange=e.handleVolumeChange.bind(e),e.line=s.DOM.$(".lark-volume-line__line",e.el),e.ball=s.DOM.$(".lark-volume-line__ball",e.el),e.icon=s.DOM.$(".lark-volume-pc",e.el),s.Events.on(e.icon,"click",e.iconClick),s.Events.on(e.icon,"mouseover",e.handleIconMouseOver),s.Events.on(e.icon,"mouseout",e.handleIconMouseOut),s.Events.on(e.line,"click",e.handleClick),s.Events.on(e.ball,"mousedown",e.handleSlideStart),s.Events.on(e.ball,"touchstart",e.handleSlideStart),e.player.on("volumechange",e.handleVolumeChange),e.player.on("play",e.handleVolumeChange),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"onSlideStart",value:function(e){this.isSliding=!0}},{key:"onSlideMove",value:function(e){e.preventDefault();e=s.DOM.getPointerPosition(this.line,e);this.player.volume(e.x),0!==this.player.volume()&&this.player.muted(!1)}},{key:"onSlideEnd",value:function(e){this.isSliding=!1,this.updateVolumeRecord()}},{key:"updateVolumeRecord",value:function(){this.volumeRecord={last:this.volumeRecord.current,current:this.player.volume()}}},{key:"handleVolumeChange",value:function(){this.player.muted()?this.update(0):this.update(this.player.volume()),this.isSliding||this.updateVolumeRecord()}},{key:"onClick",value:function(e){e=s.DOM.getPointerPosition(this.line,e);this.player.volume(e.x),0!==this.player.volume()&&this.player.muted(!1)}},{key:"update",value:function(e){var t=this.line.offsetWidth;this.ball.style.left=e*t+"px",this.switchStatus(e)}},{key:"iconClick",value:function(e){this.player.volume()&&!this.player.muted()?this.player.volume(0):(this.player.volume(this.volumeRecord.last||1),this.player.muted(!1)),this.showTooltip()}},{key:"showTooltip",value:function(){A.default.show({hostEl:this.icon,margin:11,content:this.player.volume()&&!this.player.muted()?"静音":"取消静音"})}},{key:"handleIconMouseOver",value:function(){this.showTooltip()}},{key:"handleIconMouseOut",value:function(e){A.default.hide()}},{key:"switchStatus",value:function(e){this.clearStatus();var t=void 0;0===e?t="muted":e<=.6&&0<e?t="small":.6<e&&(t="large"),s.DOM.addClass(this.icon,"lark-volume-pc--"+t)}},{key:"clearStatus",value:function(){var t=this;["lark-volume-pc--muted","lark-volume-pc--small","lark-volume-pc--large"].forEach(function(e){s.DOM.removeClass(t.icon,e)})}},{key:"dispose",value:function(){s.Events.off(this.icon,"click",this.iconClick),s.Events.off(this.icon,"mouseover",this.handleIconMouseOver),s.Events.off(this.icon,"mouseout",this.handleIconMouseOut),s.Events.off(this.line,"click",this.handleClick),s.Events.off(this.ball,"mousedown",this.handleSlideStart),s.Events.off(this.ball,"touchstart",this.handleSlideStart),this.icon=null,this.line=null,this.ball=null,this.player.off("volumechange",this.handleVolumeChange),this.player.off("play",this.handleVolumeChange),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-volume",this.options.className)},s.Component.createElement("div",{className:"lark-volume-pc lark-volume-pc--large"}),s.Component.createElement("div",{className:"lark-volume-line"},s.Component.createElement("div",{className:"lark-volume-line__line"},s.Component.createElement("div",{className:"lark-volume-line__line-padding"})),s.Component.createElement("div",{className:"lark-volume-line__ball"})))}}]),n}(i.default);t.default=n},"./src/js/constants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ClassNames={LOADSTART:"lark-status-loadstart",ENDED:"lark-status-ended",PAUSED:"lark-status-paused",ERROR:"lark-status-error",SEEKING:"lark-status-seeking",WAITING:"lark-status-waiting",PLAYING:"lark-status-playing",ACTIVE:"lark-status-user-active",HAS_START:"lark-status-has-start",CONTROLS_HIDE:"lark-custom-controls-hide",ALL_SCREEN:"lark-all-screen",LIVE_PLAY:"lark-live-play"},t.Events={CONTROLS_SHOW:"controlsshow",CONTROLS_HIDE:"controlshide"},t.ACTIVE_DURATION=3e3,t.NORMAL_SCREEN_RATIO=16/9},"./src/js/container/control-bar-pc.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=d(n("./node_modules/classnames/index.js")),l=n("larkplayer"),s=d(n("./src/js/container/progress-bar.js")),i=d(n("./src/js/component/current-time.js")),A=d(n("./src/js/component/duration.js")),c=d(n("./src/js/component/play-button.js")),u=d(n("./src/js/component/fullscreen-button.js")),p=d(n("./src/js/component/gradient-bottom.js")),f=d(n("./src/js/component/volume.js"));function d(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"reset",value:function(){this.children.forEach(function(e){e&&e.reset&&e.reset()})}},{key:"createEl",value:function(){return l.Component.createElement("div",{className:(0,a.default)("lark-control-bar-pc",this.options.className)},l.Component.createElement(p.default,null),l.Component.createElement(s.default,{className:"lark-progress-bar-pc"}),l.Component.createElement("div",{className:"lark-control__left"},l.Component.createElement(c.default,{className:"lark-play-button-pc"}),l.Component.createElement(f.default,null),l.Component.createElement("div",{className:"lark-time"},l.Component.createElement(i.default,null),l.Component.createElement("span",{className:"lark-time-separator"},"/"),l.Component.createElement(A.default,null))),l.Component.createElement("div",{className:"lark-control__right"},l.Component.createElement(u.default,null)))}}]),n}(l.Component);t.default=n},"./src/js/container/control-bar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=p(n("./node_modules/classnames/index.js")),l=n("larkplayer"),s=p(n("./src/js/component/current-time.js")),i=p(n("./src/js/component/duration.js")),A=p(n("./src/js/component/fullscreen-button.js")),c=p(n("./src/js/component/volume-mobile.js")),u=p(n("./src/js/container/progress-bar.js"));function p(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"reset",value:function(){this.children.forEach(function(e){e&&e.reset&&e.reset()})}},{key:"createEl",value:function(){return l.Component.createElement("div",{className:(0,a.default)("lark-control-bar",this.options.className)},l.Component.createElement(c.default,null),l.Component.createElement(s.default,null),l.Component.createElement(u.default,null),l.Component.createElement(i.default,null),l.Component.createElement(A.default,null))}}]),n}(l.Component);t.default=n},"./src/js/container/controls-mobile.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=f(n("./node_modules/classnames/index.js")),l=n("larkplayer"),s=f(n("./src/js/container/control-bar.js")),i=f(n("./src/js/container/progress-bar-simple.js")),A=f(n("./src/js/component/loading.js")),c=f(n("./src/js/component/play-button.js")),u=f(n("./src/js/component/not-support.js")),p=f(n("./src/js/component/error.js"));function f(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"createEl",value:function(){return l.Component.createElement("div",{className:(0,a.default)("lark-custom-controls","lark-custom-controls--mobile",this.options.className)},l.Component.createElement(s.default,null),l.Component.createElement(c.default,null),l.Component.createElement(A.default,null),l.Component.createElement(p.default,null),l.Component.createElement(i.default,null),l.Component.createElement(u.default,null))}}]),n}(l.Component);t.default=n},"./src/js/container/controls-pc.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=p(n("./node_modules/classnames/index.js")),l=n("larkplayer"),s=p(n("./src/js/container/control-bar-pc.js")),i=p(n("./src/js/component/complete.js")),A=p(n("./src/js/component/loading-pc.js")),c=p(n("./src/js/component/not-support.js")),u=p(n("./src/js/component/error-pc.js"));function p(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"createEl",value:function(){return l.Component.createElement("div",{className:(0,a.default)("lark-custom-controls","lark-custom-controls--pc",this.options.className)},l.Component.createElement(s.default,null),l.Component.createElement(A.default,null),l.Component.createElement(u.default,null),l.Component.createElement(i.default,null),l.Component.createElement(c.default,null))}}]),n}(l.Component);t.default=n},"./src/js/container/progress-bar-except-fill.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=i(n("./node_modules/classnames/index.js")),l=n("larkplayer"),s=i(n("./src/js/component/buffer-bar.js"));function i(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(){var e=this,t=n;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"createEl",value:function(){return l.Component.createElement("div",{className:(0,a.default)("lark-progress-bar-except-fill",this.options.className)},l.Component.createElement("div",{className:"lark-progress-bar__background"}),l.Component.createElement("div",{className:"lark-progress-bar__line"},l.Component.createElement("div",{className:"lark-progress-bar__line__handle"},l.Component.createElement("div",{className:"lark-progress-bar__line__handle-except-fill"}))),l.Component.createElement(s.default,null))}}]),n}(l.Component);t.default=n},"./src/js/container/progress-bar-simple.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=A(n("./node_modules/classnames/index.js")),s=n("larkplayer"),i=A(n("./src/js/component/buffer-bar.js"));function A(e){return e&&e.__esModule?e:{default:e}}n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return t.handleTimeUpdate=t.handleTimeUpdate.bind(t),t.line=s.DOM.$(".lark-progress-bar__line",t.el),e.on("timeupdate",t.handleTimeUpdate),t}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleTimeUpdate",value:function(){var e=0,t=this.player.duration(),n=this.player.currentTime();t&&n&&(e=100*(e=Math.round(n/t*100)/100)+"%"),this.line.style.width=e}},{key:"reset",value:function(){this.line.style.width=0,this.children.forEach(function(e){e&&e.reset&&e.reset()})}},{key:"dispose",value:function(){this.player.off("timeupdate",this.handleTimeUpdate),this.line=null,a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-progress-bar--simple",this.options.className)},s.Component.createElement("div",{className:"lark-progress-bar__background"}),s.Component.createElement("div",{className:"lark-progress-bar__line"}),s.Component.createElement(i.default,null))}}]),n}(s.Component);t.default=n},"./src/js/container/progress-bar.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=p(n("./node_modules/classnames/index.js")),s=n("larkplayer"),i=p(n("./src/js/component/slider.js")),A=p(n("./src/js/component/tooltip.js")),c=p(n("./src/js/container/progress-bar-except-fill.js")),u=p(n("./src/js/util/time-format.js"));function p(e){return e&&e.__esModule?e:{default:e}}var f=s.util.featureDetector,n=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function r(e,t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.handleTimeUpdate=n.handleTimeUpdate.bind(n),n.onClick=n.onClick.bind(n),n.onSlideStart=n.onSlideStart.bind(n),n.onSlideMove=n.onSlideMove.bind(n),n.onSlideEnd=n.onSlideEnd.bind(n),n.update=n.update.bind(n),n.reset=n.reset.bind(n),n.handleMouseOver=n.handleMouseOver.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseOut=n.handleMouseOut.bind(n),n.line=s.DOM.$(".lark-progress-bar__line",n.el),n.lineHandle=s.DOM.$(".lark-progress-bar__line__handle",n.el),n.hoverLight=s.DOM.$(".lark-progress-bar-hover-light",n.el),n.paddingEl=s.DOM.$(".lark-progress-bar-padding",n.el),n.player.on("timeupdate",n.handleTimeUpdate),n.on("click",n.handleClick),n.on("touchstart",n.handleSlideStart),n.player.on("ready",function(){n.currentTimeEl=s.DOM.$(".lark-current-time",n.player.el)}),f.touch||(n.on("mousedown",n.handleSlideStart),n.on("mouseover",n.handleMouseOver),n.on("mousemove",n.handleMouseMove),n.on("mouseout",n.handleMouseOut)),n}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),o(r,[{key:"handleTimeUpdate",value:function(){var e=0,t=this.player.duration(),n=this.player.currentTime();this.line.style.width=e=t&&n?n/t*100+"%":e}},{key:"onClick",value:function(e){this.update(e)}},{key:"onSlideStart",value:function(e){e.preventDefault(),this.originalPaused=this.player.paused(),this.player.pause()}},{key:"onSlideMove",value:function(e){e.preventDefault(),this.player.paused()||this.player.pause(),this.update(e)}},{key:"onSlideEnd",value:function(e){var t=this,e=s.DOM.getPointerPosition(this.el,e),e=this.player.duration()*e.x,e=(this.player.currentTime(e),!this.originalPaused&&void 0!==this.originalPaused),n=Math.ceil(this.player.currentTime())>=this.player.duration();this.player.paused()&&e&&!n&&setTimeout(function(){t.player.play()},0)}},{key:"update",value:function(e){var e=s.DOM.getPointerPosition(this.el,e),t=100*e.x+"%",e=this.player.duration()*e.x;this.line.style.width=t,this.currentTimeEl&&s.DOM.textContent(this.currentTimeEl,(0,u.default)(Math.floor(e)))}},{key:"reset",value:function(){this.line.style.width=0,this.children.forEach(function(e){e&&e.reset&&e.reset()})}},{key:"showToolTip",value:function(e){var t,n=this.player.duration();n&&(t=s.DOM.getPointerPosition(this.el,e),n=parseInt(n*t.x,10),isNaN(n)||A.default.show({hostEl:this.el,margin:8,placement:"top",isFollowMouse:!0,event:e,content:(0,u.default)(Math.floor(n))}))}},{key:"showHoverLine",value:function(e){e=s.DOM.getPointerPosition(this.el,e),e=this.el.offsetWidth*e.x;this.hoverLight.style.width=e+"px"}},{key:"hideHoverLine",value:function(e){this.hoverLight.style.width=0}},{key:"handleMouseOver",value:function(e){this.showToolTip(e),this.showHoverLine(e)}},{key:"handleMouseMove",value:function(e){this.showToolTip(e),this.showHoverLine(e)}},{key:"handleMouseOut",value:function(e){A.default.hide(),this.hideHoverLine(e)}},{key:"dispose",value:function(){this.player.off("timeupdate",this.handleTimeUpdate),this.off("click",this.handleClick),this.off("touchstart",this.handleSlideStart),f.touch||(this.off("mousedown",this.handleSlideStart),this.off("mouseover",this.handleMouseOver),this.off("mousemove",this.handleMouseMove),this.off("mouseout",this.handleMouseOut)),this.line=null,this.lineHandle=null,this.hoverLight=null,this.paddingEl=null,a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"dispose",this).call(this)}},{key:"createEl",value:function(){return s.Component.createElement("div",{className:(0,l.default)("lark-progress-bar",this.options.className)},s.Component.createElement("div",{className:"lark-progress-bar-padding"}),s.Component.createElement("div",{className:"lark-progress-bar-hover-light"}),s.Component.createElement(c.default,null))}}]),r}(i.default);t.default=n},"./src/js/controls-event.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(null!==(r=Object.getPrototypeOf(e)))return a(r,t,n)}var l=n("larkplayer"),s=n("./src/js/constants.js");var i=l.util.toTitleCase,A=l.util.featureDetector,c=l.util.includes,n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.handleAllEvents("on"),e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"handleAllEvents",value:function(n){var r=this,o=["touchstart","touchend"],a=["mouseenter","mousemove","mouseleave"];["play","pause","ended"].concat(o,a).forEach(function(e){var t="handle"+i(e);r[t]=r[t].bind(r),c(o,e)?A.touch&&r.player[n](e,r[t]):c(a,e)&&A.touch||r.player[n](e,r[t])})}},{key:"dispose",value:function(){clearTimeout(this.timeoutHandler),this.handleAllEvents("off"),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this)}},{key:"setTimeoutTriggerControlsHide",value:function(){var e=this;this.timeoutHandler=setTimeout(function(){e.player.trigger(s.Events.CONTROLS_HIDE)},s.ACTIVE_DURATION)}},{key:"handlePlay",value:function(){clearTimeout(this.timeoutHandler),this.player.trigger(s.Events.CONTROLS_SHOW),this.setTimeoutTriggerControlsHide()}},{key:"handleTouchstart",value:function(){clearTimeout(this.timeoutHandler)}},{key:"handleTouchend",value:function(){clearTimeout(this.timeoutHandler),this.player.hasClass(s.ClassNames.ACTIVE)?(this.player.trigger(s.Events.CONTROLS_SHOW),this.setTimeoutTriggerControlsHide()):this.player.paused()||this.player.trigger(s.Events.CONTROLS_HIDE)}},{key:"handleMouseenter",value:function(){clearTimeout(this.timeoutHandler),this.player.trigger(s.Events.CONTROLS_SHOW),this.setTimeoutTriggerControlsHide()}},{key:"handleMousemove",value:function(){this.handleMouseenter()}},{key:"handleMouseleave",value:function(){clearTimeout(this.timeoutHandler),this.player.paused()||this.player.trigger(s.Events.CONTROLS_HIDE)}},{key:"handlePause",value:function(){clearTimeout(this.timeoutHandler),this.player.trigger(s.Events.CONTROLS_SHOW)}},{key:"handleEnded",value:function(){clearTimeout(this.timeoutHandler),this.player.trigger(s.Events.CONTROLS_SHOW)}}]),n}(l.Plugin);t.default=n},"./src/js/controls-proxy.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("larkplayer"),l=n("./src/js/constants.js");n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.controls=e.controls.bind(e),e.player.tech.el.removeAttribute("controls"),e.player.controls=e.controls,e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"controls",value:function(e){return void 0!==e&&(e?this.player.removeClass(l.ClassNames.CONTROLS_HIDE):this.player.addClass(l.ClassNames.CONTROLS_HIDE)),!this.player.hasClass(l.ClassNames.CONTROLS_HIDE)}}]),n}(a.Plugin);t.default=n},"./src/js/larkplayer-ui.js":function(e,t,n){"use strict";n("./src/css/larkplayer-ui.less");var r=n("larkplayer"),o=A(n("./src/js/class-name-manager.js")),a=A(n("./src/js/controls-proxy.js")),l=A(n("./src/js/controls-event.js")),s=A(n("./src/js/container/controls-mobile.js")),i=A(n("./src/js/container/controls-pc.js")),n=A(n("./src/js/reset-api.js"));function A(e){return e&&e.__esModule?e:{default:e}}r.Plugin.register(o.default,{name:"classNameManager"}),r.Plugin.register(a.default,{name:"controlsProxy"}),r.Plugin.register(l.default,{name:"controlsEvent"}),r.Plugin.register(n.default,{name:"resetApi"}),r.util.featureDetector.touch?r.Component.register(s.default,{name:"controlsMobile"}):r.Component.register(i.default,{name:"controlsPc"})},"./src/js/reset-api.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("larkplayer"),n=n("./src/js/util/time-format.js"),l=(n=n)&&n.__esModule?n:{default:n};n=function(e){var t=n;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return e.reset=e.reset.bind(e),e.player.reset=e.reset,e}return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e),r(n,[{key:"reset",value:function(){this.resetBufferBar(),this.resetCurrentTime(),this.resetDuration(),this.resetProgressBar(),this.resetProgressBarSimple()}},{key:"resetBufferBar",value:function(){var e=a.DOM.$(".lark-buffer-bar__line",this.player.el);e&&(e.style.width=0)}},{key:"resetCurrentTime",value:function(){var e=a.DOM.$(".lark-current-time",this.player.el);e&&a.DOM.textContent(e,(0,l.default)(0))}},{key:"resetDuration",value:function(){var e=a.DOM.$(".lark-duration",this.player.el);e&&a.DOM.textContent(e,"")}},{key:"resetProgressBar",value:function(){var e=a.DOM.$(".lark-progress-bar .lark-progress-bar__line",this.player.el);e&&(e.style.width=0)}},{key:"resetProgressBarSimple",value:function(){var e=a.DOM.$(".lark-progress-bar--simple .lark-progress-bar__line",this.player.el);e&&(e.style.width=0)}}]),n}(a.Plugin);t.default=n},"./src/js/util/time-format.js":function(e,t,n){"use strict";function r(e){return e=(e=""+e).length<2?"0"+e:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){{var t,n;return e=parseInt(e,10),isNaN(e)?"- -":(t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),e=e%60,n=[r(n),r(e)],0<t&&n.unshift(r(t)),n.join(":"))}}},0:function(e,t){},larkplayer:function(e,t){e.exports=n}},a={},o.m=r,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./src/js/larkplayer-ui.js");function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r,a},"object"==typeof t&&"object"==typeof n?n.exports=o(e("wiki-common:widget/lib/larkplayer/source/player")):"function"==typeof define&&define.amd?define(["larkplayer"],o):"object"==typeof t?t["larkplayer-ui"]=o(e("wiki-common:widget/lib/larkplayer/source/player")):r["larkplayer-ui"]=o(r.larkplayer)});
;/*!wiki-common:widget/lib/larkplayer/larkplayer.js*/
define("wiki-common:widget/lib/larkplayer/larkplayer",function(l,i,a){var r=l("wiki-common:widget/lib/larkplayer/source/player");l("wiki-common:widget/lib/larkplayer/larkplayer-hls"),l("wiki-common:widget/lib/larkplayer/source/ui"),l("wiki-common:widget/lib/larkplayer/larkplayer-play-continue"),l("wiki-common:widget/lib/larkplayer/larkplayer-play-via-second-id"),l("wiki-common:widget/lib/larkplayer/larkplayer-window-player"),l("wiki-common:widget/lib/larkplayer/larkplayer-playback-rate"),a.exports=r});
;/*!wiki-common:widget/lib/paris/index.es.js*/
define("wiki-common:widget/lib/paris/index.es",function(F,t,D){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function e(t,e){t.prototype=Object.create(e.prototype),o(t.prototype.constructor=t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e,n){return(i=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null],e=(r.push.apply(r,e),new(Function.bind.apply(t,r)));return n&&o(e,n.prototype),e}).apply(null,arguments)}function a(t){var n="function"==typeof Map?new Map:void 0;return function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return i(t,arguments,r(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)}(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ParisFactory=void 0,Object.create||(Object.create=function(t){if("object"!=n(t)&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");function e(){}return e.prototype=t,new e}),e(c,s=a(Error)),c.create=function(t,e){return e instanceof c?(e.code=t,e):e instanceof Error?new c(t,e.message):new c(t,e)};var s,d=c;function c(t,e){return(e=s.call(this,e)||this).code=t,e}function h(t,e,n){return void 0===t[e]?n:t[e]}function y(o,i){return function(t,n){var r=!1;function e(t,e){r||(r=!0,n(t,e))}setTimeout(function(){var t=new Error("timeout.");e(t=i?d.create(i,t):t)},o),t(e)}}function v(){return(new Date).getTime()}function f(o,i){var a,u=!1,s=[];function c(){for(;s.length;)s.shift().call(null,a)}return function(t,e,n,r){t=l({},n,{src:t,retryCnt:h(r,"mainCDNRetryCnt",1),mainReportRetryCnt:h(r,"mainReportRetryCnt",1),secondReportRetryCnt:h(r,"secondReportRetryCnt",0)});return a=new i(o,t),e?a.getTarget(function(t){u=!0,t&&(t=l({},n,{src:e,retryCnt:h(r,"secondCDNRetryCnt",0),mainReportRetryCnt:h(r,"mainReportRetryCnt",1),secondReportRetryCnt:h(r,"secondReportRetryCnt",0)}),a=new i(o,t)),c()}):(u=!0,c()),function(t){u?t(a):s.push(t)}}}var g="auto-report",p="active-report",R="acs-get-sign",m=[551,552,553],C="2.0.1",w=!1,b=((Q=_.prototype).log=function(t,e){if(w||e){var t=(e={url:"https://miao.baidu.com/sdk_log",data:JSON.stringify(t)}).url,n=e.data,r=e.success,o=e.error,i=void 0===(a=e.headers)?{}:a,a=e.withCredentials,u=(e=window).XDomainRequest,e=e.XMLHttpRequest;if(void 0===a&&(a=!0),e){var s,c=new e;for(s in c.open("POST",t,!0),i)c.setRequestHeader(s,i[s]);a&&(c.withCredentials=!0),c.onreadystatechange=function(t){var e;4===c.readyState&&200===c.status&&(e=c.responseText,r&&r(e,c))},c.onerror=function(t){o&&o(t)},c.send(n)}else{var l=new u;l.open("post",t,!0),a&&(l.withCredentials=!0),l.onerror=function(t){o&&o(t)},l.onload=function(){var t=l.responseText;r&&r(t)},l.send(n)}}},Q.error=function(t,e,n){var r=this.sid,o=this.group,i=n.code||600,a=-1<m.indexOf(i),r={sid:r,group:o,type:t,total:e,status:1,error:n.message+"\n"+n.stack,extra:{errorCode:i,version:C}};console.log(a),this.log(r,a)},Q.success=function(t,e){t={sid:this.sid,group:this.group,type:t,total:e,status:0,error:"",extra:{version:C}};this.log(t)},_);function _(t,e){this.sid=t,this.group=e}function T(t){var e;return(t=void 0===t?"":t)&&(e=0<t.indexOf("?")?"&":"?",t=t+e+"_o="+encodeURIComponent(location.protocol+"//"+location.host)),t}(Q=E.prototype).handleTargetError=function(t){this.state=2,this.autoError=t,this.evalAutoQueue(t)},Q.autoReportInit=function(){var n=this,t=this.loadController,r=t.opts;t.getTarget(function(t,e){if(t)n.handleTargetError(t);else{t=e;n.state=3;try{t.initData(r,function(t){n.evalData=t,n.autoReport()})}catch(t){n.state=4,t=d.create(551,t),n.autoError=t,n.evalAutoQueue(t)}}})},Q.autoReport=function(r){var o=this,t=this.loadController,e=t.opts,i=e.reportTimeout,a=e.mainReportUrl;t.getTarget(function(t,e){var n;t?o.handleTargetError(t):(o.reportCnt++,n=e,o.state=5,y(i,561)(function(e){r=r||T(a),n.report({url:r,data:o.evalData,success:function(t){e(null,t)},error:function(t){t=d.create(571,t),e(t)}})},function(t,e){if(t)return o.state=6,o.autoError=t,void o.evalAutoQueue(t,null);o.state=7,o.autoResponse=e,o.autoError=null,o.evalAutoQueue(null,e)}))})},Q.pushAutoQueue=function(t){this.autoResponseQueue.push(t)},Q.evalAutoQueue=function(){for(;this.autoResponseQueue.length;)if(2===this.autoResponseQueue.shift().apply(this,arguments))break},Q.getAutoResponse=function(i){function a(t,e){if(6===u.state){if(u.reportCnt-1<l)return u.autoReport(),u.pushAutoQueue(a),2;if(u.reportCnt-1-l<f+1)return u.autoReport(T(p)),u.pushAutoQueue(a),2}try{var n=t,r=e,o=v()-c;n?s.error(g,o,n):s.success(g,o);try{i(n,r)}catch(t){console.error(t)}}finally{return 1}}var u=this,t=this.state,e=this.loadController,s=this.monitor,c=v(),e=e.opts,l=e.mainReportRetryCnt,f=e.secondReportRetryCnt,p=e.secondReportUrl;1===t||3===t||5===t?this.pushAutoQueue(a):a(this.error,this.autoResponse)},Q.activeReport=function(r,o,i,a){var u=this,t=(void 0===i&&(i=0),this.loadController),s=t.opts,c=s.mainReportRetryCnt,l=s.reportTimeout,f=s.mainReportUrl,p=s.secondReportRetryCnt;i++,t.getTarget(function(t,e){if(t)return o&&o(t);var n=e;y(l,562)(function(e){a=a||T(f),n.report({url:a,data:r,success:function(t){e(null,t)},error:function(t){t=d.create(570,t),e(t)}})},function(t,e){if(t)return i-1<c?void u.activeReport(r,o,i):i-1-c<p+1?void u.activeReport(r,o,i,T(s.secondReportUrl)):o&&o(t);o&&o(null,e)})})},Q.getActiveResponse=function(n,r){var o=this,t=this.state,e=this.loadController,i=this.monitor,a=v();function u(t,e){var n=v()-a;t?i.error(p,n,t):i.success(p,n);try{r(t,e)}catch(t){console.error(t)}}function s(){e.getTarget(function(t,e){if(t)return u(t);try{e.initActiveData(n,function(t){o.activeReport(t,u)})}catch(t){u(t=d.create(552,t))}})}1===t?this.pushAutoQueue(s):s()};var A=E;function E(t,e){this.loadController=null,this.state=1,this.evalData=null,this.autoResponse="",this.autoError=null,this.reportCnt=0,this.monitor=null,this.autoResponseQueue=[],this.error=null,this.loadController=e,this.monitor=new b(t,"abclite")}function O(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function L(t,e,n){var r,o=!1,i=h(e,"timeout",5e3),e=h(e,"clientCacheTTL",10),a=t;function u(t,e){o||(o=!0,r&&clearTimeout(r),n(t,e))}if(!t)return u(new Error("Load script miss src"));e&&(s=a,e=e,c=+new Date,c="_="+parseInt(c/(6e4*e),10),a=0<s.indexOf("?")?s+"&"+c:s+"?"+c),i&&(r=setTimeout(function(){u(new Error("Load "+t+" timeout"),null)},i));var e=a,s=u,c=void 0,i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");if("function"==typeof s&&(c=s,s={}),c=c||function(){},a.type=(s=s||{}).type||"text/javascript",a.charset=s.charset||"utf8",a.async=!("async"in s&&!s.async),a.src=e,s.attrs){var l,f=a,p=s.attrs;for(l in p)f.setAttribute(l,p[l])}s.text&&(a.text=""+s.text),("onload"in a?O:function(t,e){t.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,t))}})(a,c),a.onload||O(a,c),i.appendChild(a)}(Q=j.prototype).doLoad=function(){var e=this,t=(this.error=null,this.loadCnt++,this.state=1,this.opts),n=t.timeout,r=t.src;y(n)(function(t){L(r,e.opts,t)},function(t){t?(e.error=t,e.state=3):e.state=2,e.evalQueue(t)})},Q.pushQueue=function(t){this.queue.push(t)},Q.evalQueue=function(){for(;this.queue.length;)if(2===this.queue.shift().apply(this,arguments))break},Q.getTarget=function(r){function o(t){if(t){var e=a.retryCnt;if(i.loadCnt-1<e)return i.doLoad(),i.pushQueue(o),2}try{var n=window[i.targetKey];if(n)return r(null,n);t=d.create(400,t),r(t,n)}catch(t){}return 1}var i=this,t=this.state,a=this.opts;0===t||1===t?this.pushQueue(o):o(this.error)};var S,I,Q=j,q=(e(P,I=Q),P.prototype.init=function(){this.instance.autoReportInit()},P),M=(x.prototype.getSign=function(r,n){function o(t,e){var n=v()-a;t?i.error(R,n,t):i.success(R,n),r(t,e)}var i=this.monitor,a=v();this.loadController.getTarget(function(t,e){if(t)return o(t);try{e.gs(function(t,e){o(e,t)},n)}catch(t){t=d.create(553,t),o(t)}})},x),B=(e(U,S=Q),U);function U(t,e){return(e=S.call(this,e)||this).targetKey=null,e.instance=null,e.targetKey="$BSB_"+t,e.instance=new M(t,u(e)),e}function x(t,e){this.loadController=null,this.state=1,this.monitor=null,this.loadController=e,this.monitor=new b(t,"acs")}function P(t,e){return(e=I.call(this,e)||this).targetKey=null,e.instance=null,e.targetKey="BCat_"+t,window["__abbaidu_"+t+"_advanced"]=!0,window["__abbaidu_"+t+"_paris"]=!0,e.instance=new A(t,u(e)),e.init(),e}function j(t){this.state=0,this.queue=[],this.error=null,this.opts={},this.loadCnt=0,this.opts=t,this.doLoad()}function N(t){var e=t.disasterConfig,e=void 0===e?{}:e;return{timeout:h(t,"timeout",5e3),clientCacheTTL:h(t,"clientCacheTTL",0),mainReportUrl:h(e,"mainReportUrl"),secondReportUrl:h(e,"secondReportUrl"),reportTimeout:h(e,"reportTimeout",5e3)}}Q={create:function(t){var e,n=t.sid,r=t.abcliteUrl,o=t.acsUrl,i=(window.PARIS_INSTANCE_CACHE||(window.PARIS_INSTANCE_CACHE={}),window.PARIS_INSTANCE_CACHE);return n&&i[n]?(e=i[n],r&&!e._abcliteInited&&e.createAbcliteController(t),o&&!e._acsInited&&e.createAcsController(t)):e=function(t){var a,o,e=t.abcliteUrl,i=t.acsUrl,n=t.sid;if(!n)throw new Error("Missing param `sid`");r=h(t,"monitoring",!1),w=r;var r={sid:n,createAbcliteController:function(t){var e=t.abcliteUrl,n=t.sid,r=t.disasterConfig,r=void 0===r?{}:r,o=t.abcliteFields,o=void 0===o?{}:o,t=N(t),n=f(n,q),i=h(r,"abcliteUrl");a=n(e,i,l({},t,{subid:h(o,"subid"),extraData:h(o,"extraData")}),r)},createAcsController:function(t){var e=t.sid,n=t.disasterConfig,n=void 0===n?{}:n,t=N(t),e=f(e,B),r=h(n,"acsUrl");o=e(i,r,t,n)},getAbcliteInstance:function(n){a?a(function(e){e.getTarget(function(t){if(t)return n(t,null);n(null,e.instance)})}):n(new Error("Missing param `abcliteUrl` during initialization"),null)},getAcsInstance:function(n){o?o(function(e){e.getTarget(function(t){if(t)return n(t,null);t=e.instance;n(null,t)})}):n(new Error("Missing param `acsUrl` during initialization"),null)}};return e&&(r.createAbcliteController(t),r._abcliteInited=!0),i&&(r.createAcsController(t),r._acsInited=!0),r}(t),window["paris_"+n]=i[n]=e},VERSION:"2.0.1",VERSION_FLAG:2},(!window.ParisFactory||window.ParisFactory.VERSION_FLAG<Q.VERSION_FLAG)&&(window.ParisFactory=Q);Q=window.ParisFactory,Q=t.default=Q;t.ParisFactory=Q});
;/*!wiki-common:widget/lib/promisePolyfill/promise.js*/
define("wiki-common:widget/lib/promisePolyfill/promise",function(i,o,e){e.export=Promise});
;/*!wiki-common:widget/lib/sparkMD5/sparkMD5.js*/
define("wiki-common:widget/lib/sparkMD5/sparkMD5",function(t,r,e){function n(t){"use strict";function o(t,r,e,n,i,f,o){return p(r&e|~r&n,t,r,i,f,o)}function s(t,r,e,n,i,f,o){return p(r&n|e&~n,t,r,i,f,o)}function u(t,r,e,n,i,f,o){return p(r^e^n,t,r,i,f,o)}function a(t,r,e,n,i,f,o){return p(e^(r|~n),t,r,i,f,o)}function h(t){for(var r=[],e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function e(t){for(var r,e,n,i,f=t.length,o=[1732584193,-271733879,-1732584194,271733878],s=64;s<=f;s+=64)y(o,_(t.substring(s-64,s)));for(r=(t=t.substring(s-64)).length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<r;s+=1)e[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(e[s>>2]|=128<<(s%4<<3),55<s)for(y(o,e),s=0;s<16;s+=1)e[s]=0;return i=(i=8*f).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(i[2],16),i=parseInt(i[1],16)||0,e[14]=n,e[15]=i,y(o,e),o}function f(t){for(var r=0;r<t.length;r+=1)t[r]=i(t[r]);return t.join("")}function r(){this.reset()}var c=function(t,r){return t+r&4294967295},p=function(t,r,e,n,i,f){return r=c(c(r,t),c(n,f)),c(r<<i|r>>>32-i,e)},y=function(t,r){var e=t[0],n=t[1],i=t[2],f=t[3],e=o(e,n,i,f,r[0],7,-680876936),f=o(f,e,n,i,r[1],12,-389564586),i=o(i,f,e,n,r[2],17,606105819),n=o(n,i,f,e,r[3],22,-1044525330);e=o(e,n,i,f,r[4],7,-176418897),f=o(f,e,n,i,r[5],12,1200080426),i=o(i,f,e,n,r[6],17,-1473231341),n=o(n,i,f,e,r[7],22,-45705983),e=o(e,n,i,f,r[8],7,1770035416),f=o(f,e,n,i,r[9],12,-1958414417),i=o(i,f,e,n,r[10],17,-42063),n=o(n,i,f,e,r[11],22,-1990404162),e=o(e,n,i,f,r[12],7,1804603682),f=o(f,e,n,i,r[13],12,-40341101),i=o(i,f,e,n,r[14],17,-1502002290),n=o(n,i,f,e,r[15],22,1236535329),e=s(e,n,i,f,r[1],5,-165796510),f=s(f,e,n,i,r[6],9,-1069501632),i=s(i,f,e,n,r[11],14,643717713),n=s(n,i,f,e,r[0],20,-373897302),e=s(e,n,i,f,r[5],5,-701558691),f=s(f,e,n,i,r[10],9,38016083),i=s(i,f,e,n,r[15],14,-660478335),n=s(n,i,f,e,r[4],20,-405537848),e=s(e,n,i,f,r[9],5,568446438),f=s(f,e,n,i,r[14],9,-1019803690),i=s(i,f,e,n,r[3],14,-187363961),n=s(n,i,f,e,r[8],20,1163531501),e=s(e,n,i,f,r[13],5,-1444681467),f=s(f,e,n,i,r[2],9,-51403784),i=s(i,f,e,n,r[7],14,1735328473),n=s(n,i,f,e,r[12],20,-1926607734),e=u(e,n,i,f,r[5],4,-378558),f=u(f,e,n,i,r[8],11,-2022574463),i=u(i,f,e,n,r[11],16,1839030562),n=u(n,i,f,e,r[14],23,-35309556),e=u(e,n,i,f,r[1],4,-1530992060),f=u(f,e,n,i,r[4],11,1272893353),i=u(i,f,e,n,r[7],16,-155497632),n=u(n,i,f,e,r[10],23,-1094730640),e=u(e,n,i,f,r[13],4,681279174),f=u(f,e,n,i,r[0],11,-358537222),i=u(i,f,e,n,r[3],16,-722521979),n=u(n,i,f,e,r[6],23,76029189),e=u(e,n,i,f,r[9],4,-640364487),f=u(f,e,n,i,r[12],11,-421815835),i=u(i,f,e,n,r[15],16,530742520),n=u(n,i,f,e,r[2],23,-995338651),e=a(e,n,i,f,r[0],6,-198630844),f=a(f,e,n,i,r[7],10,1126891415),i=a(i,f,e,n,r[14],15,-1416354905),n=a(n,i,f,e,r[5],21,-57434055),e=a(e,n,i,f,r[12],6,1700485571),f=a(f,e,n,i,r[3],10,-1894986606),i=a(i,f,e,n,r[10],15,-1051523),n=a(n,i,f,e,r[1],21,-2054922799),e=a(e,n,i,f,r[8],6,1873313359),f=a(f,e,n,i,r[15],10,-30611744),i=a(i,f,e,n,r[6],15,-1560198380),n=a(n,i,f,e,r[13],21,1309151649),e=a(e,n,i,f,r[4],6,-145523070),f=a(f,e,n,i,r[11],10,-1120210379),i=a(i,f,e,n,r[2],15,718787259),n=a(n,i,f,e,r[9],21,-343485551),t[0]=c(e,t[0]),t[1]=c(n,t[1]),t[2]=c(i,t[2]),t[3]=c(f,t[3])},_=function(t){for(var r=[],e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r},n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i=function(t){for(var r="",e=0;e<4;e+=1)r+=n[t>>8*e+4&15]+n[t>>8*e&15];return r};return"5d41402abc4b2a76b9719d911017c592"!==f(e("hello"))&&(c=function(t,r){var e=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(e>>16)<<16|65535&e}),r.prototype.append=function(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),this.appendBinary(t),this},r.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;for(var r=this._buff.length,e=64;e<=r;e+=64)y(this._state,_(this._buff.substring(e-64,e)));return this._buff=this._buff.substr(e-64),this},r.prototype.end=function(t){for(var r=this._buff,e=r.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<e;i+=1)n[i>>2]|=r.charCodeAt(i)<<(i%4<<3);return this._finish(n,e),t=t?this._state:f(this._state),this.reset(),t},r.prototype._finish=function(t,r){var e,n=r;if(t[n>>2]|=128<<(n%4<<3),55<n)for(y(this._state,t),n=0;n<16;n+=1)t[n]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),e=parseInt(r[2],16),r=parseInt(r[1],16)||0,t[14]=e,t[15]=r,y(this._state,t)},r.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},r.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},r.hash=function(t,r){/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t)));t=e(t);return r?t:f(t)},r.hashBinary=function(t,r){t=e(t);return r?t:f(t)},(r.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var r,e=this._concatArrayBuffer(this._buff,t),n=e.length;for(this._length+=t.byteLength,r=64;r<=n;r+=64)y(this._state,h(e.subarray(r-64,r)));return this._buff=r-64<n?e.subarray(r-64):new Uint8Array(0),this},r.ArrayBuffer.prototype.end=function(t){for(var r=this._buff,e=r.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<e;i+=1)n[i>>2]|=r[i]<<(i%4<<3);return this._finish(n,e),t=t?this._state:f(this._state),this.reset(),t},r.ArrayBuffer.prototype._finish=r.prototype._finish,r.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},r.ArrayBuffer.prototype.destroy=r.prototype.destroy,r.ArrayBuffer.prototype._concatArrayBuffer=function(t,r){var e=t.length,n=new Uint8Array(e+r.byteLength);return n.set(t),n.set(new Uint8Array(r),e),n},r.ArrayBuffer.hash=function(t,r){t=function(t){for(var r,e,n,i,f=t.length,o=[1732584193,-271733879,-1732584194,271733878],s=64;s<=f;s+=64)y(o,h(t.subarray(s-64,s)));for(r=(t=s-64<f?t.subarray(s-64):new Uint8Array(0)).length,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<r;s+=1)e[s>>2]|=t[s]<<(s%4<<3);if(e[s>>2]|=128<<(s%4<<3),55<s)for(y(o,e),s=0;s<16;s+=1)e[s]=0;return i=(i=8*f).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(i[2],16),i=parseInt(i[1],16)||0,e[14]=n,e[15]=i,y(o,e),o}(new Uint8Array(t));return r?t:f(t)},r}var i;if("object"==typeof r)e.exports=n();else if("function"==typeof define&&define.amd)define(n);else{try{i=window}catch(t){i=self}i.SparkMD5=n()}});
;/*!wiki-common:widget/lib/swfObject/swfObject.js*/
define("wiki-common:widget/lib/swfObject/swfObject",function(e,t,n){var W=function(){var r,o,s,l,d,c,w="undefined",b="object",f="Shockwave Flash",y="application/x-shockwave-flash",p="SWFObjectExprInst",t="onreadystatechange",u=window,v=document,h=navigator,R=!1,a=[],m=[],g=[],E=[],C=!1,A=!1,i=!0,S=!1,T=function(){var e=typeof v.getElementById!==w&&typeof v.getElementsByTagName!==w&&typeof v.createElement!==w,t=h.userAgent.toLowerCase(),n=h.platform.toLowerCase(),i=/win/.test(n||t),n=/mac/.test(n||t),t=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),a="Microsoft Internet Explorer"===h.appName,r=[0,0,0],o=null;if(typeof h.plugins!==w&&typeof h.plugins[f]===b)(o=h.plugins[f].description)&&typeof h.mimeTypes!==w&&h.mimeTypes[y]&&h.mimeTypes[y].enabledPlugin&&(a=!(R=!0),o=o.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),r[0]=j(o.replace(/^(.*)\..*$/,"$1")),r[1]=j(o.replace(/^.*\.(.*)\s.*$/,"$1")),r[2]=/[a-zA-Z]/.test(o)?j(o.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof u.ActiveXObject!==w)try{var s=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");s&&(o=s.GetVariable("$version"))&&(a=!0,r=[j((o=o.split(" ")[1].split(","))[0]),j(o[1]),j(o[2])])}catch(e){}return{w3:e,pv:r,wk:t,ie:a,win:i,mac:n}}();T.w3&&((typeof v.readyState!==w&&("complete"===v.readyState||"interactive"===v.readyState)||typeof v.readyState===w&&(v.getElementsByTagName("body")[0]||v.body))&&n(),C||(typeof v.addEventListener!==w&&v.addEventListener("DOMContentLoaded",n,!1),T.ie&&(v.attachEvent(t,function e(){"complete"===v.readyState&&(v.detachEvent(t,e),n())}),u==top&&function t(){if(!C){try{v.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}n()}}()),T.wk&&function e(){C||(/loaded|complete/.test(v.readyState)?n():setTimeout(e,0))}()));function n(){if(!C&&document.getElementsByTagName("body")[0]){try{var e,t=M("span");t.style.display="none",(e=v.getElementsByTagName("body")[0].appendChild(t)).parentNode.removeChild(e),t=e=null}catch(e){return}C=!0;for(var n=a.length,i=0;i<n;i++)a[i]()}}function e(e){C?e():a[a.length]=e}function N(){var e=m.length;if(0<e)for(var t=0;t<e;t++){var n=m[t].id,i=m[t].callbackFn,a={success:!1,id:n};if(0<T.pv[0]){var r=$(n);if(r)if(!U(m[t].swfVersion)||T.wk&&T.wk<312)if(m[t].expressInstall&&B()){for(var o={},s=(o.data=m[t].expressInstall,o.width=r.getAttribute("width")||"0",o.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(o.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(o.align=r.getAttribute("align")),{}),l=r.getElementsByTagName("param"),d=l.length,c=0;c<d;c++)"movie"!==l[c].getAttribute("name").toLowerCase()&&(s[l[c].getAttribute("name")]=l[c].getAttribute("value"));I(o,s,n,i)}else{f=o=void 0;var f,o=r;T.ie&&4!=o.readyState?(o.style.display="none",f=M("div"),o.parentNode.insertBefore(f,o),f.parentNode.replaceChild(L(o),f),x(o)):o.parentNode.replaceChild(L(o),o),i&&i(a)}else P(n,!0),i&&(a.success=!0,a.ref=k(n),a.id=n,i(a))}else P(n,!0),i&&((r=k(n))&&typeof r.SetVariable!==w&&(a.success=!0,a.ref=r,a.id=r.id),i(a))}}function k(e){var t=null,e=$(e);return t=e&&"OBJECT"===e.nodeName.toUpperCase()?typeof e.SetVariable===w&&e.getElementsByTagName(b)[0]||e:t}function B(){return!A&&U("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function I(e,t,n,i){var a=$(n);n=F(n),s=i||null,l={success:!(A=!0),id:n},a&&(o="OBJECT"===a.nodeName.toUpperCase()?(r=L(a),null):(r=a,n),e.id=p,(typeof e.width===w||!/%$/.test(e.width)&&j(e.width)<310)&&(e.width="310"),(typeof e.height===w||!/%$/.test(e.height)&&j(e.height)<137)&&(e.height="137"),i=T.ie?"ActiveX":"PlugIn",i="MMredirectURL="+encodeURIComponent(u.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+i+"&MMdoctitle="+encodeURIComponent(v.title.slice(0,47)+" - Flash Player Installation"),typeof t.flashvars!==w?t.flashvars+="&"+i:t.flashvars=i,T.ie&&4!=a.readyState&&((i=M("div")).setAttribute("id",n+="SWFObjectNew"),a.parentNode.insertBefore(i,a),a.style.display="none",x(a)),O(e,t,n))}function L(e){var t=M("div");if(T.win&&T.ie)t.innerHTML=e.innerHTML;else{e=e.getElementsByTagName(b)[0];if(e){var n=e.childNodes;if(n)for(var i=n.length,a=0;a<i;a++)1==n[a].nodeType&&"PARAM"===n[a].nodeName||8==n[a].nodeType||t.appendChild(n[a].cloneNode(!0))}}return t}function O(e,t,n){var i,a,r,o,s,l,d,c=$(n);if(n=F(n),T.wk&&T.wk<312)return i;if(c){var f,p,u,v=T.ie?M("div"):M(b);for(u in typeof e.id===w&&(e.id=n),t)t.hasOwnProperty(u)&&"movie"!==u.toLowerCase()&&(o=v,l=t[s=u],d=void 0,(d=M("param")).setAttribute("name",s),d.setAttribute("value",l),o.appendChild(d));for(f in T.ie&&(n=e.data,a=v.innerHTML,(r=M("div")).innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+n+"'>"+a+"</object>",v=r.firstChild),e)e.hasOwnProperty(f)&&("styleclass"===(p=f.toLowerCase())?v.setAttribute("class",e[f]):"classid"!==p&&"data"!==p&&v.setAttribute(f,e[f]));T.ie?g[g.length]=e.id:(v.setAttribute("type",y),v.setAttribute("data",e.data)),c.parentNode.replaceChild(v,c),i=v}return i}function x(e){var n=$(e);n&&"OBJECT"===n.nodeName.toUpperCase()&&(T.ie?(n.style.display="none",function e(){if(4==n.readyState){for(var t in n)"function"==typeof n[t]&&(n[t]=null);n.parentNode.removeChild(n)}else setTimeout(e,10)}()):n.parentNode.removeChild(n))}function V(e){return e&&e.nodeType&&1===e.nodeType}function F(e){return V(e)?e.id:e}function $(e){if(V(e))return e;var t=null;try{t=v.getElementById(e)}catch(e){}return t}function M(e){return v.createElement(e)}function j(e){return parseInt(e,10)}function U(e){var t=T.pv,e=(e+="").split(".");return e[0]=j(e[0]),e[1]=j(e[1])||0,e[2]=j(e[2])||0,t[0]>e[0]||t[0]==e[0]&&t[1]>e[1]||t[0]==e[0]&&t[1]==e[1]&&t[2]>=e[2]}function D(e,t,n,i){var a=v.getElementsByTagName("head")[0];a&&(n="string"==typeof n?n:"screen",i&&(c=d=null),d&&c==n||((i=M("style")).setAttribute("type","text/css"),i.setAttribute("media",n),d=a.appendChild(i),T.ie&&typeof v.styleSheets!==w&&0<v.styleSheets.length&&(d=v.styleSheets[v.styleSheets.length-1]),c=n),d&&(typeof d.addRule!==w?d.addRule(e,t):typeof v.createTextNode!==w&&d.appendChild(v.createTextNode(e+" {"+t+"}"))))}function P(e,t){var n;i&&(t=t?"visible":"hidden",n=$(e),C&&n?n.style.visibility=t:"string"==typeof e&&D("#"+e,"visibility:"+t))}function H(e){return null!==/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!==w?encodeURIComponent(e):e}a[0]=function(){var n,i,a,r;R?(i=v.getElementsByTagName("body")[0],(a=M(b)).setAttribute("style","visibility: hidden;"),a.setAttribute("type",y),(r=i.appendChild(a))?(n=0,function e(){if(typeof r.GetVariable!==w)try{var t=r.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),T.pv=[j(t[0]),j(t[1]),j(t[2])])}catch(e){T.pv=[8,0,0]}else if(n<10)return n++,void setTimeout(e,10);i.removeChild(a),r=null,N()}()):N()):N()};T.ie&&window.attachEvent("onunload",function(){for(var e=E.length,t=0;t<e;t++)E[t][0].detachEvent(E[t][1],E[t][2]);for(var n,i,a=g.length,r=0;r<a;r++)x(g[r]);for(n in T)T[n]=null;for(i in T=null,W)W[i]=null;W=null});return{registerObject:function(e,t,n,i){var a;T.w3&&e&&t?((a={}).id=e,a.swfVersion=t,a.expressInstall=n,a.callbackFn=i,m[m.length]=a,P(e,!1)):i&&i({success:!1,id:e})},getObjectById:function(e){if(T.w3)return k(e)},embedSWF:function(s,l,d,c,f,p,u,v,y,h){var m=F(l),g={success:!1,id:m};T.w3&&!(T.wk&&T.wk<312)&&s&&l&&d&&c&&f?(P(m,!1),e(function(){d+="",c+="";var e={};if(y&&typeof y===b)for(var t in y)e[t]=y[t];e.data=s,e.width=d,e.height=c;var n,i={};if(v&&typeof v===b)for(var a in v)i[a]=v[a];if(u&&typeof u===b)for(var r in u)u.hasOwnProperty(r)&&(n=S?encodeURIComponent(r):r,r=S?encodeURIComponent(u[r]):u[r],typeof i.flashvars!==w?i.flashvars+="&"+n+"="+r:i.flashvars=n+"="+r);if(U(f)){var o=O(e,i,l);e.id==m&&P(m,!0),g.success=!0,g.ref=o,g.id=o.id}else{if(p&&B())return e.data=p,void I(e,i,l,h);P(m,!0)}h&&h(g)})):h&&h(g)},switchOffAutoHideShow:function(){i=!1},enableUriEncoding:function(e){S=typeof e===w||e},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:U,createSWF:function(e,t,n){if(T.w3)return O(e,t,n)},showExpressInstall:function(e,t,n,i){T.w3&&B()&&I(e,t,n,i)},removeSWF:function(e){T.w3&&x(e)},createCSS:function(e,t,n,i){T.w3&&D(e,t,n,i)},addDomLoadEvent:e,addLoadEvent:function(e){var t,n,i,a;typeof u.addEventListener!==w?u.addEventListener("load",e,!1):typeof v.addEventListener!==w?v.addEventListener("load",e,!1):typeof u.attachEvent!==w?(i="onload",a=e,(n=u).attachEvent(i,a),E[E.length]=[n,i,a]):"function"==typeof u.onload?(t=u.onload,u.onload=function(){t(),e()}):u.onload=e},getQueryParamValue:function(e){var t=v.location.search||v.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return H(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return H(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){var e;A&&((e=$(p))&&r&&(e.parentNode.replaceChild(r,e),o&&(P(o,!0),T.ie&&(r.style.display="block")),s&&s(l)),A=!1)},version:"2.3"}}();n.exports=W});
;/*!wiki-common:widget/lib/trumbowyg/plugins/colors/trumbowyg.colors.js*/
define("wiki-common:widget/lib/trumbowyg/plugins/colors/trumbowyg.colors",function(o,r,e){!function(e){"use strict";function r(o){return("0"+parseInt(o,10).toString(16)).slice(-2)}function t(o){return-1===o.search("rgb")?o.replace("#",""):"rgba(0, 0, 0, 0)"===o?"transparent":r((o=o.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/))[1])+r(o[2])+r(o[3])}e.extend(!0,e.trumbowyg,{langs:{en:{foreColor:"Text color",backColor:"Background color",foreColorRemove:"Remove text color",backColorRemove:"Remove background color"},cs:{foreColor:"Barva textu",backColor:"Barva pozadí"},da:{foreColor:"Tekstfarve",backColor:"Baggrundsfarve"},de:{foreColor:"Textfarbe",backColor:"Hintergrundfarbe"},fr:{foreColor:"Couleur du texte",backColor:"Couleur de fond",foreColorRemove:"Supprimer la couleur du texte",backColorRemove:"Supprimer la couleur de fond"},hu:{foreColor:"Betű szín",backColor:"Háttér szín",foreColorRemove:"Betű szín eltávolítása",backColorRemove:"Háttér szín eltávolítása"},ja:{foreColor:"文字色",backColor:"背景色"},ko:{foreColor:"글자색",backColor:"배경색",foreColorRemove:"글자색 지우기",backColorRemove:"배경색 지우기"},nl:{foreColor:"Tekstkleur",backColor:"Achtergrondkleur"},pt_br:{foreColor:"Cor de fonte",backColor:"Cor de fundo"},ru:{foreColor:"Цвет текста",backColor:"Цвет выделения текста"},sk:{foreColor:"Farba textu",backColor:"Farba pozadia"},tr:{foreColor:"Yazı rengi",backColor:"Arkaplan rengi"},zh_cn:{foreColor:"文字颜色",backColor:"背景颜色"},zh_tw:{foreColor:"文字顏色",backColor:"背景顏色"}}});var l={colorList:["fff","000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646","ff0","f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","fff2ca","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","ffe694","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","b7dde8","fac08f","f2c314","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","92cddc","e36c09","c09100","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","31859b","974806","7f6000"],foreColorList:null,backColorList:null,allowCustomForeColor:!0,allowCustomBackColor:!0,displayAsList:!1};function a(a,t){var c=[],f=t.o.plugins.colors,o=f[a+"List"]||f.colorList,o=(e.each(o,function(o,r){var e=a+r,l={fn:a,forceCss:!0,hasIcon:!1,text:t.lang["#"+r]||"#"+r,param:"#"+r,style:"background-color: #"+r+";"};f.displayAsList&&"foreColor"===a&&(l.style="color: #"+r+" !important;"),t.addBtnDef(e,l),c.push(e)}),a+"Remove"),r={fn:"removeFormat",hasIcon:!1,param:a,style:"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2NkQAAfEJMRmwBYhoGBYQtMBYoAADziAp0jtJTgAAAAAElFTkSuQmCC);"};return f.displayAsList&&(r.style=""),t.addBtnDef(o,r),c.push(o),f["allowCustom"+a.charAt(0).toUpperCase()+a.substr(1)]&&(t.addBtnDef(r=a+"Free",{fn:function(){t.openModalInsert(t.lang[a],{color:{label:a,forceCss:!0,type:"color",value:"#fff"}},function(o){return t.execCmd(a,o.color),!0})},hasIcon:!1,text:"#",style:"text-indent: 0; line-height: 20px; padding: 0 5px;"}),c.push(r)),c}e.extend(!0,e.trumbowyg,{plugins:{color:{init:function(o){o.o.plugins.colors=o.o.plugins.colors||l;var r=o.o.plugins.colors.displayAsList?o.o.prefix+"dropdown--color-list":"",e={dropdown:a("foreColor",o),dropdownClass:r},r={dropdown:a("backColor",o),dropdownClass:r};o.addBtnDef("foreColor",e),o.addBtnDef("backColor",r)},tagHandler:function(o,r){var e,l,a=[];return o.style&&(""!==o.style.backgroundColor&&(e=t(o.style.backgroundColor),0<=r.o.plugins.colors.colorList.indexOf(e)?a.push("backColor"+e):a.push("backColorFree")),""!==o.style.color?l=t(o.style.color):o.hasAttribute("color")&&(l=t(o.getAttribute("color"))),l&&(0<=r.o.plugins.colors.colorList.indexOf(l)?a.push("foreColor"+l):a.push("foreColorFree"))),a}}}})}(o("wiki-common:widget/lib/jquery/jquery"))});
;/*!wiki-common:widget/lib/trumbowyg/trumbowyg.js*/
define("wiki-common:widget/lib/trumbowyg/trumbowyg",function(e,t,n){e=e("wiki-common:widget/lib/jquery/jquery");e.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"},zh_cn:{viewHTML:"源代码",formatting:"格式",p:"段落",blockquote:"引用",code:"代码",header:"标题",bold:"加粗",italic:"斜体",strikethrough:"删除线",underline:"下划线",strong:"加粗",em:"斜体",del:"删除线",unorderedList:"无序列表",orderedList:"有序列表",insertImage:"插入图片",insertVideo:"插入视频",link:"超链接",createLink:"插入链接",unlink:"取消链接",justifyLeft:"居左对齐",justifyCenter:"居中对齐",justifyRight:"居右对齐",justifyFull:"两端对齐",horizontalRule:"插入分隔线",fullscreen:"全屏",close:"关闭",submit:"确定",reset:"取消",required:"必需的",description:"描述",title:"标题",text:"文字"}},plugins:{},svgPath:null,svgAbsoluteUseHref:!1,hideButtonTexts:null},Object.defineProperty(e.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,hideButtonTexts:null,prefix:"trumbowyg-",tagClasses:{},semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,defaultLinkTarget:void 0,svgPath:null},writable:!1,enumerable:!0,configurable:!1}),function(l,d,c,u){"use strict";function a(e,t){function n(){return(d.chrome||d.Intl&&Intl.v8BreakIterator)&&"CSS"in d}var o,a=this,i="trumbowyg-icons",r=u.trumbowyg,s=(a.doc=e.ownerDocument||c,a.$ta=u(e),a.$c=u(e),null!=(t=t||{}).lang||null!=r.langs[t.lang]?a.lang=u.extend(!0,{},r.langs.en,r.langs[t.lang]):a.lang=r.langs.en,a.hideButtonTexts=(null!=r.hideButtonTexts?r:t).hideButtonTexts,(null!=r.svgPath?r:t).svgPath),i=(a.hasSvg=!1!==s,!1===s||!r.svgAbsoluteUseHref&&0!==u("#"+i,a.doc).length||(null==s&&u("script[src]").each(function(e,t){null!=t.src.match(/trumbowyg(\.min)?.+\.js/)&&(s="https://bkssl.bdimg.com/static/wiki-common/widget/lib/trumbowyg/ui/icons_cc66783.svg")}),null==s?console.warn("You must define svgPath: https://goo.gl/CfTY9U"):r.svgAbsoluteUseHref||((o=a.doc.createElement("div")).id=i,a.doc.body.insertBefore(o,a.doc.body.childNodes[0]),u.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:s,data:null,beforeSend:null,complete:null,success:function(e){o.innerHTML=(new XMLSerializer).serializeToString(e.documentElement)}}))),a.doc.querySelector("base")?d.location.href.split(/[?#]/)[0]:""),i=(a.svgPath=r.svgAbsoluteUseHref?s:i,a.lang.header);a.btnsDef={viewHTML:{fn:"toggle",class:"trumbowyg-not-disable"},undo:{isSupported:n,key:"Z"},redo:{isSupported:n,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:i+" 1"},h2:{fn:"formatBlock",title:i+" 2"},h3:{fn:"formatBlock",title:i+" 3"},h4:{fn:"formatBlock",title:i+" 4"},h5:{fn:"formatBlock",title:i+" 5"},h6:{fn:"formatBlock",title:i+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},a.o=u.extend(!0,{},r.defaultOptions,t),a.o.hasOwnProperty("imgDblClickHandler")||(a.o.imgDblClickHandler=a.getDefaultImgDblClickHandler()),a.urlPrefix=a.setupUrlPrefix(),a.disabled=a.o.disabled||"TEXTAREA"===e.nodeName&&e.disabled,t.btns?a.o.btns=t.btns:a.o.semantic||(a.o.btns[3]=["bold","italic","underline","strikethrough"]),u.each(a.o.btnsDef,function(e,t){a.addBtnDef(e,t)}),a.eventNamespace="trumbowyg-event",a.keys=[],a.tagToButton={},a.tagHandlers=[],a.pasteHandlers=[].concat(a.o.pasteHandlers),a.isIE=-1!==l.userAgent.indexOf("MSIE")||-1!==l.appVersion.indexOf("Trident/"),a.isMac=-1!==l.platform.toUpperCase().indexOf("MAC"),a.init()}var g="tbwconfirm",h="tbwcancel";a.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var e=this;e.height=e.$ta.height(),e.initPlugins();try{e.doc.execCommand("enableObjectResizing",!1,!1),e.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}e.buildEditor(),e.buildBtnPane(),e.fixedBtnPaneEvents(),e.buildOverlay(),setTimeout(function(){e.disabled&&e.setDisabled(!0),e.$c.trigger("tbwinit")})},addBtnDef:function(e,t){this.btnsDef[e]=u.extend(t,this.btnsDef[e]||{})},setupUrlPrefix:function(){var e=this.o.urlProtocol;if(e)return"string"!=typeof e?"https://":e.replace("://","")+"://"},buildEditor:function(){var t,o=this,n=o.o.prefix,e="",a=(o.$box=u("<div/>",{class:n+"box "+n+"editor-visible "+n+o.o.lang+" trumbowyg"}),o.isTextarea=o.$ta.is("textarea"),o.isTextarea?(e=o.$ta.val(),o.$ed=u("<div/>"),o.$box.insertAfter(o.$ta).append(o.$ed,o.$ta)):(o.$ed=o.$ta,e=o.$ed.html(),o.$ta=u("<textarea/>",{name:o.$ta.attr("id"),height:o.height}).val(e),o.$box.insertAfter(o.$ed).append(o.$ta,o.$ed),o.syncCode()),o.$ta.addClass(n+"textarea").attr("tabindex",-1),o.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:o.lang._dir||"ltr"}).html(e),o.o.tabindex&&o.$ed.attr("tabindex",o.o.tabindex),o.$c.is("[placeholder]")&&o.$ed.attr("placeholder",o.$c.attr("placeholder")),o.$c.is("[spellcheck]")&&o.$ed.attr("spellcheck",o.$c.attr("spellcheck")),o.o.resetCss&&o.$ed.addClass(n+"reset-css"),o.o.autogrow||o.$ta.add(o.$ed).css({height:o.height}),o.semanticCode(),o.o.autogrowOnEnter&&o.$ed.addClass(n+"autogrow-on-enter"),!1),i=!1;o.$ed.on("dblclick","img",o.o.imgDblClickHandler).on("keydown",function(e){var t=e.which;if(8!==t&&13!==t&&46!==t||o.toggleSpan(!0),!e.ctrlKey&&!e.metaKey||e.altKey){if(o.o.tabToIndent&&"Tab"===e.key)try{return e.shiftKey?o.execCmd("outdent",!0,null):o.execCmd("indent",!0,null),!1}catch(e){}}else{a=!0;t=o.keys[String.fromCharCode(e.which).toUpperCase()];try{return o.execCmd(t.fn,t.param),!1}catch(e){}}}).on("compositionstart compositionupdate",function(){i=!0}).on("keyup compositionend",function(e){if("compositionend"===e.type)i=!1;else if(i)return;var t=e.which;37<=t&&t<=40||(8!==t&&13!==t&&46!==t||o.toggleSpan(),!e.ctrlKey&&!e.metaKey||89!==t&&90!==t?a||17===t?void 0===e.which&&o.semanticCode(!1,!1,!0):(e=!o.isIE||"compositionend"===e.type,o.semanticCode(!1,e&&13===t),o.$c.trigger("tbwchange")):(o.semanticCode(!1,!0),o.$c.trigger("tbwchange")),setTimeout(function(){a=!1},50))}).on("mouseup keydown keyup",function(e){(e.ctrlKey||e.metaKey)&&!e.altKey||setTimeout(function(){a=!1},50),clearTimeout(t),t=setTimeout(function(){o.updateButtonPaneStatus()},50)}).on("focus blur",function(e){"blur"===e.type&&o.clearButtonPaneStatus(),o.$c.trigger("tbw"+e.type),o.o.autogrowOnEnter&&!o.autogrowOnEnterDontClose&&("focus"===e.type?(o.autogrowOnEnterWasFocused=!0,o.autogrowEditorOnEnter()):o.o.autogrow||(o.$ed.css({height:o.$ed.css("min-height")}),o.$c.trigger("tbwresize")))}).on("keyup focus",function(){o.$ta.val().match(/<.*>/)||o.$ed.html().match(/<.*>/)||setTimeout(function(){var e=o.isIE?"<p>":"p";o.doc.execCommand("formatBlock",!1,e),o.syncCode()},0)}).on("cut drop",function(){setTimeout(function(){o.semanticCode(!1,!0),o.$c.trigger("tbwchange")},0)}).on("paste",function(n){if(o.o.removeformatPasted){n.preventDefault(),d.getSelection&&d.getSelection().deleteFromDocument&&d.getSelection().deleteFromDocument();try{var t=d.clipboardData.getData("Text");try{o.doc.selection.createRange().pasteHTML(t)}catch(e){o.doc.getSelection().getRangeAt(0).insertNode(o.doc.createTextNode(t))}o.$c.trigger("tbwchange",n)}catch(e){o.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}u.each(o.pasteHandlers,function(e,t){t(n)}),setTimeout(function(){o.semanticCode(!1,!0),o.$c.trigger("tbwpaste",n),o.$c.trigger("tbwchange")},0)}),o.$ta.on("keyup",function(){o.$c.trigger("tbwchange")}).on("paste",function(){setTimeout(function(){o.$c.trigger("tbwchange")},0)}),u(o.doc.body).on("keydown."+o.eventNamespace,function(e){if(27===e.which&&1<=u("."+n+"modal-box").length)return o.closeModal(),!1})},autogrowEditorOnEnter:function(){var e=this,t=(e.$ed.removeClass("autogrow-on-enter"),e.$ed[0].clientHeight),n=(e.$ed.height("auto"),e.$ed[0].scrollHeight);e.$ed.addClass("autogrow-on-enter"),t!==n&&(e.$ed.height(t),setTimeout(function(){e.$ed.css({height:n}),e.$c.trigger("tbwresize")},0))},buildBtnPane:function(){var o=this,a=o.o.prefix,i=o.$btnPane=u("<div/>",{class:a+"button-pane"});u.each(o.o.btns,function(e,t){u.isArray(t)||(t=[t]);var n=u("<div/>",{class:a+"button-group "+(0<=t.indexOf("fullscreen")?a+"right":"")});u.each(t,function(e,t){try{o.isSupportedBtn(t)&&n.append(o.buildBtn(t))}catch(e){}}),0<n.html().trim().length&&i.append(n)}),o.$box.prepend(i)},buildBtn:function(e){var t,n,o=this,a=o.o.prefix,i=o.btnsDef[e],r=i.dropdown,s=null==i.hasIcon||i.hasIcon,l=o.lang[e]||e,s=u("<button/>",{type:"button",class:a+e+"-button "+(i.class||"")+(s?"":" "+a+"textual-button"),html:o.hasSvg&&s?'<svg><use xlink:href="'+o.svgPath+"#"+a+(i.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':o.hideButtonTexts?"":i.text||i.title||o.lang[e]||e,title:(i.title||i.text||l)+(i.key?" ("+(o.isMac?"Cmd":"Ctrl")+" + "+i.key+")":""),tabindex:-1,mousedown:function(){return r&&!u("."+e+"-"+a+"dropdown",o.$box).is(":hidden")||u("body",o.doc).trigger("mousedown"),(!o.$btnPane.hasClass(a+"disable")&&!o.$box.hasClass(a+"disabled")||u(this).hasClass(a+"active")||u(this).hasClass(a+"not-disable"))&&o.execCmd((!r?i.fn:"dropdown")||e,i.param||e,i.forceCss),!1}});return r?(s.addClass(a+"open-dropdown"),(t={class:(l=a+"dropdown")+"-"+e+" "+l+" "+a+"fixed-top "+(i.dropdownClass||"")})["data-"+l]=e,n=u("<div/>",t),u.each(r,function(e,t){o.btnsDef[t]&&o.isSupportedBtn(t)&&n.append(o.buildSubBtn(t))}),o.$box.append(n.hide())):i.key&&(o.keys[i.key]={fn:i.fn||e,param:i.param||e}),r||(o.tagToButton[(i.tag||e).toLowerCase()]=e),s},buildSubBtn:function(e){var t=this,n=t.o.prefix,o=t.btnsDef[e],a=null==o.hasIcon||o.hasIcon;return o.key&&(t.keys[o.key]={fn:o.fn||e,param:o.param||e}),t.tagToButton[(o.tag||e).toLowerCase()]=e,u("<button/>",{type:"button",class:n+e+"-dropdown-button "+(o.class||"")+(o.ico?" "+n+o.ico+"-button":""),html:t.hasSvg&&a?'<svg><use xlink:href="'+t.svgPath+"#"+n+(o.ico||e).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(o.text||o.title||t.lang[e]||e):o.text||o.title||t.lang[e]||e,title:o.key?"("+(t.isMac?"Cmd":"Ctrl")+" + "+o.key+")":null,style:o.style||null,mousedown:function(){return u("body",t.doc).trigger("mousedown"),t.execCmd(o.fn||e,o.param||e,o.forceCss),!1}})},isSupportedBtn:function(e){try{return this.btnsDef[e].isSupported()}catch(e){}return!0},buildOverlay:function(){return this.$overlay=u("<div/>",{class:this.o.prefix+"overlay"}).appendTo(this.$box),this.$overlay},showOverlay:function(){u(d).trigger("scroll"),this.$overlay.fadeIn(200),this.$box.addClass(this.o.prefix+"box-blur")},hideOverlay:function(){this.$overlay.fadeOut(50),this.$box.removeClass(this.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var a=this,i=a.o.fixedFullWidth,r=a.$box;a.o.fixedBtnPane&&(a.isFixed=!1,u(d).on("scroll."+a.eventNamespace+" resize."+a.eventNamespace,function(){var e,t,n,o;r&&(a.syncCode(),e=u(d).scrollTop(),t=r.offset().top+1,o=(n=a.$btnPane).outerHeight()-2,0<e-t&&e-t-a.height<0?(a.isFixed||(a.isFixed=!0,n.css({position:"fixed",top:0,left:i?0:"auto",zIndex:7}),a.$box.css({paddingTop:n.height()})),n.css({width:i?"100%":r.width()-1}),u("."+a.o.prefix+"fixed-top",r).css({position:i?"fixed":"absolute",top:i?o:e-t+o,zIndex:15})):a.isFixed&&(a.isFixed=!1,n.removeAttr("style"),a.$box.css({paddingTop:0}),u("."+a.o.prefix+"fixed-top",r).css({position:"absolute",top:o})))}))},setDisabled:function(e){var t=this,n=t.o.prefix;(t.disabled=e)?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled"),t.$box.toggleClass(n+"disabled",e),t.$ed.attr("contenteditable",!e)},destroy:function(){var e=this,t=e.o.prefix;e.isTextarea?e.$box.after(e.$ta.css({height:""}).val(e.html()).removeClass(t+"textarea").show()):e.$box.after(e.$ed.css({height:""}).removeClass(t+"editor").removeAttr("contenteditable").removeAttr("dir").html(e.html()).show()),e.$ed.off("dblclick","img"),e.destroyPlugins(),e.$box.remove(),e.$c.removeData("trumbowyg"),u("body").removeClass(t+"body-fullscreen"),e.$c.trigger("tbwclose"),u(d).off("scroll."+e.eventNamespace+" resize."+e.eventNamespace),u(e.doc.body).off("keydown."+e.eventNamespace)},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var e=this,t=e.o.prefix;e.o.autogrowOnEnter&&(e.autogrowOnEnterDontClose=!e.$box.hasClass(t+"editor-hidden")),e.semanticCode(!1,!0),e.$c.trigger("tbwchange"),setTimeout(function(){e.doc.activeElement.blur(),e.$box.toggleClass(t+"editor-hidden "+t+"editor-visible"),e.$btnPane.toggleClass(t+"disable"),u("."+t+"viewHTML-button",e.$btnPane).toggleClass(t+"active"),e.$box.hasClass(t+"editor-visible")?e.$ta.attr("tabindex",-1):e.$ta.removeAttr("tabindex"),e.o.autogrowOnEnter&&!e.autogrowOnEnterDontClose&&e.autogrowEditorOnEnter()},0)},toggleSpan:function(e){this.$ed.find("span").each(function(){!0===e?u(this).attr("data-tbw-flag",!0):u(this).attr("data-tbw-flag")?u(this).removeAttr("data-tbw-flag"):u(this).contents().unwrap()})},dropdown:function(e){var t=this,n=u("body",t.doc),o=t.o.prefix,a=u("[data-"+o+"dropdown="+e+"]",t.$box),e=u("."+o+e+"-button",t.$btnPane),i=a.is(":hidden");n.trigger("mousedown"),i&&(i=e.offset().left,e.addClass(o+"active"),a.css({position:"absolute",top:e.offset().top-t.$btnPane.offset().top+e.outerHeight(),left:t.o.fixedFullWidth&&t.isFixed?i:i-t.$btnPane.offset().left}).show(),u(d).trigger("scroll"),n.on("mousedown."+t.eventNamespace,function(e){a.is(e.target)||(u("."+o+"dropdown",t.$box).hide(),u("."+o+"active",t.$btnPane).removeClass(o+"active"),n.off("mousedown."+t.eventNamespace))}))},html:function(e){var t=this;return null!=e?(t.$ta.val(e),t.syncCode(!0),t.$c.trigger("tbwchange"),t):t.$ta.val()},syncTextarea:function(){var e=this;e.$ta.val(0<e.$ed.text().trim().length||0<e.$ed.find(e.o.tagsToKeep.join(",")).length?e.$ed.html():"")},syncCode:function(e){var t=this;!e&&t.$ed.is(":visible")?t.syncTextarea():(e=u("<div>").html(t.$ta.val()),e=u("<div>").append(e),u(t.o.tagsToRemove.join(","),e).remove(),t.$ed.html(e.contents().html())),t.o.autogrow&&(t.height=t.$ed.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize"))),t.o.autogrowOnEnter&&(t.$ed.height("auto"),(e=t.autogrowOnEnterWasFocused?t.$ed[0].scrollHeight:t.$ed.css("min-height"))!==t.$ta.css("height")&&(t.$ed.css({height:e}),t.$c.trigger("tbwresize")))},semanticCode:function(e,t,n){var o,a,i,r=this,e=(r.saveRange(),r.syncCode(e),!0);r.range&&r.range.collapsed&&(e=!1),r.o.semantic&&(r.semanticTag("b",r.o.semanticKeepAttributes),r.semanticTag("i",r.o.semanticKeepAttributes),r.semanticTag("s",r.o.semanticKeepAttributes),r.semanticTag("strike",r.o.semanticKeepAttributes),t&&(o=r.o.inlineElementsSelector,a=":not("+o+")",r.$ed.contents().filter(function(){return 3===this.nodeType&&0<this.nodeValue.trim().length}).wrap("<span data-tbw/>"),(i=function(e){var t;0!==e.length&&(t=(e=e.nextUntil(a).addBack().wrapAll("<p/>").parent()).nextAll(o).first(),e.next("br").remove(),i(t))})(r.$ed.children(o).first()),r.semanticTag("div",!0),u("[data-tbw]",r.$ed).contents().unwrap(),r.$ed.find("p:empty").remove()),!n&&e&&r.restoreRange(),r.syncTextarea())},semanticTag:function(e,o,t){var a,i=this,n=e;if(null!=this.o.semantic&&"object"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(e))a=this.o.semantic[e];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(e))return;a=this.DEFAULT_SEMANTIC_MAP[e]}t&&(e=a,a=n),u(e,this.$ed).each(function(){var e=!1,t=u(this);if(0===t.contents().length)return!1;i.range.startContainer.parentNode&&i.range.startContainer.parentNode===this&&(e=!0);var n=u("<"+a+"/>");n.insertBefore(t),o&&u.each(t.prop("attributes"),function(){n.attr(this.name,this.value)}),n.html(t.html()),t.remove(),!0===e&&(i.range.selectNodeContents(n.get(0)),i.range.collapse(!1))})},createLink:function(){var e,t,n,o,a=this,i=a.doc.getSelection(),r=i.getRangeAt(0),s=i.focusNode,r=(new XMLSerializer).serializeToString(r.cloneContents())||r+"";for(r=r.replace(/<[^>]+>/gi,"");["A","DIV"].indexOf(s.nodeName)<0;)s=s.parentNode;s&&"A"===s.nodeName&&(r=(o=u(s)).text(),n=o.attr("href"),a.o.minimalLinks||(e=o.attr("title"),t=o.attr("target")||a.o.defaultLinkTarget),(o=a.doc.createRange()).selectNode(s),i.removeAllRanges(),i.addRange(o)),a.saveRange();i={url:{label:a.lang.linkUrl||"URL",required:!0,value:n},text:{label:a.lang.text,value:r}};a.o.minimalLinks||u.extend(i,{title:{label:a.lang.title,value:e},target:{label:a.lang.target,value:t}}),a.openModalInsert(a.lang.createLink,i,function(e){var t=a.prependUrlPrefix(e.url);if(!t.length)return!1;t=u(['<a href="',t,'">',e.text||e.url,"</a>"].join(""));return e.title&&t.attr("title",e.title),(e.target||a.o.defaultLinkTarget)&&t.attr("target",e.target||a.o.defaultLinkTarget),a.range.deleteContents(),a.range.insertNode(t[0]),a.syncCode(),a.$c.trigger("tbwchange"),!0})},prependUrlPrefix:function(e){if(!this.urlPrefix)return e;if(/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(e))return e;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"mailto:"+e:this.urlPrefix+e},unlink:function(){var e,t=this.doc.getSelection(),n=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;n&&"A"===n.nodeName&&((e=this.doc.createRange()).selectNode(n),t.removeAllRanges(),t.addRange(e))}this.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var n=this,e=(n.saveRange(),{url:{label:"URL",required:!0},alt:{label:n.lang.description,value:n.getRangeText()}});n.o.imageWidthModalEdit&&(e.width={}),n.openModalInsert(n.lang.insertImage,e,function(e){n.execCmd("insertImage",e.url,!1,!0);var t=u('img[src="'+e.url+'"]:not([alt])',n.$box);return t.attr("alt",e.alt),n.o.imageWidthModalEdit&&t.attr({width:e.width}),n.syncCode(),n.$c.trigger("tbwchange"),!0})},fullscreen:function(){var e=this,t=e.o.prefix,n=t+"fullscreen",o=n+"-placeholder",a=e.$box.outerHeight();e.$box.toggleClass(n),(n=e.$box.hasClass(n))?e.$box.before(u("<div/>",{class:o}).css({height:a})):u("."+o).remove(),u("body").toggleClass(t+"body-fullscreen",n),u(d).trigger("scroll"),e.$c.trigger("tbw"+(n?"open":"close")+"fullscreen")},execCmd:function(t,n,e,o){var a=this;o=!!o||"","dropdown"!==t&&a.$ed.focus(),"strikethrough"===t&&a.o.semantic&&a.semanticTag("strike",a.o.semanticKeepAttributes,!0);try{a.doc.execCommand("styleWithCSS",!1,e||!1)}catch(e){}try{a[t+o](n)}catch(e){try{t(n)}catch(e){"insertHorizontalRule"===t?n=void 0:"formatBlock"===t&&a.isIE&&(n="<"+n+">"),a.doc.execCommand(t,!1,n),a.syncCode(),a.semanticCode(!1,!0);try{var i=d.getSelection().focusNode,r=(u(d.getSelection().focusNode.parentNode).hasClass("trumbowyg-editor")||(i=d.getSelection().focusNode.parentNode),a.o.tagClasses[n]);r&&u(i).addClass(r)}catch(e){}}"dropdown"!==t&&(a.updateButtonPaneStatus(),a.$c.trigger("tbwchange"))}},openModal:function(e,t,n){var o=this,a=o.o.prefix;if(n=!1!==n,0<u("."+a+"modal-box",o.$box).length)return!1;o.o.autogrowOnEnter&&(o.autogrowOnEnterDontClose=!0),o.saveRange(),o.showOverlay(),o.$btnPane.addClass(a+"disable");var i=u("<div/>",{class:a+"modal "+a+"fixed-top"}).css({top:o.$box.offset().top+o.$btnPane.height(),zIndex:99999}).appendTo(u(o.doc.body)),t=(o.$overlay.one("click",function(){return i.trigger(h),!1}),t=n?u("<form/>",{action:"",html:t}).on("submit",function(){return i.trigger(g),!1}).on("reset",function(){return i.trigger(h),!1}).on("submit reset",function(){o.o.autogrowOnEnter&&(o.autogrowOnEnterDontClose=!1)}):t,u("<div/>",{class:a+"modal-box",html:t}).css({top:"-"+o.$btnPane.outerHeight(),opacity:0,paddingBottom:n?null:"5%"}).appendTo(i).animate({top:0,opacity:1},100));return e&&u("<span/>",{text:e,class:a+"modal-title"}).prependTo(t),n&&(u("input:first",t).focus(),o.buildModalBtn("submit",t),o.buildModalBtn("reset",t),i.height(t.outerHeight()+10)),u(d).trigger("scroll"),o.$c.trigger("tbwmodalopen"),i},buildModalBtn:function(e,t){var n=this.o.prefix;return u("<button/>",{class:n+"modal-button "+n+"modal-"+e,type:e,text:this.lang[e]||e}).appendTo(u("form",t))},closeModal:function(){var e=this,t=e.o.prefix,n=(e.$btnPane.removeClass(t+"disable"),e.$overlay.off(),u("."+t+"modal-box",u(e.doc.body)));n.animate({top:"-"+n.height()},100,function(){n.parent().remove(),e.hideOverlay(),e.$c.trigger("tbwmodalclose")}),e.restoreRange()},openModalInsert:function(e,t,n){var s=this,i=s.o.prefix,r=s.lang,l="";return u.each(t,function(e,t){var n=t.label||e,e=t.name||e,o=t.attributes||{},a=Object.keys(o).map(function(e){return e+'="'+o[e]+'"'}).join(" ");l+='<label><input type="'+(t.type||"text")+'" name="'+e+'"'+("checkbox"===t.type&&t.value?' checked="checked"':' value="'+(t.value||"").replace(/"/g,"&quot;"))+'"'+a+'><span class="'+i+'input-infos"><span>'+(r[n]||n)+"</span></span></label>"}),s.openModal(e,l).on(g,function(){var a=u("form",u(this)),i=!0,r={};u.each(t,function(e,t){var n=t.name||e,o=u('input[name="'+n+'"]',a);switch(o.attr("type").toLowerCase()){case"checkbox":r[n]=o.is(":checked");break;case"radio":r[n]=o.filter(":checked").val();break;default:r[n]=u.trim(o.val())}t.required&&""===r[n]?(i=!1,s.addErrorOnModalField(o,s.lang.required)):t.pattern&&!t.pattern.test(r[n])&&(i=!1,s.addErrorOnModalField(o,t.patternError))}),i&&(s.restoreRange(),n(r,t)&&(s.syncCode(),s.$c.trigger("tbwchange"),s.closeModal(),u(this).off(g)))}).one(h,function(){u(this).off(g),s.closeModal()})},addErrorOnModalField:function(e,t){var n=this.o.prefix,o=n+"msg-error",a=e.parent();e.on("change keyup",function(){a.removeClass(n+"input-error"),setTimeout(function(){a.find("."+o).remove()},150)}),a.addClass(n+"input-error").find("input+span").append(u("<span/>",{class:o,text:t}))},getDefaultImgDblClickHandler:function(){var o=this;return function(){var t=u(this),e=t.attr("src"),n="(Base64)",e={url:{label:"URL",value:e=0===e.indexOf("data:image")?n:e,required:!0},alt:{label:o.lang.description,value:t.attr("alt")}};return o.o.imageWidthModalEdit&&(e.width={value:t.attr("width")?t.attr("width"):""}),o.openModalInsert(o.lang.insertImage,e,function(e){return e.url!==n&&t.attr({src:e.url}),t.attr({alt:e.alt}),o.o.imageWidthModalEdit&&(0<parseInt(e.width,10)?t.attr({width:e.width}):t.removeAttr("width")),!0}),!1}},saveRange:function(){var e,t=this,n=t.doc.getSelection();t.range=null,n&&n.rangeCount&&(n=t.range=n.getRangeAt(0),(e=t.doc.createRange()).selectNodeContents(t.$ed[0]),e.setEnd(n.startContainer,n.startOffset),t.metaRange={start:t=(e+"").length,end:t+(n+"").length})},restoreRange:function(){var e=this,t=e.metaRange,n=e.range,o=e.doc.getSelection();if(n){if(t&&t.start!==t.end)for(var a,i=0,r=[e.$ed[0]],s=!1,l=!1,d=e.doc.createRange();!l&&(a=r.pop());)if(3===a.nodeType){var c=i+a.length;!s&&t.start>=i&&t.start<=c&&(d.setStart(a,t.start-i),s=!0),s&&t.end>=i&&t.end<=c&&(d.setEnd(a,t.end-i),l=!0),i=c}else for(var u=a.childNodes,g=u.length;0<g;)r.push(u[--g]);try{o.removeAllRanges()}catch(e){}o.addRange(d||n)}},getRangeText:function(){return this.range+""},clearButtonPaneStatus:function(){var e=this.o.prefix,t=e+"active-button "+e+"active",n=e+"original-icon";u("."+e+"active-button",this.$btnPane).removeClass(t),u("."+n,this.$btnPane).each(function(){u(this).find("svg use").attr("xlink:href",u(this).data(n))})},updateButtonPaneStatus:function(){var s=this,l=s.o.prefix,d=l+"active-button "+l+"active",c=l+"original-icon",e=s.getTagsRecursive(s.doc.getSelection().focusNode);s.clearButtonPaneStatus(),u.each(e,function(e,t){t=s.tagToButton[t.toLowerCase()];if(0<(n=u("."+l+t+"-button",s.$btnPane)).length)n.addClass(d);else try{var n,o=(n=u("."+l+"dropdown ."+l+t+"-dropdown-button",s.$box)).find("svg use"),a=n.parent().data(l+"dropdown"),i=u("."+l+a+"-button",s.$box),r=i.find("svg use");i.addClass(d),s.o.changeActiveDropdownIcon&&0<o.length&&(i.addClass(c).data(c,r.attr("xlink:href")),r.attr("xlink:href",o.attr("xlink:href")))}catch(e){}})},getTagsRecursive:function(n,o){var a=this;if(o=o||(n&&n.tagName?[n.tagName]:[]),!n||!n.parentNode)return o;var e=(n=n.parentNode).tagName;return"DIV"===e?o:("P"===e&&""!==n.style.textAlign&&o.push(n.style.textAlign),u.each(a.tagHandlers,function(e,t){o=o.concat(t(n,a))}),o.push(e),a.getTagsRecursive(n,o).filter(function(e){return null!=e}))},initPlugins:function(){var n=this;n.loadedPlugins=[],u.each(u.trumbowyg.plugins,function(e,t){t.shouldInit&&!t.shouldInit(n)||(t.init(n),t.tagHandler&&n.tagHandlers.push(t.tagHandler),n.loadedPlugins.push(t))})},destroyPlugins:function(){var n=this;u.each(this.loadedPlugins,function(e,t){t.destroy&&t.destroy(n)})}},u.fn.trumbowyg=function(e,t){var n="trumbowyg";if(e===Object(e)||!e)return this.each(function(){u(this).data(n)||u(this).data(n,new a(this,e))});if(1===this.length)try{var o=u(this).data(n);switch(e){case"execCmd":return o.execCmd(t.cmd,t.param,t.forceCss,t.skipTrumbowyg);case"openModal":return o.openModal(t.title,t.content);case"closeModal":return o.closeModal();case"openModalInsert":return o.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return o.saveRange();case"getRange":return o.range;case"getRangeText":return o.getRangeText();case"restoreRange":return o.restoreRange();case"enable":return o.setDisabled(!1);case"disable":return o.setDisabled(!0);case"toggle":return o.toggle();case"destroy":return o.destroy();case"empty":return o.empty();case"html":return o.html(t)}}catch(e){}return!1}}(navigator,window,document,e)});
;/*!wiki-common:widget/lib/watermark/watermark.js*/
define("wiki-common:widget/lib/watermark/watermark",function(t,e,i){"use strict";function n(e,t){var i,r=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)),r}function b(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){var e,i;e=r,i=o[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;e.default={defaultOpts:{id:"water-mark",height:200,width:300,rotate:-30,fontSize:20,fontFamily:'"Helvetica Neue", Helvetica, Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif',textAlign:"center",fillStyle:"rgb(51, 51, 51)",opacity:.07},init:function(t,e){this.options=b(b({},this.defaultOpts),e),this.createCanvas(t),this.createObserver(),this.load()},createObserver:function(){this.createDomObserver(),this.createBodyObserver()},createBodyObserver:function(){var e=this;this.bodyObserver=new r(function(t){t[0].removedNodes.length&&t[0].removedNodes[0].id===e.get("id")&&e.load()})},createDomObserver:function(){var t=this;this.observer=new r(function(){t.remove()})},bodyObserve:function(){var t=document.querySelector("body");this.bodyObserver.observe(t,{childList:!0})},domObserve:function(){var t=this.get("dom");this.observer.observe(t,{childList:!0,attributes:!0,characterData:!0})},set:function(t,e){this.options[t]=e},get:function(t){return this.options[t]},remove:function(){var t=document.querySelector("body"),e=this.get("dom");t.removeChild(e),this.set("dom",null)},observe:function(){this.domObserve(),this.bodyObserve()},load:function(){var t=this.get("canvas").toDataURL("image/png",1),e=document.querySelector("body"),i=document.createElement("div");i.setAttribute("id",this.get("id")),i.setAttribute("style","position: fixed; background-image:url(".concat(t,");\n            height: 100%; width: 100%; left: 0; top: 0; bottom: 0; right: 0;")),this.set("dom",i),e.appendChild(i),this.observe()},createCanvas:function(t){var e=document.createElement("canvas"),r=e.getContext("2d"),i=this.get("height"),o=this.get("width"),n=(e.height=i,e.width=o,this.get("rotate")),s=1.2*this.get("fontSize"),a=this.get("fontSize"),c=this.get("fontFamily"),l=this.get("fillStyle"),h=this.get("opacity"),d=this.get("textAlign");r.rotate(n*Math.PI/180),r.translate(o/4,i/2),t.forEach(function(t,e){var i=b({fontSize:a,fontFamily:c,fillStyle:l,globalAlpha:h,textAlign:d},t.opt);r.font="".concat(i.fontSize,"px ").concat(i.fontFamily),r.fillStyle=i.fillStyle,r.globalAlpha=i.globalAlpha,r.textAlign=i.textAlign,r.fillText(t.text,0,e*s)}),this.set("canvas",e),this.set("ctx",r)}},i.exports=e.default});
;/*!wiki-common:widget/lib/webuploader/webuploader.js*/
define("wiki-common:widget/lib/webuploader/webuploader",function(require,exports,module){var jQuery=require("wiki-common:widget/lib/jquery/jquery");module.exports=function(n,e){function t(e,t,n){2===arguments.length&&(n=t,t=null),o(t||[],function(){i(e,n,arguments)})}var r={},o=function(e,t){var n,i,r;if("string"==typeof e)return s(e);for(n=[],i=e.length,r=0;r<i;r++)n.push(s(e[r]));return t.apply(null,n)},i=function(e,t,n){var i={exports:t};"function"==typeof t&&(n.length||(n=[o,i.exports,i]),void 0!==(t=t.apply(null,n))&&(i.exports=t)),r[e]=i.exports},s=function(e){var t=r[e]||n[e];if(t)return t;throw new Error("`"+e+"` is undefined")},a=jQuery;n.__dollar=a;var u,c,l,f,d,h=e(n,t,o),p=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)};for(u in r)if(c=h,r.hasOwnProperty(u)){for(d=p((l=u.split("/")).pop());f=p(l.shift());)c[f]=c[f]||{},c=c[f];c[d]=r[u]}return h}(window,function(window,define,require){define("dollar-third",[],function(){var e=window.require,e=window.__dollar||window.jQuery||window.Zepto||e("jquery")||e("zepto");if(e)return e;throw new Error("jQuery or Zepto not found!")}),define("dollar",["dollar-third"],function(e){return e}),define("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&"function"==typeof e.then}}}),define("promise",["promise-third"],function(e){return e}),define("base",["dollar","promise"],function(o,e){function t(){}var i,n,r,s,a,u,c,l,f=Function.call;function d(e,t){return function(){return e.apply(t,arguments)}}return{version:"0.1.6",$:o,Deferred:e.Deferred,isPromise:e.isPromise,when:e.when,browser:(e=navigator.userAgent,r={},s=e.match(/WebKit\/([\d.]+)/),a=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),u=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),c=e.match(/Firefox\/([\d.]+)/),l=e.match(/Safari\/([\d.]+)/),e=e.match(/OPR\/([\d.]+)/),s&&(r.webkit=parseFloat(s[1])),a&&(r.chrome=parseFloat(a[1])),u&&(r.ie=parseFloat(u[1])),c&&(r.firefox=parseFloat(c[1])),l&&(r.safari=parseFloat(l[1])),e&&(r.opera=parseFloat(e[1])),r),os:(s=navigator.userAgent,a={},u=s.match(/(?:Android);?[\s\/]+([\d.]+)?/),s=s.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/),u&&(a.android=parseFloat(u[1])),s&&(a.ios=parseFloat(s[1].replace(/_/g,"."))),a),inherits:function(e,t,n){var i,r;return"function"==typeof t?(i=t,t=null):i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},o.extend(!0,i,e,n||{}),i.__super__=e.prototype,i.prototype=(n=e.prototype,Object.create?Object.create(n):((r=function(){}).prototype=n,new r)),t&&o.extend(!0,i.prototype,t),i},noop:t,bindFn:d,log:window.console?d(console.log,console):t,nextTick:function(e){setTimeout(e,1)},slice:(n=[].slice,function(){return f.apply(n,arguments)}),guid:(i=0,function(e){for(var t=(+new Date).toString(32),n=0;n<5;n++)t+=Math.floor(65535*Math.random()).toString(32);return(e||"wu_")+t+(i++).toString(32)}),formatSize:function(e,t,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&1024<e;)e/=1024;return("B"===i?e:e.toFixed(t||2))+i}}}),define("mediator",["base"],function(e){var t,r=e.$,o=[].slice,s=/\s+/;function a(e,t,n,i){return r.grep(e,function(e){return e&&(!t||e.e===t)&&(!n||e.cb===n||e.cb._cb===n)&&(!i||e.ctx===i)})}function u(e,n,i){r.each((e||"").split(s),function(e,t){i(t,n)})}function c(e,t){for(var n,i=!1,r=-1,o=e.length;++r<o;)if(!1===(n=e[r]).cb.apply(n.ctx2,t)){i=!0;break}return!i}return r.extend({installTo:function(e){return r.extend(e,t)}},t={on:function(e,t,n){var i,r=this;return t&&(i=this._events||(this._events=[]),u(e,t,function(e,t){e={e:e};e.cb=t,e.ctx=n,e.ctx2=n||r,e.id=i.length,i.push(e)})),this},once:function(e,t,i){var r=this;return t&&u(e,t,function(e,t){function n(){return r.off(e,n),t.apply(i||r,arguments)}n._cb=t,r.on(e,n,i)}),r},off:function(e,t,n){var i=this._events;return i&&(e||t||n?u(e,t,function(e,t){r.each(a(i,e,t,n),function(){delete i[this.id]})}):this._events=[]),this},trigger:function(e){var t,n,i;return this._events&&e?(t=o.call(arguments,1),n=a(this._events,e),i=a(this._events,"all"),c(n,t)&&c(i,arguments)):this}})}),define("uploader",["base","mediator"],function(e,r){var o=e.$;function n(e){this.options=o.extend(!0,{},n.options,e),this._init(this.options)}return n.options={},r.installTo(n.prototype),o.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){n.prototype[e]=function(){return this.request(t,arguments)}}),o.extend(n.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;if(!(1<arguments.length))return e?n[e]:n;o.isPlainObject(t)&&o.isPlainObject(n[e])?o.extend(n[e],t):n[e]=t},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var t=[].slice.call(arguments,1),n=this.options,i="on"+e.substring(0,1).toUpperCase()+e.substring(1);return!(!1===r.trigger.apply(this,arguments)||o.isFunction(n[i])&&!1===n[i].apply(this,t)||o.isFunction(this[i])&&!1===this[i].apply(this,t)||!1===r.trigger.apply(r,[this,e].concat(t)))},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=n.create=function(e){return new n(e)},e.Uploader=n}),define("runtime/runtime",["base","mediator"],function(t,e){function i(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null}var r=t.$,o={};function s(e){this.options=r.extend({container:document.body},e),this.uid=t.guid("rt_")}return r.extend(s.prototype,{getContainer:function(){var e,t=this.options;return this._container||(t=r(t.container||document.body),(e=r(document.createElement("div"))).attr("id","rt_"+this.uid),e.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),t.append(e),t.addClass("webuploader-container"),this._container=e,this._parent=t,e)},init:t.noop,exec:t.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),s.orders="html5,flash",s.addRuntime=function(e,t){o[e]=t},s.hasRuntime=function(e){return!!(e?o[e]:i(o))},s.create=function(e,t){var n;if(r.each((t=t||s.orders).split(/\s*,\s*/g),function(){if(o[this])return n=this,!1}),n=n||i(o))return new o[n](e);throw new Error("Runtime Error")},e.installTo(s.prototype),s}),define("runtime/client",["base","mediator","runtime/runtime"],function(o,e,s){var a,i;function t(t,n){var i,e,r=o.Deferred();this.uid=o.guid("client_"),this.runtimeReady=function(e){return r.done(e)},this.connectRuntime=function(e,t){if(i)throw new Error("already connected!");return r.done(t),(i=(i="string"==typeof e&&a.get(e)?a.get(e):i)||a.get(null,n))?(o.$.extend(i.options,e),i.__promise.then(r.resolve),i.__client++):((i=s.create(e,e.runtimeOrder)).__promise=r.promise(),i.once("ready",r.resolve),i.init(),a.add(i),i.__client=1),n&&(i.__standalone=n),i},this.getRuntime=function(){return i},this.disconnectRuntime=function(){i&&(i.__client--,i.__client<=0&&(a.remove(i),delete i.__promise,i.destroy()),i=null)},this.exec=function(){var e;if(i)return e=o.slice(arguments),t&&e.unshift(t),i.exec.apply(this,e)},this.getRuid=function(){return i&&i.uid},this.destroy=(e=this.destroy,function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()})}return i={},a={add:function(e){i[e.uid]=e},get:function(e,t){if(e)return i[e];for(var n in i)if(!t||!i[n].__standalone)return i[n];return null},remove:function(e){delete i[e.uid]}},e.installTo(t.prototype),t}),define("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){var i=e.$;function r(e){(e=this.options=i.extend({},r.options,e)).container=i(e.container),e.container.length&&n.call(this,"DragAndDrop")}return r.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:r,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(r.prototype),r}),define("widgets/widget",["base","uploader"],function(l,e){var f=l.$,t=e.prototype._init,n=e.prototype.destroy,d={},o=[];function r(e){this.owner=e,this.options=e.options}return f.extend(r.prototype,{init:l.noop,invoke:function(e,t){var n=this.responseMap;return n&&e in n&&n[e]in this&&f.isFunction(this[n[e]])?this[n[e]].apply(this,t):d},request:function(){return this.owner.request.apply(this.owner,arguments)}}),f.extend(e.prototype,{_init:function(){var n=this,i=n._widgets=[],r=n.options.disableWidgets||"";return f.each(o,function(e,t){r&&~r.indexOf(t._name)||i.push(new t(n))}),t.apply(n,arguments)},request:function(e,t,n){var i,r,o=0,s=this._widgets,a=s&&s.length,u=[],c=[];for(t=function(e){var t,n;if(e)return t=e.length,n=f.type(e),1===e.nodeType&&t||("array"===n||"function"!==n&&"string"!==n&&(0===t||"number"==typeof t&&0<t&&t-1 in e))}(t)?t:[t];o<a;o++)(i=s[o].invoke(e,t))!==d&&(l.isPromise(i)?c:u).push(i);return n||c.length?(r=l.when.apply(l,c))[r=r.pipe?"pipe":"then"](function(){var e=l.Deferred(),t=arguments;return 1===t.length&&(t=t[0]),setTimeout(function(){e.resolve(t)},1),e.promise()})[n?r:"done"](n||l.noop):u[0]},destroy:function(){n.apply(this,arguments),this._widgets=null}}),e.register=r.register=function(e,t){var n,i={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(t=e,f.each(t,function(e){"_"===e[0]||"name"===e?"name"===e&&(i.name=t.name):i[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e})):i=f.extend(i,e),t.responseMap=i,(n=l.inherits(r,t))._name=i.name,o.push(n),n},e.unRegister=r.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=o.length;t--;)o[t]._name===e&&o.splice(t,1)},r}),define("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(i,e,r){var o=i.$;return e.options.dnd="",e.register({name:"dnd",init:function(e){var t,n;if(e.dnd&&"html5"===this.request("predict-runtime-type"))return t=this,n=i.Deferred(),e=o.extend({},{disableGlobalDnd:e.disableGlobalDnd,container:e.dnd,accept:e.accept}),this.dnd=e=new r(e),e.once("ready",n.resolve),e.on("drop",function(e){t.request("add-file",[e])}),e.on("accept",function(e){return t.owner.trigger("dndAccept",e)}),e.init(),n.promise()},destroy:function(){this.dnd&&this.dnd.destroy()}})}),define("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){var i=e.$;function r(e){(e=this.options=i.extend({},e)).container=i(e.container||document.body),n.call(this,"FilePaste")}return e.inherits(n,{constructor:r,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(r.prototype),r}),define("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(i,e,r){var o=i.$;return e.register({name:"paste",init:function(e){var t,n;if(e.paste&&"html5"===this.request("predict-runtime-type"))return t=this,n=i.Deferred(),e=o.extend({},{container:e.paste,accept:e.accept}),this.paste=e=new r(e),e.once("ready",n.resolve),e.on("paste",function(e){t.owner.request("add-file",[e])}),e.init(),n.promise()},destroy:function(){this.paste&&this.paste.destroy()}})}),define("lib/blob",["base","runtime/client"],function(e,n){function t(e,t){this.source=t,this.ruid=e,this.size=t.size||0,!t.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=t.type||"application/octet-stream",n.call(this,"Blob"),this.uid=t.uid||this.uid,e&&this.connectRuntime(e)}return e.inherits(n,{constructor:t,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),t}),define("lib/file",["base","lib/blob"],function(e,i){var r=1,o=/\.([^.]+)$/;return e.inherits(i,function(e,t){var n;this.name=t.name||"untitled"+r++,!(n=o.exec(t.name)?RegExp.$1.toLowerCase():"")&&t.type&&(n=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(t.type)?RegExp.$1.toLowerCase():"",this.name+="."+n),this.ext=n,this.lastModifiedDate=t.lastModifiedDate||(new Date).toLocaleString(),i.apply(this,arguments)})}),define("lib/filepicker",["base","runtime/client","lib/file"],function(e,t,s){var a=e.$;function n(e){if((e=this.options=a.extend({},n.options,e)).container=a(e.id),!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=a(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),t.call(this,"FilePicker",!0)}return n.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file",style:"webuploader-pick"},e.inherits(t,{constructor:n,init:function(){var n=this,i=n.options,r=i.button,o=i.style;o&&r.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":o&&r.addClass("webuploader-pick-hover");break;case"mouseleave":o&&r.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",a.map(t,function(e){return(e=new s(n.getRuid(),e))._refer=i.container,e}),i.container)}}),n.connectRuntime(i,function(){n.refresh(),n.exec("init",i),n.trigger("ready")}),this._resizeHandler=e.bindFn(this.refresh,this),a(window).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),i=t.outerHeight?t.outerHeight():t.height(),t=t.offset();n&&i&&e.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(t)},enable:function(){this.options.button.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var e=this.options.button;a(window).off("resize",this._resizeHandler),e.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),n}),define("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(u,e,c){var l=u.$;return l.extend(e.options,{pick:null,accept:null}),e.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){l.each(this.pickers,function(){this.refresh()})},addBtn:function(i){var r=this,o=r.options,s=o.accept,a=[];if(i)return l.isPlainObject(i)||(i={id:i}),l(i.id).each(function(){var e=u.Deferred(),t=l.extend({},i,{accept:l.isPlainObject(s)?[s]:s,swf:o.swf,runtimeOrder:o.runtimeOrder,id:this}),n=new c(t);n.once("ready",e.resolve),n.on("select",function(e){r.owner.request("add-file",[e])}),n.on("dialogopen",function(){r.owner.trigger("dialogOpen",n.button)}),n.init(),r.pickers.push(n),a.push(e.promise())}),u.when.apply(u,a)},disable:function(){l.each(this.pickers,function(){this.disable()})},enable:function(){l.each(this.pickers,function(){this.enable()})},destroy:function(){l.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),define("lib/image",["base","runtime/client","lib/blob"],function(t,n,i){var r=t.$;function o(e){this.options=r.extend({},o.options,e),n.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}return o.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},t.inherits(n,{constructor:o,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var e=t.slice(arguments);return this.exec.apply(this,["resize"].concat(e))},crop:function(){var e=t.slice(arguments);return this.exec.apply(this,["crop"].concat(e))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){e=this.exec("getAsBlob",e);return new i(this.getRuid(),e)}}),o}),define("widgets/image",["base","uploader","lib/image","widgets/widget"],function(t,e,a){var s,i,r,u=t.$;function o(){for(var e;r.length&&i<5242880;)e=r.shift(),i+=e[0],e[1]()}return i=0,r=[],s=function(e,t,n){r.push([t,n]),e.once("destroy",function(){i-=t,setTimeout(o,1)}),setTimeout(o,1)},u.extend(e.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),e.register({name:"image",makeThumb:function(e,t,n,i){var r,o;(e=this.request("get-file",e)).type.match(/^image/)?(r=u.extend({},this.options.thumb),u.isPlainObject(n)&&(r=u.extend(r,n),n=null),n=n||r.width,i=i||r.height,(o=new a(r)).once("load",function(){e._info=e._info||o.info(),e._meta=e._meta||o.meta(),n<=1&&0<n&&(n=e._info.width*n),i<=1&&0<i&&(i=e._info.height*i),o.resize(n,i)}),o.once("complete",function(){t(!1,o.getAsDataUrl(r.type),e),o.destroy()}),o.once("error",function(e){t(e||!0),o.destroy()}),s(o,e.source.size,function(){e._info&&o.info(e._info),e._meta&&o.meta(e._meta),o.loadFromBlob(e.source)})):t(!0)},beforeSendFile:function(n){var i,r,o=this.options.compress||this.options.resize,e=o&&o.compressSize||0,s=o&&o.noCompressIfLarger||!1;if(n=this.request("get-file",n),o&&~"image/jpeg,image/jpg".indexOf(n.type)&&!(n.size<e)&&!n._compressed)return o=u.extend({},o),r=t.Deferred(),i=new a(o),r.always(function(){i.destroy(),i=null}),i.once("error",r.reject),i.once("load",function(){var e=o.width,t=o.height;n._info=n._info||i.info(),n._meta=n._meta||i.meta(),e<=1&&0<e&&(e=n._info.width*e),t<=1&&0<t&&(t=n._info.height*t),i.resize(e,t)}),i.once("complete",function(){var e,t;try{e=i.getAsBlob(o.type),t=n.size,(!s||e.size<t)&&(n.source=e,n.size=e.size,n.trigger("resize",e.size,t)),n._compressed=!0,r.resolve()}catch(e){r.resolve()}}),n._info&&i.info(n._info),n._meta&&i.meta(n._meta),i.loadFromBlob(n.source),r.promise()}})}),define("file",["base","mediator"],function(e,t){var e=e.$,n="WU_FILE_",i=0,r=/\.([^.]+)$/,o={};function s(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||+new Date,this.id=n+i++,this.ext=r.exec(this.name)?RegExp.$1:"",this.statusText="",o[this.id]=s.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(s.Status.ERROR,e)})}return e.extend(s.prototype,{setStatus:function(e,t){var n=o[this.id];void 0!==t&&(this.statusText=t),e!==n&&(o[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return o[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete o[this.id]}}),t.installTo(s.prototype),s.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},s}),define("queue",["base","mediator","file"],function(e,t,n){var o=e.$,r=n.Status;function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}return o.extend(i.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,i=this._queue.length;for(e=e||r.QUEUED,t=0;t<i;t++)if(e===(n=this._queue[t]).getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],i=0,r=this._queue.length;i<r;i++)e=this._queue[i],t.length&&!~o.inArray(e.getStatus(),t)||n.push(e);return n},removeFile:function(e){this._map[e.id]&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var n=this;this._map[e.id]||(this._map[e.id]=e).on("statuschange",function(e,t){n._onFileStatusChange(e,t)})},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case r.PROGRESS:n.numOfProgress--;break;case r.QUEUED:n.numOfQueue--;break;case r.ERROR:n.numOfUploadFailed--;break;case r.INVALID:n.numOfInvalid--;break;case r.INTERRUPT:n.numofInterrupt--}switch(e){case r.QUEUED:n.numOfQueue++;break;case r.PROGRESS:n.numOfProgress++;break;case r.ERROR:n.numOfUploadFailed++;break;case r.COMPLETE:n.numOfSuccess++;break;case r.CANCELLED:n.numOfCancel++;break;case r.INVALID:n.numOfInvalid++;break;case r.INTERRUPT:n.numofInterrupt++}}}),t.installTo(i.prototype),i}),define("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(c,e,l,t,n,f){var d=c.$,i=/\.\w+$/,o=t.Status;return e.register({name:"queue",init:function(e){var t,n,i,r,o,s,a,u=this;if(d.isPlainObject(e.accept)&&(e.accept=[e.accept]),e.accept){for(o=[],i=0,n=e.accept.length;i<n;i++)(r=e.accept[i].extensions)&&o.push(r);o.length&&(s="\\."+o.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),u.accept=new RegExp(s,"i")}if(u.queue=new l,u.stats=u.queue.stats,"html5"===this.request("predict-runtime-type"))return t=c.Deferred(),this.placeholder=a=new f("Placeholder"),a.connectRuntime({runtimeOrder:"html5"},function(){u._ruid=a.getRuid(),t.resolve()}),t.promise()},_wrapFile:function(e){if(!(e instanceof t)){if(!(e instanceof n)){if(!this._ruid)throw new Error("Can't add external files.");e=new n(this._ruid,e)}e=new t(e)}return e},acceptFile:function(e){return!(!e||!e.size||this.accept&&i.exec(e.name)&&!this.accept.test(e.name))},_addFile:function(e){var t=this;if(e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e)){if(t.acceptFile(e))return t.queue.append(e),t.owner.trigger("fileQueued",e),e;t.owner.trigger("error","Q_TYPE_DENIED",e)}},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),(e=d.map(e,function(e){return t._addFile(e)})).length&&(t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20))},getStats:function(){return this.stats},removeFile:function(e,t){e=e.id?e:this.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,i,r;if(e)return(e=e.id?e:this.queue.getFile(e)).setStatus(o.QUEUED),void(t||this.request("start-upload"));for(i=0,r=(n=this.queue.getFiles(o.ERROR)).length;i<r;i++)(e=n[i]).setStatus(o.QUEUED);this.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new l,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),define("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,r){return e.support=function(){return r.hasRuntime.apply(r,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,t,n=this.options.runtimeOrder||r.orders,i=this.type;if(!i)for(e=0,t=(n=n.split(/\s*,\s*/g)).length;e<t;e++)if(r.hasRuntime(n[e])){this.type=i=n[e];break}return i}})}),define("lib/transport",["base","runtime/client","mediator"],function(e,n,t){var i=e.$;function r(e){var t=this;e=t.options=i.extend(!0,{},r.options,e||{}),n.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){t.trigger("progress",1),clearTimeout(t._timer)})}return r.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},i.extend(r.prototype,{appendBlob:function(e,t,n){var i=this,r=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(t.ruid,function(){i.exec("init")}),i._blob=t,r.fileVal=e||r.fileVal,r.filename=n||r.filename},append:function(e,t){"object"==typeof e?i.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?i.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),t.installTo(r.prototype),r}),define("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(Base,Uploader,WUFile,Transport){var $=Base.$,isPromise=Base.isPromise,Status=WUFile.Status;function CuteFile(e,t){for(var n,i=[],r=e.source.size,o=t?Math.ceil(r/t):1,s=0,a=0,u={file:e,has:function(){return!!i.length},shift:function(){return i.shift()},unshift:function(e){i.unshift(e)}};a<o;)n=Math.min(t,r-s),i.push({file:e,start:s,end:t?s+n:r,total:r,chunks:o,chunk:a++,cuted:u}),s+=n;return e.blocks=i.concat(),e.remaning=i.length,u}$.extend(Uploader.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),Uploader.register({name:"upload",init:function(){var e=this.owner,t=this;this.runing=!1,this.progress=!1,e.on("startUpload",function(){t.progress=!0}).on("uploadFinished",function(){t.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=Base.bindFn(this._tick,this),e.on("uploadComplete",function(e){e.blocks&&$.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(n){var i=this;if($.each(i.request("get-files",Status.INVALID),function(){i.request("remove-file",this)}),n?(n=n.id?n:i.request("get-file",n)).getStatus()===Status.INTERRUPT?(n.setStatus(Status.QUEUED),$.each(i.pool,function(e,t){t.file===n&&(t.transport&&t.transport.send(),n.setStatus(Status.PROGRESS))})):n.getStatus()!==Status.PROGRESS&&n.setStatus(Status.QUEUED):$.each(i.request("get-files",[Status.INITED]),function(){this.setStatus(Status.QUEUED)}),i.runing)return Base.nextTick(i.__tick);i.runing=!0;var r=[];n||$.each(i.pool,function(e,t){var n=t.file;n.getStatus()===Status.INTERRUPT&&(i._trigged=!1,r.push(n),t.transport&&t.transport.send())}),$.each(r,function(){this.setStatus(Status.PROGRESS)}),n||$.each(i.request("get-files",Status.INTERRUPT),function(){this.setStatus(Status.PROGRESS)}),i._trigged=!1,Base.nextTick(i.__tick),i.owner.trigger("startUpload")},stopUpload:function(n,e){var i,t=this;if(!0===n&&(e=n,n=null),!1!==t.runing){if(n)return(n=n.id?n:t.request("get-file",n)).getStatus()!==Status.PROGRESS&&n.getStatus()!==Status.QUEUED?void 0:(n.setStatus(Status.INTERRUPT),$.each(t.pool,function(e,t){if(t.file===n)return i=t,!1}),i.transport&&i.transport.abort(),e&&(t._putback(i),t._popBlock(i)),Base.nextTick(t.__tick));t.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(Status.INTERRUPT),e&&$.each(t.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(Status.INTERRUPT)}),t.owner.trigger("stopUpload")}},cancelFile:function(e){(e=e.id?e:this.request("get-file",e)).blocks&&$.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(Status.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){(e=e.id?e:this.request("get-file",e)).setStatus(t||Status.COMPLETE),e.skipped=!0,e.blocks&&$.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var e,t=this,n=t.options;if(t._promise)return t._promise.always(t.__tick);t.pool.length<n.threads&&(n=t._nextBlock())?(t._trigged=!1,e=function(e){t._promise=null,e&&e.file&&t._startSend(e),Base.nextTick(t.__tick)},t._promise=isPromise(n)?n.always(e):e(n)):t.remaning||t._getStats().numOfQueue||t._getStats().numofInterrupt||(t.runing=!1,t._trigged||Base.nextTick(function(){t.owner.trigger("uploadFinished")}),t._trigged=!0)},_putback:function(e){e.cuted.unshift(e),~this.stack.indexOf(e.cuted)||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===Status.PROGRESS)return e;e.has()&&(e.file.getStatus()===Status.PROGRESS||e.file.getStatus()===Status.INTERRUPT)||this.stack.splice(--t,1)}return null},_nextBlock:function(){var t,e,n,i,r=this,o=r.options;return(t=this._getStack())?(o.prepareNextFile&&!r.pending.length&&r._prepareNextFile(),t.shift()):r.runing?(!r.pending.length&&r._getStats().numOfQueue&&r._prepareNextFile(),e=r.pending.shift(),n=function(e){return e?(t=CuteFile(e,o.chunked?o.chunkSize:0),r.stack.push(t),t.shift()):null},isPromise(e)?(i=e.file,(e=e[e.pipe?"pipe":"then"](n)).file=i,e):n(e)):void 0},_prepareNextFile:function(){var t,n=this,i=n.request("fetch-file"),r=n.pending;i&&(t=n.request("before-send-file",i,function(){return i.getStatus()===Status.PROGRESS||i.getStatus()===Status.INTERRUPT?i:n._finishFile(i)}),n.owner.trigger("uploadStart",i),i.setStatus(Status.PROGRESS),t.file=i,t.done(function(){var e=$.inArray(t,r);~e&&r.splice(e,1,i)}),t.fail(function(e){i.setStatus(Status.ERROR,e),n.owner.trigger("uploadError",i,e),n.owner.trigger("uploadComplete",i)}),r.push(t))},_popBlock:function(e){var t=$.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(e){var t=this,n=e.file;n.getStatus()!==Status.PROGRESS?n.getStatus()===Status.INTERRUPT&&t._putback(e):(t.pool.push(e),t.remaning++,e.blob=1===e.chunks?n.source:n.source.slice(e.start,e.end),t.request("before-send",e,function(){n.getStatus()===Status.PROGRESS?t._doSend(e):(t._popBlock(e),Base.nextTick(t.__tick))}).fail(function(){1===n.remaning?t._finishFile(n).always(function(){e.percentage=1,t._popBlock(e),t.owner.trigger("uploadComplete",n),Base.nextTick(t.__tick)}):(e.percentage=1,t.updateFileProgress(n),t._popBlock(e),Base.nextTick(t.__tick))}))},_doSend:function(block){var me=this,owner=me.owner,opts=me.options,file=block.file,tr=new Transport(opts),data=$.extend({},opts.formData),headers=$.extend({},opts.headers),requestAccept,ret;block.transport=tr,tr.on("destroy",function(){delete block.transport,me._popBlock(block),Base.nextTick(me.__tick)}),tr.on("progress",function(e){block.percentage=e,me.updateFileProgress(file)}),requestAccept=function(t){return(ret=tr.getResponseAsJson()||{})._raw=tr.getResponse(),t=owner.trigger("uploadAccept",block,ret,function(e){t=e})?t:t||"server"},tr.on("error",function(e,t){block.retried=block.retried||0,1<block.chunks&&~"http,abort".indexOf(e)&&block.retried<opts.chunkRetry?(block.retried++,tr.send()):(t||"server"!==e||(e=requestAccept(e)),file.setStatus(Status.ERROR,e),owner.trigger("uploadError",file,e),owner.trigger("uploadComplete",file))}),tr.on("load",function(response){if(response&&(response=eval("("+response+")"),block.retried=block.retried||0,response.errno))return 1<block.chunks&&block.retried<opts.chunkRetry?(block.retried++,void tr.send()):void owner.trigger("uploadError",file,response.errno);var reason;(reason=requestAccept())?tr.trigger("error",reason,!0):1===file.remaning?me._finishFile(file,ret):tr.destroy()}),data=$.extend(data,{id:file.id,name:file.name,type:file.type,lastModifiedDate:file.lastModifiedDate,size:file.size}),1<block.chunks&&$.extend(data,{chunks:block.chunks,chunk:block.chunk}),owner.trigger("uploadBeforeSend",block,data,headers),tr.appendBlob(opts.fileVal,block.blob,file.name),tr.append(data),tr.setRequestHeader(headers),tr.send()},_finishFile:function(t,e,n){var i=this.owner;return i.request("after-send-file",arguments,function(){t.setStatus(Status.COMPLETE),i.trigger("uploadSuccess",t,e,n)}).fail(function(e){t.getStatus()===Status.PROGRESS&&t.setStatus(Status.ERROR,e),i.trigger("uploadError",t,e)}).always(function(){i.trigger("uploadComplete",t)})},updateFileProgress:function(e){var t,n=0;e.blocks&&($.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),define("widgets/validator",["base","uploader","file","widgets/widget"],function(t,e,n){var i=t.$,r={},o={addValidator:function(e,t){r[e]=t},removeValidator:function(e){delete r[e]}};return e.register({name:"validator",init:function(){var e=this;t.nextTick(function(){i.each(r,function(){this.call(e.owner)})})}}),o.addValidator("fileNumLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileNumLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){return i<=n&&r&&(r=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",i,e),setTimeout(function(){r=!0},1)),!(i<=n)}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0}))}),o.addValidator("fileSizeLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileSizeLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){var t=n+e.size>i;return t&&r&&(r=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",i,e),setTimeout(function(){r=!0},1)),!t}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0}))}),o.addValidator("fileSingleSizeLimit",function(){var t=this.options.fileSingleSizeLimit;t&&this.on("beforeFileQueued",function(e){if(e.size>t)return e.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",t,e),!1})}),o.addValidator("fileSingleSizeLack",function(){var t=this.options.fileSingleSizeLack;t&&this.on("beforeFileQueued",function(e){if(e.size<t)return e.setStatus(n.Status.INVALID,"lack_size"),this.trigger("error","F_LACK_SIZE",e),!1})}),o.addValidator("duplicate",function(){var e=this,t=e.options,n={};t.duplicate||(e.on("beforeFileQueued",function(e){var t=e.__hash||(e.__hash=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t=e.charCodeAt(n)+(t<<6)+(t<<16)-t;return t}(e.name+e.size+e.lastModifiedDate));if(n[t])return this.trigger("error","F_DUPLICATE",e),!1}),e.on("fileQueued",function(e){e=e.__hash;e&&(n[e]=!0)}),e.on("fileDequeued",function(e){e=e.__hash;e&&delete n[e]}),e.on("reset",function(){n={}}))}),o}),define("lib/md5",["runtime/client","mediator"],function(e,t){function n(){e.call(this,"Md5")}return t.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var t=this;t.getRuid()&&t.disconnectRuntime(),t.connectRuntime(e.ruid,function(){t.exec("init"),t.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),define("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(s,e,a,u){return e.register({name:"md5",md5File:function(e,t,n){var i=new a,r=s.Deferred(),o=e instanceof u?e:this.request("get-file",e).source;return i.on("progress load",function(e){r.notify((e=e||{}).total?e.loaded/e.total:1)}),i.on("complete",function(){r.resolve(i.getResult())}),i.on("error",function(e){r.reject(e)}),1<arguments.length&&((t=t||0)<0&&(t=o.size+t),(n=n||0)<0&&(n=o.size+n),n=Math.min(n,o.size),o=o.slice(t,n)),i.loadFromBlob(o),r.promise()}})}),define("runtime/compbase",[],function(){return function(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}}),define("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(s,t,n){var a={};function e(){var r={},o=this,e=this.destroy;t.apply(o,arguments),o.type="html5",o.exec=function(e,t){var n=this.uid,i=s.slice(arguments,2);if(a[e]&&(n=r[n]=r[n]||new a[e](this,o))[t])return n[t].apply(n,i)},o.destroy=function(){return e&&e.apply(this,arguments)}}return s.inherits(t,{constructor:e,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),e.register=function(e,t){return a[e]=s.inherits(n,t)},window.Blob&&window.FileReader&&window.DataView&&t.addRuntime("html5",e),e}),define("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,i){return e.register("Blob",{slice:function(e,t){var n=((n=this.owner.source).slice||n.webkitSlice||n.mozSlice).call(n,e,t);return new i(this.getRuid(),n)}})}),define("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(f,e,o){var s=f.$,a="webuploader-dnd-";return e.register("DragAndDrop",{init:function(){var e=this.elem=this.options.container;this.dragEnterHandler=f.bindFn(this._dragEnterHandler,this),this.dragOverHandler=f.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=f.bindFn(this._dragLeaveHandler,this),this.dropHandler=f.bindFn(this._dropHandler,this),this.dndOver=!1,e.on("dragenter",this.dragEnterHandler),e.on("dragover",this.dragOverHandler),e.on("dragleave",this.dragLeaveHandler),e.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(s(document).on("dragover",this.dragOverHandler),s(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t,n=this,i=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,(t=e.dataTransfer.items)&&t.length&&(n._denied=i=!n.trigger("accept",t)),n.elem.addClass(a+"over"),n.elem[i?"addClass":"removeClass"](a+"denied")),e.dataTransfer.dropEffect=i?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return t&&!s.contains(t,e.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e)),!1},_dragLeaveHandler:function(){var e=this,t=function(){e.dndOver=!1,e.elem.removeClass(a+"over "+a+"denied")};return clearTimeout(e._leaveTimer),e._leaveTimer=setTimeout(t,100),!1},_dropHandler:function(e){var t,n=this,i=n.getRuid(),r=n.elem.parent().get(0);if(r&&!s.contains(r,e.currentTarget))return!1;r=(e=e.originalEvent||e).dataTransfer;try{t=r.getData("text/html")}catch(e){}return n.dndOver=!1,n.elem.removeClass(a+"over"),t?void 0:(n._getTansferFiles(r,function(e){n.trigger("drop",s.map(e,function(e){return new o(i,e)}))}),!1)},_getTansferFiles:function(e,t){for(var n,i,r=[],o=[],s=e.items,a=e.files,u=!(!s||!s[0].webkitGetAsEntry),c=0,l=a.length;c<l;c++)n=a[c],i=s&&s[c],u&&i.webkitGetAsEntry().isDirectory?o.push(this._traverseDirectoryTree(i.webkitGetAsEntry(),r)):r.push(n);f.when.apply(f,o).done(function(){r.length&&t(r)})},_traverseDirectoryTree:function(e,o){var s=f.Deferred(),a=this;return e.isFile?e.file(function(e){o.push(e),s.resolve()}):e.isDirectory&&e.createReader().readEntries(function(e){for(var t=e.length,n=[],i=[],r=0;r<t;r++)n.push(a._traverseDirectoryTree(e[r],i));f.when.apply(f,n).then(function(){o.push.apply(o,i),s.resolve()},s.reject)}),s.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(s(document).off("dragover",this.dragOverHandler),s(document).off("drop",this.dropHandler)))}})}),define("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(a,e,u){return e.register("FilePaste",{init:function(){var e,t,n,i,r=this.options,o=this.elem=r.container,s=".*";if(r.accept){for(e=[],t=0,n=r.accept.length;t<n;t++)(i=r.accept[t].mimeTypes)&&e.push(i);e.length&&(s=(s=e.join(",")).replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=s=new RegExp(s,"i"),this.hander=a.bindFn(this._pasteHander,this),o.on("paste",this.hander)},_pasteHander:function(e){for(var t,n,i=[],r=this.getRuid(),o=0,s=(t=(e=e.originalEvent||e).clipboardData.items).length;o<s;o++)"file"===(n=t[o]).kind&&(n=n.getAsFile())&&i.push(new u(r,n));i.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",i))},destroy:function(){this.elem.off("paste",this.hander)}})}),define("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var l=e.$;return t.register("FilePicker",{init:function(){var e,t,n,i,r=this.getRuntime().getContainer(),o=this,s=o.owner,a=o.options,u=this.label=l(document.createElement("label")),c=this.input=l(document.createElement("input"));if(c.attr("type","file"),c.attr("capture","camera"),c.attr("name",a.name),c.addClass("webuploader-element-invisible"),u.on("click",function(e){c.trigger("click"),e.stopPropagation(),s.trigger("dialogopen")}),u.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),a.multiple&&c.attr("multiple","multiple"),a.accept&&0<a.accept.length){for(e=[],t=0,n=a.accept.length;t<n;t++)e.push(a.accept[t].mimeTypes);c.attr("accept",e.join(","))}r.append(c),r.append(u),i=function(e){s.trigger(e.type)},c.on("change",function(e){var t,n=arguments.callee;o.files=e.target.files,(t=this.cloneNode(!0)).value=null,this.parentNode.replaceChild(t,this),c.off(),c=l(t).on("change",n).on("mouseenter mouseleave",i),s.trigger("change")}),u.on("mouseenter mouseleave",i)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),define("runtime/html5/util",["base"],function(e){var t=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL,e=e.noop,n=e;return t&&(e=function(){return t.createObjectURL.apply(t,arguments)},n=function(){return t.revokeObjectURL.apply(t,arguments)}),{createObjectURL:e,revokeObjectURL:n,dataURL2Blob:function(e){for(var e=e.split(","),t=(~e[0].indexOf("base64")?atob:decodeURIComponent)(e[1]),n=new ArrayBuffer(t.length),i=new Uint8Array(n),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return e=e[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(n,e)},dataURL2ArrayBuffer:function(e){for(var e=e.split(","),t=(~e[0].indexOf("base64")?atob:decodeURIComponent)(e[1]),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder;return n?((n=new n).append(e),n.getBlob(t)):new Blob([e],t?{type:t}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),define("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var f={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,i=new FileReader;i.onload=function(){t(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(e){t(e.message),i=i.onload=i.onerror=null},e=e.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(e.getSource())},_parse:function(e,t){if(!(e.byteLength<6)){var n,i,r,o,s=new DataView(e),a=2,u=s.byteLength-4,c=a,l={};if(65496===s.getUint16(0)){for(;a<u&&(65504<=(n=s.getUint16(a))&&n<=65519||65534===n)&&!(a+(i=s.getUint16(a+2)+2)>s.byteLength);){if(r=f.parsers[n],!t&&r)for(o=0;o<r.length;o+=1)r[o].call(f,s,a,i,l);c=a+=i}6<c&&(e.slice?l.imageHead=e.slice(2,c):l.imageHead=new Uint8Array(e).subarray(2,c))}return l}},updateImageHead:function(e,t){var n=this._parse(e,!0),i=2;return n.imageHead&&(i=2+n.imageHead.byteLength),n=e.slice?e.slice(i):new Uint8Array(e).subarray(i),(e=new Uint8Array(t.byteLength+2+n.byteLength))[0]=255,e[1]=216,e.set(new Uint8Array(t),2),e.set(new Uint8Array(n),t.byteLength+2),e.buffer}};return e.parseMeta=function(){return f.parse.apply(f,arguments)},e.updateImageHead=function(){return f.updateImageHead.apply(f,arguments)},f}),define("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(d,e){var h={ExifMap:function(){return this}};return h.ExifMap.prototype.map={Orientation:274},h.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},h.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},h.exifTagTypes[7]=h.exifTagTypes[1],h.getExifValue=function(e,t,n,i,r,o){var s,a,u,c,l,f=h.exifTagTypes[i];if(f){if(!((s=4<(i=f.size*r)?t+e.getUint32(n+8,o):n+8)+i>e.byteLength)){if(1===r)return f.getValue(e,s,o);for(a=[],u=0;u<r;u+=1)a[u]=f.getValue(e,s+u*f.size,o);if(f.ascii){for(c="",u=0;u<a.length&&"\0"!==(l=a[u]);u+=1)c+=l;return c}return a}d.log("Invalid Exif data: Invalid data offset.")}else d.log("Invalid Exif data: Invalid tag type.")},h.parseExifTag=function(e,t,n,i,r){var o=e.getUint16(n,i);r.exif[o]=h.getExifValue(e,t,n,e.getUint16(n+2,i),e.getUint32(n+4,i),i)},h.parseExifTags=function(e,t,n,i,r){var o,s,a;if(n+6>e.byteLength)d.log("Invalid Exif data: Invalid directory offset.");else{if(!((s=n+2+12*(o=e.getUint16(n,i)))+4>e.byteLength)){for(a=0;a<o;a+=1)this.parseExifTag(e,t,n+2+12*a,i,r);return e.getUint32(s,i)}d.log("Invalid Exif data: Invalid directory size.")}},h.parseExifData=function(e,t,n,i){var r,o=t+10;if(1165519206===e.getUint32(t+4))if(o+8>e.byteLength)d.log("Invalid Exif data: Invalid segment size.");else if(0!==e.getUint16(t+8))d.log("Invalid Exif data: Missing byte alignment offset.");else{switch(e.getUint16(o)){case 18761:r=!0;break;case 19789:r=!1;break;default:return void d.log("Invalid Exif data: Invalid byte alignment marker.")}42!==e.getUint16(o+2,r)?d.log("Invalid Exif data: Missing TIFF marker."):(t=e.getUint32(o+4,r),i.exif=new h.ExifMap,h.parseExifTags(e,o,o+t,r,i))}},e.parsers[65505].push(h.parseExifData),h}),define("runtime/html5/jpegencoder",[],function(e,t,n){function i(e){Math.round;var F,T,A,U,d,h=Math.floor,D=new Array(64),O=new Array(64),I=new Array(64),q=new Array(64),g=new Array(65535),m=new Array(65535),C=new Array(64),v=new Array(64),B=[],L=0,P=7,z=new Array(64),H=new Array(64),M=new Array(64),t=new Array(256),$=new Array(2048),b=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],X=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function n(e,t){for(var n=0,i=0,r=new Array,o=1;o<=16;o++){for(var s=1;s<=e[o];s++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=o,i++,n++;n*=2}return r}function j(e){for(var t=e[0],n=e[1]-1;0<=n;)t&1<<n&&(L|=1<<P),n--,--P<0&&(255==L?(N(255),N(0)):N(L),P=7,L=0)}function N(e){B.push(t[e])}function Q(e){N(e>>8&255),N(255&e)}function V(e,t,n,i,r){for(var o,s=r[0],a=r[240],u=function(e,t){for(var n,i=0,r=0;r<8;++r){var o,s=e[i],a=e[i+1],u=e[i+2],c=e[i+3],l=e[i+4],f=e[i+5],d=e[i+6],h=s+(o=e[i+7]),p=s-o,g=a+d,m=a-d,v=u+f,b=u-f,_=c+l,y=c-l,w=h+_,h=h-_,_=g+v,g=g-v,v=(e[i]=w+_,e[i+4]=w-_,.707106781*(g+h)),_=(e[i+2]=h+v,e[i+6]=h-v,.382683433*((w=y+b)-(g=m+p))),h=.5411961*w+_,v=1.306562965*g+_,y=.707106781*(b+m),w=p+y,g=p-y;e[i+5]=g+h,e[i+3]=g-h,e[i+1]=w+v,e[i+7]=w-v,i+=8}for(r=i=0;r<8;++r){s=e[i],a=e[i+8],u=e[i+16],c=e[i+24],l=e[i+32],f=e[i+40],d=e[i+48];var x=s+(o=e[i+56]),R=s-o,S=a+d,k=a-d,E=u+f,F=u-f,T=c+l,A=c-l,U=x+T,x=x-T,T=S+E,S=S-E,E=(e[i]=U+T,e[i+32]=U-T,.707106781*(S+x)),T=(e[i+16]=x+E,e[i+48]=x-E,.382683433*((U=A+F)-(S=k+R))),x=.5411961*U+T,E=1.306562965*S+T,A=.707106781*(F+k),U=R+A,S=R-A;e[i+40]=S+x,e[i+24]=S-x,e[i+8]=U+E,e[i+56]=U-E,i++}for(r=0;r<64;++r)n=e[r]*t[r],C[r]=0<n?.5+n|0:n-.5|0;return C}(e,t),c=0;c<64;++c)v[b[c]]=u[c];for(var e=v[0]-n,l=(n=v[0],0==e?j(i[0]):(j(i[m[o=32767+e]]),j(g[o])),63);0<l&&0==v[l];l--);if(0==l)return j(s),n;for(var f=1;f<=l;){for(var d=f;0==v[f]&&f<=l;++f);d=f-d;if(16<=d){for(var h=d>>4,p=1;p<=h;++p)j(a);d&=15}o=32767+v[f],j(r[(d<<4)+m[o]]),j(g[o]),f++}return 63!=l&&j(s),n}function te(e){if(d!=(e=100<(e=e<=0?1:e)?100:e)){for(var t=e<50?Math.floor(5e3/e):Math.floor(200-2*e),n=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],i=0;i<64;i++){var r=h((n[i]*t+50)/100);r<1?r=1:255<r&&(r=255),D[b[i]]=r}for(var o=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var a=h((o[s]*t+50)/100);a<1?a=1:255<a&&(a=255),O[b[s]]=a}for(var u=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],c=0,l=0;l<8;l++)for(var f=0;f<8;f++)I[c]=1/(D[b[c]]*u[l]*u[f]*8),q[c]=1/(O[b[c]]*u[l]*u[f]*8),c++;d=e}}this.encode=function(e,t){t&&te(t),B=new Array,L=0,P=7,Q(65496),Q(65504),Q(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),Q(1),Q(1),N(0),N(0),Q(65499),Q(132),N(0);for(var n=0;n<64;n++)N(D[n]);N(1);for(var i=0;i<64;i++)N(O[i]);t=e.width,R=e.height,Q(65472),Q(17),N(8),Q(R),Q(t),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1),Q(65476),Q(418),N(0);for(var r=0;r<16;r++)N(G[r+1]);for(var o=0;o<=11;o++)N(J[o]);N(16);for(var s=0;s<16;s++)N(W[s+1]);for(var a=0;a<=161;a++)N(X[a]);N(1);for(var u=0;u<16;u++)N(Z[u+1]);for(var c=0;c<=11;c++)N(K[c]);N(17);for(var l=0;l<16;l++)N(Y[l+1]);for(var f=0;f<=161;f++)N(ee[f]);Q(65498),Q(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);for(var d,h,p,g,m,v,b,_=0,y=0,w=0,x=(L=0,P=7,this.encode.displayName="_encode_",e.data),R=e.width,S=e.height,k=4*R,E=0;E<S;){for(d=0;d<k;){for(g=p=k*E+d,b=0;b<64;b++)g=p+(v=b>>3)*k+(m=4*(7&b)),S<=E+v&&(g-=k*(E+1+v-S)),k<=d+m&&(g-=d+m-k+4),v=x[g++],m=x[g++],h=x[g++],z[b]=($[v]+$[m+256>>0]+$[h+512>>0]>>16)-128,H[b]=($[v+768>>0]+$[m+1024>>0]+$[h+1280>>0]>>16)-128,M[b]=($[v+1280>>0]+$[m+1536>>0]+$[h+1792>>0]>>16)-128;_=V(z,I,_,F,A),y=V(H,q,y,T,U),w=V(M,q,w,T,U),d+=32}E+=8}0<=P&&((t=[])[1]=P+1,t[0]=(1<<P+1)-1,j(t)),Q(65497);e="data:image/jpeg;base64,"+btoa(B.join(""));return B=[],e},e=e||50;for(var l=String.fromCharCode,i=0;i<256;i++)t[i]=l(i);F=n(G,J),T=n(Z,K),A=n(W,X),U=n(Y,ee);for(var r=1,o=2,s=1;s<=15;s++){for(var a=r;a<o;a++)m[32767+a]=s,g[32767+a]=[],g[32767+a][1]=s,g[32767+a][0]=a;for(var u=-(o-1);u<=-r;u++)m[32767+u]=s,g[32767+u]=[],g[32767+u][1]=s,g[32767+u][0]=o-1+u;r<<=1,o<<=1}for(var c=0;c<256;c++)$[c]=19595*c,$[c+256>>0]=38470*c,$[c+512>>0]=7471*c+32768,$[c+768>>0]=-11059*c,$[c+1024>>0]=-21709*c,$[c+1280>>0]=32768*c+8421375,$[c+1536>>0]=-27439*c,$[c+1792>>0]=-5329*c;te(e)}return i.encode=function(e,t){return new i(t).encode(e)},i}),define("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,s,a){var u,c=e.canvasToDataUrl;e.canvasToDataUrl=function(e,t,n){var i,r,o;return a.os.android?("image/jpeg"===t&&void 0===u&&(r=(r=(~(o=(r=c.apply(null,arguments)).split(","))[0].indexOf("base64")?atob:decodeURIComponent)(o[1])).substring(0,2),u=255===r.charCodeAt(0)&&216===r.charCodeAt(1)),"image/jpeg"!==t||u?c.apply(null,arguments):(o=e.width,r=e.height,i=e.getContext("2d"),s.encode(i.getImageData(0,0,o,r),n))):c.apply(null,arguments)}}),define("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(i,e,r){return e.register("Image",{modified:!1,init:function(){var n=this,e=new Image;e.onload=function(){n._info={type:n.type,width:this.width,height:this.height},n._metas||"image/jpeg"!==n.type?n.owner.trigger("load"):r.parseMeta(n._blob,function(e,t){n._metas=t,n.owner.trigger("load")})},e.onerror=function(){n.owner.trigger("error")},n._img=e},loadFromBlob:function(e){var t=this._img;this._blob=e,this.type=e.type,t.src=r.createObjectURL(e.getSource()),this.owner.once("load",function(){r.revokeObjectURL(t.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,i,r){var o=this._canvas||(this._canvas=document.createElement("canvas")),s=this.options,a=this._img,u=a.naturalWidth,c=a.naturalHeight,l=this.getOrientation();r=r||1,o.width=n,o.height=i,s.preserveHeaders||this._rotate2Orientaion(o,l),this._renderImageToCanvas(o,a,-e,-t,u*r,c*r),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,n=this._blob,i=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(n=r.canvasToDataUrl(t,e,i.quality),i.preserveHeaders&&this._metas&&this._metas.imageHead)return n=r.dataURL2ArrayBuffer(n),n=r.updateImageHead(n,this._metas.imageHead),n=r.arrayBufferToBlob(n,e)}else n=r.canvasToDataUrl(t,e);n=r.dataURL2Blob(n)}return n},getAsDataUrl:function(e){var t=this.options;return"image/jpeg"===(e=e||this.type)?r.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._metas=e,this):this._metas},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",this._img=this._blob=null},_resize:function(e,t,n,i){var r,o=this.options,s=e.width,a=e.height,u=this.getOrientation();~[5,6,7,8].indexOf(u)&&(n=(n^=i)^(i^=n)),r=Math[o.crop?"max":"min"](n/s,i/a),s=s*(r=o.allowMagnify?r:Math.min(1,r)),a=a*r,o.crop?(t.width=n,t.height=i):(t.width=s,t.height=a),r=(t.width-s)/2,n=(t.height-a)/2,o.preserveHeaders||this._rotate2Orientaion(t,u),this._renderImageToCanvas(t,e,r,n,s,a)},_rotate2Orientaion:function(e,t){var n=e.width,i=e.height,r=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=i,e.height=n}switch(t){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},_renderImageToCanvas:i.os.ios?7<=i.os.ios?function(e,t,n,i,r,o){var s=t.naturalWidth,a=t.naturalHeight,u=y(t,0,a);return e.getContext("2d").drawImage(t,0,0,s*u,a*u,n,i,r,o)}:function(e,t,n,i,r,o){var s,a,u,c,l,f,d,h=t.naturalWidth,p=t.naturalHeight,g=e.getContext("2d"),e=1048576<(m=(e=t).naturalWidth)*e.naturalHeight&&((d=document.createElement("canvas")).width=d.height=1,(d=d.getContext("2d")).drawImage(e,1-m,0),0===d.getImageData(0,0,1,1).data[3]),m="image/jpeg"===this.type,v=1024,b=0,_=0;for(e&&(h/=2,p/=2),g.save(),(s=document.createElement("canvas")).width=s.height=v,a=s.getContext("2d"),d=m?y(t,0,p):1,u=Math.ceil(v*r/h),c=Math.ceil(v*o/p/d);b<p;){for(f=l=0;l<h;)a.clearRect(0,0,v,v),a.drawImage(t,-l,-b),g.drawImage(s,0,0,v,v,n+f,i+_,u,c),l+=v,f+=u;b+=v,_+=c}g.restore()}:function(e){var t=i.slice(arguments,1),n=e.getContext("2d");n.drawImage.apply(n,t)}});function y(e,t,n){var i,r=document.createElement("canvas"),o=r.getContext("2d"),s=0,a=n,u=n;for(r.width=1,r.height=n,o.drawImage(e,0,0),i=o.getImageData(0,0,1,n).data;s<u;)0===i[4*(u-1)+3]?a=u:s=u,u=a+s>>1;return 0==(r=u/n)?1:r}}),define("runtime/html5/transport",["base","runtime/html5/runtime"],function(u,e){var i=u.noop,c=u.$;return e.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var n,e,t,i=this.owner,r=this.options,o=this._initAjax(),s=i._blob,a=r.server;r.sendAsBinary?(a+=(/\?/.test(a)?"&":"?")+c.param(i._formData),e=s.getSource()):(n=new FormData,c.each(i._formData,function(e,t){n.append(e,t)}),n.append(r.fileVal,s.getSource(),r.filename||i._formData.name||"")),r.withCredentials&&"withCredentials"in o?(o.open(r.method,a,!0),o.withCredentials=!0):o.open(r.method,a),this._setRequestHeader(o,r.headers),e?(o.overrideMimeType&&o.overrideMimeType("application/octet-stream"),u.os.android?((t=new FileReader).onload=function(){o.send(this.result),t=t.onload=null},t.readAsArrayBuffer(e)):o.send(e)):o.send(n)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=i,e.onreadystatechange=i,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var n=this,e=new XMLHttpRequest,t=this.options;return(e=!t.withCredentials||"withCredentials"in e||"undefined"==typeof XDomainRequest?e:new XDomainRequest).upload.onprogress=function(e){var t=0;return e.lengthComputable&&(t=e.loaded/e.total),n.trigger("progress",t)},e.onreadystatechange=function(){if(4===e.readyState)return e.upload.onprogress=i,e.onreadystatechange=i,n._xhr=null,n._status=e.status,200<=e.status&&e.status<300?(n._response=e.responseText,n.trigger("load",n._response)):500<=e.status&&e.status<600?(n._response=e.responseText,n.trigger("error","server")):n.trigger("error",n._status?"http":"abort")},n._xhr=e},_setRequestHeader:function(n,e){c.each(e,function(e,t){n.setRequestHeader(e,t)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){t={}}return t}})}),define("runtime/html5/md5",["runtime/html5/runtime"],function(e){function s(e,t,n,i,r,o,s){return d(t&n|~t&i,e,t,r,o,s)}function a(e,t,n,i,r,o,s){return d(t&i|n&~i,e,t,r,o,s)}function u(e,t,n,i,r,o,s){return d(t^n^i,e,t,r,o,s)}function c(e,t,n,i,r,o,s){return d(n^(t|~i),e,t,r,o,s)}function l(e){for(var t=[],n=0;n<64;n+=4)t[n>>2]=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24);return t}function n(e){for(var t,n,i,r,o=e.length,s=[1732584193,-271733879,-1732584194,271733878],a=64;a<=o;a+=64)h(s,p(e.substring(a-64,a)));for(t=(e=e.substring(a-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<t;a+=1)n[a>>2]|=e.charCodeAt(a)<<(a%4<<3);if(n[a>>2]|=128<<(a%4<<3),55<a)for(h(s,n),a=0;a<16;a+=1)n[a]=0;return r=(r=8*o).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),r=parseInt(r[1],16)||0,n[14]=i,n[15]=r,h(s,n),s}function o(e){for(var t=0;t<e.length;t+=1)e[t]=r(e[t]);return e.join("")}function t(){this.reset()}var f=function(e,t){return e+t&4294967295},d=function(e,t,n,i,r,o){return t=f(f(t,e),f(i,o)),f(t<<r|t>>>32-r,n)},h=function(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],n=s(n,i,r,o,t[0],7,-680876936),o=s(o,n,i,r,t[1],12,-389564586),r=s(r,o,n,i,t[2],17,606105819),i=s(i,r,o,n,t[3],22,-1044525330);n=s(n,i,r,o,t[4],7,-176418897),o=s(o,n,i,r,t[5],12,1200080426),r=s(r,o,n,i,t[6],17,-1473231341),i=s(i,r,o,n,t[7],22,-45705983),n=s(n,i,r,o,t[8],7,1770035416),o=s(o,n,i,r,t[9],12,-1958414417),r=s(r,o,n,i,t[10],17,-42063),i=s(i,r,o,n,t[11],22,-1990404162),n=s(n,i,r,o,t[12],7,1804603682),o=s(o,n,i,r,t[13],12,-40341101),r=s(r,o,n,i,t[14],17,-1502002290),i=s(i,r,o,n,t[15],22,1236535329),n=a(n,i,r,o,t[1],5,-165796510),o=a(o,n,i,r,t[6],9,-1069501632),r=a(r,o,n,i,t[11],14,643717713),i=a(i,r,o,n,t[0],20,-373897302),n=a(n,i,r,o,t[5],5,-701558691),o=a(o,n,i,r,t[10],9,38016083),r=a(r,o,n,i,t[15],14,-660478335),i=a(i,r,o,n,t[4],20,-405537848),n=a(n,i,r,o,t[9],5,568446438),o=a(o,n,i,r,t[14],9,-1019803690),r=a(r,o,n,i,t[3],14,-187363961),i=a(i,r,o,n,t[8],20,1163531501),n=a(n,i,r,o,t[13],5,-1444681467),o=a(o,n,i,r,t[2],9,-51403784),r=a(r,o,n,i,t[7],14,1735328473),i=a(i,r,o,n,t[12],20,-1926607734),n=u(n,i,r,o,t[5],4,-378558),o=u(o,n,i,r,t[8],11,-2022574463),r=u(r,o,n,i,t[11],16,1839030562),i=u(i,r,o,n,t[14],23,-35309556),n=u(n,i,r,o,t[1],4,-1530992060),o=u(o,n,i,r,t[4],11,1272893353),r=u(r,o,n,i,t[7],16,-155497632),i=u(i,r,o,n,t[10],23,-1094730640),n=u(n,i,r,o,t[13],4,681279174),o=u(o,n,i,r,t[0],11,-358537222),r=u(r,o,n,i,t[3],16,-722521979),i=u(i,r,o,n,t[6],23,76029189),n=u(n,i,r,o,t[9],4,-640364487),o=u(o,n,i,r,t[12],11,-421815835),r=u(r,o,n,i,t[15],16,530742520),i=u(i,r,o,n,t[2],23,-995338651),n=c(n,i,r,o,t[0],6,-198630844),o=c(o,n,i,r,t[7],10,1126891415),r=c(r,o,n,i,t[14],15,-1416354905),i=c(i,r,o,n,t[5],21,-57434055),n=c(n,i,r,o,t[12],6,1700485571),o=c(o,n,i,r,t[3],10,-1894986606),r=c(r,o,n,i,t[10],15,-1051523),i=c(i,r,o,n,t[1],21,-2054922799),n=c(n,i,r,o,t[8],6,1873313359),o=c(o,n,i,r,t[15],10,-30611744),r=c(r,o,n,i,t[6],15,-1560198380),i=c(i,r,o,n,t[13],21,1309151649),n=c(n,i,r,o,t[4],6,-145523070),o=c(o,n,i,r,t[11],10,-1120210379),r=c(r,o,n,i,t[2],15,718787259),i=c(i,r,o,n,t[9],21,-343485551),e[0]=f(n,e[0]),e[1]=f(i,e[1]),e[2]=f(r,e[2]),e[3]=f(o,e[3])},p=function(e){for(var t=[],n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t},i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=function(e){for(var t="",n=0;n<4;n+=1)t+=i[e>>8*n+4&15]+i[e>>8*n&15];return t};return"5d41402abc4b2a76b9719d911017c592"!==o(n("hello"))&&(f=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),t.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},t.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;for(var t=this._buff.length,n=64;n<=t;n+=64)h(this._state,p(this._buff.substring(n-64,n)));return this._buff=this._buff.substr(n-64),this},t.prototype.end=function(e){for(var t=this._buff,n=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);return this._finish(i,n),e=e?this._state:o(this._state),this.reset(),e},t.prototype._finish=function(e,t){var n,i=t;if(e[i>>2]|=128<<(i%4<<3),55<i)for(h(this._state,e),i=0;i<16;i+=1)e[i]=0;t=(t=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(t[2],16),t=parseInt(t[1],16)||0,e[14]=n,e[15]=t,h(this._state,e)},t.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},t.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},t.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));e=n(e);return t?e:o(e)},t.hashBinary=function(e,t){e=n(e);return t?e:o(e)},(t.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)h(this._state,l(n.subarray(t-64,t)));return this._buff=t-64<i?n.subarray(t-64):new Uint8Array(0),this},t.ArrayBuffer.prototype.end=function(e){for(var t=this._buff,n=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=t[r]<<(r%4<<3);return this._finish(i,n),e=e?this._state:o(this._state),this.reset(),e},t.ArrayBuffer.prototype._finish=t.prototype._finish,t.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},t.ArrayBuffer.prototype.destroy=t.prototype.destroy,t.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,i=new Uint8Array(n+t.byteLength);return i.set(e),i.set(new Uint8Array(t),n),i},t.ArrayBuffer.hash=function(e,t){e=function(e){for(var t,n,i,r,o=e.length,s=[1732584193,-271733879,-1732584194,271733878],a=64;a<=o;a+=64)h(s,l(e.subarray(a-64,a)));for(t=(e=a-64<o?e.subarray(a-64):new Uint8Array(0)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<t;a+=1)n[a>>2]|=e[a]<<(a%4<<3);if(n[a>>2]|=128<<(a%4<<3),55<a)for(h(s,n),a=0;a<16;a+=1)n[a]=0;return r=(r=8*o).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),r=parseInt(r[1],16)||0,n[14]=i,n[15]=r,h(s,n),s}(new Uint8Array(e));return t?e:o(e)},e.register("Md5",{init:function(){},loadFromBlob:function(n){var i=n.getSource(),r=2097152,o=Math.ceil(i.size/r),s=0,a=this.owner,u=new t.ArrayBuffer,c=this,l=i.mozSlice||i.webkitSlice||i.slice,f=new FileReader,d=function(){var e=s*r,t=Math.min(e+r,i.size);f.onload=function(e){u.append(e.target.result),a.trigger("progress",{total:n.size,loaded:t})},f.onloadend=function(){f.onloadend=f.onload=null,++s<o?setTimeout(d,1):setTimeout(function(){a.trigger("load"),c.result=u.end(),d=n=i=u=null,a.trigger("complete")},50)},f.readAsArrayBuffer(l.call(i,e,t))};d()},getResult:function(){return this.result}})}),define("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(a,n,i){var r=a.$,u={};function e(){var r={},o={},e=this.destroy,s=this,t=a.guid("webuploader_");n.apply(s,arguments),s.type="flash",s.exec=function(e,t){var n=this.uid,i=a.slice(arguments,2);return o[n]=this,u[e]&&(r[n]||(r[n]=new u[e](this,s)),(n=r[n])[t])?n[t].apply(n,i):s.flashExec.apply(this,arguments)},window[t]=function(){var e=arguments;setTimeout(function(){!function(e,t){var n=e.type||e,i=n.split("::"),r=i[0];"Ready"===(n=i[1])&&r===s.uid?s.trigger("ready"):o[r]&&o[r].trigger(n.toLowerCase(),e,t)}.apply(null,e)},1)},this.jsreciver=t,this.destroy=function(){return e&&e.apply(this,arguments)},this.flashExec=function(e,t){var n=s.getFlash(),i=a.slice(arguments,2);return n.exec(this.uid,e,t,i)}}return a.inherits(n,{constructor:e,init:function(){var e,t=this.getContainer(),n=this.options;t.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),e='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+n.swf+'" ',a.browser.ie&&(e+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),e+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',t.html(e)},getFlash:function(){return this._flash||(this._flash=r("#"+this.uid).get(0),this._flash)}}),e.register=function(e,t){return t=u[e]=a.inherits(i,r.extend({flashExec:function(){var e=this.owner;return this.getRuntime().flashExec.apply(e,arguments)}},t))},11.4<=function(){var t;try{t=(t=navigator.plugins["Shockwave Flash"]).description}catch(e){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){t="0.0"}}return t=t.match(/\d+/g),parseFloat(t[0]+"."+t[1],10)}()&&n.addRuntime("flash",e),e}),define("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var r=e.$;return t.register("FilePicker",{init:function(e){for(var t=r.extend({},e),n=t.accept&&t.accept.length,i=0;i<n;i++)t.accept[i].title||(t.accept[i].title="Files");delete t.button,delete t.id,delete t.container,this.flashExec("FilePicker","init",t)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),define("runtime/flash/image",["runtime/flash/runtime"],function(e){return e.register("Image",{loadFromBlob:function(e){var t=this.owner;t.info()&&this.flashExec("Image","info",t.info()),t.meta()&&this.flashExec("Image","meta",t.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})}),define("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(e,t,n){var s=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,i=this._initAjax(),r=t._blob,o=n.server;i.connectRuntime(r.ruid),n.sendAsBinary?(o+=(/\?/.test(o)?"&":"?")+s.param(t._formData),e=r.uid):(s.each(t._formData,function(e,t){i.exec("append",e,t)}),i.exec("appendBlob",n.fileVal,r.uid,n.filename||t._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:o,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var i=this,r=new n("XMLHttpRequest");return r.on("uploadprogress progress",function(e){e=e.loaded/e.total,e=Math.min(1,Math.max(0,e));return i.trigger("progress",e)}),r.on("load",function(){var e=r.exec("getStatus"),t=!1,n="";return r.off(),i._xhr=null,200<=e&&e<300?t=!0:n=500<=e&&e<600?(t=!0,"server"):"http",t&&(i._response=r.exec("getResponse"),i._response=decodeURIComponent(i._response),i._responseJson=i._response?function(e){try{return window.JSON&&window.JSON.parse?JSON.parse(e):new Function("return "+e).call()}catch(e){return{}}}(i._response):{}),r.destroy(),r=null,n?i.trigger("error",n):i.trigger("load")}),r.on("error",function(){r.off(),i._xhr=null,i.trigger("error","http")}),i._xhr=r},_setRequestHeader:function(n,e){s.each(e,function(e,t){n.exec("setRequestHeader",e,t)})}})}),define("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,n){return e.register("Blob",{slice:function(e,t){e=this.flashExec("Blob","slice",e,t);return new n(this.getRuid(),e)}})}),define("runtime/flash/md5",["runtime/flash/runtime"],function(e){return e.register("Md5",{init:function(){},loadFromBlob:function(e){return this.flashExec("Md5","loadFromBlob",e.uid)}})}),define("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(e){return e}),define("widgets/log",["base","uploader","widgets/widget"],function(e,t){var n,i=e.$,e=(location.hostname||location.host||"protected").toLowerCase();if(e&&/baidu/i.exec(e))return n={dv:3,master:"webuploader",online:/test/.exec(e)?0:1,module:"",product:e,type:0},t.register({name:"log",init:function(){var e=this.owner,t=0,n=0;e.on("error",function(e){r({type:2,c_error_code:e})}).on("uploadError",function(e,t){r({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(e){t++,n+=e.size}).on("uploadFinished",function(){r({c_count:t,c_size:n}),t=n=0}),r({c_usage:1})}});function r(e){e=i.extend({},n,e),e=" https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK/tb/pms/img/st.gif??".replace(/^(.*)\?/,"$1"+i.param(e));(new Image).src=e}}),define("webuploader",["preset/all","widgets/log"],function(e){return e});var _require=require;return _require("webuploader")})});
;/*!wiki-common:widget/lib/zeroClipboard/zeroClipboard.js*/
define("wiki-common:widget/lib/zeroClipboard/zeroClipboard",function(t,F,X){"use strict";function Y(){return{browser:function(e,t){for(var n={},r=0,a=t.length;r<a;r++)t[r]in e&&(n[t[r]]=e[t[r]]);return n}(a,["userAgent","platform","appName"]),flash:function(e,t){var n,r={};for(n in e)-1===d.inArray(n,t)&&(r[n]=e[n]);return r}(b,["bridge"]),zeroclipboard:{version:_.version,config:_.config()}}}function $(e){var t,n;if((e=r(e))&&!function(e){var t=e.target||s||null,n=e._source==="swf",r=(delete e._source,["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"]);switch(e.type){case"error":if(d.inArray(e.name,r)!==-1)m(b,{disabled:e.name==="flash-disabled",outdated:e.name==="flash-outdated",unavailable:e.name==="flash-unavailable",deactivated:e.name==="flash-deactivated",overdue:e.name==="flash-overdue",ready:false});break;case"ready":var a=b.deactivated===true;m(b,{disabled:false,outdated:false,unavailable:false,deactivated:false,overdue:a,ready:!a});break;case"beforecopy":c=t;break;case"copy":var i,o,l=e.relatedTarget;if(!(C["text/html"]||C["text/plain"])&&l&&(o=l.value||l.outerHTML||l.innerHTML)&&(i=l.value||l.textContent||l.innerText)){e.clipboardData.clearData();e.clipboardData.setData("text/plain",i);if(o!==i)e.clipboardData.setData("text/html",o)}else if(!C["text/plain"]&&e.target&&(i=e.target.getAttribute("data-clipboard-text"))){e.clipboardData.clearData();e.clipboardData.setData("text/plain",i)}break;case"aftercopy":_.clearData();if(t&&t!==pe()&&t.focus)t.focus();break;case"_mouseover":_.focus(t);if(x.bubbleEvents===true&&n){if(t&&t!==e.relatedTarget&&!W(e.relatedTarget,t))D(m({},e,{type:"mouseenter",bubbles:false,cancelable:false}));D(m({},e,{type:"mouseover"}))}break;case"_mouseout":_.blur();if(x.bubbleEvents===true&&n){if(t&&t!==e.relatedTarget&&!W(e.relatedTarget,t))D(m({},e,{type:"mouseleave",bubbles:false,cancelable:false}));D(m({},e,{type:"mouseout"}))}break;case"_mousedown":de(t,x.activeClass);if(x.bubbleEvents===true&&n)D(m({},e,{type:e.type.slice(1)}));break;case"_mouseup":k(t,x.activeClass);if(x.bubbleEvents===true&&n)D(m({},e,{type:e.type.slice(1)}));break;case"_click":c=null;if(x.bubbleEvents===true&&n)D(m({},e,{type:e.type.slice(1)}));break;case"_mousemove":if(x.bubbleEvents===true&&n)D(m({},e,{type:e.type.slice(1)}));break}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type))return true}(e))return"ready"===e.type&&!0===b.overdue?_.emit({type:"error",name:"flash-overdue"}):(n=m({},e),function(e){if("object"==typeof e&&e&&e.type){var t=ie(e),n=w["*"]||[],r=w[e.type]||[],a=n.concat(r);if(a&&a.length)for(var i,o,l,s,c,f=this,i=0,o=a.length;i<o;i++)s=this,"function"==typeof(l="object"==typeof(l="string"==typeof(l=a[i])&&"function"==typeof p[l]?p[l]:l)&&l&&"function"==typeof l.handleEvent?(s=l).handleEvent:l)&&(c=m({},e),oe(l,s,[c],t));return this}}.call(this,n),"copy"===e.type&&(t=(n=function(e){var t={},n={};if("object"==typeof e&&e){for(var r in e)if(r&&y.call(e,r)&&"string"==typeof e[r]&&e[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[r],n.rtf=r}return{data:t,formatMap:n}}}(C)).data,T=n.formatMap),t)}function B(){if("boolean"!=typeof b.ready&&(b.ready=!1),!_.isFlashUnusable()&&null===b.bridge){var e=x.flashLoadTimeout;"number"==typeof e&&0<=e&&f(function(){"boolean"!=typeof b.deactivated&&(b.deactivated=!0),!0===b.deactivated&&_.emit({type:"error",name:"flash-deactivated"})},e),b.overdue=!1;var e=b.bridge,t=E(e);if(!e){var n=ue(p.location.host,x);var r=n==="never"?"none":"all";var a=fe(x);var i=x.swfPath+ce(x.swfPath,x);t=le();var o=h.createElement("div");t.appendChild(o);h.body.appendChild(t);var l=h.createElement("div");var s=b.pluginType==="activex";l.innerHTML='<object id="'+x.swfObjectId+'" name="'+x.swfObjectId+'" '+'width="100%" height="100%" '+(s?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+i+'"')+">"+(s?'<param name="movie" value="'+i+'"/>':"")+'<param name="allowScriptAccess" value="'+n+'"/>'+'<param name="allowNetworking" value="'+r+'"/>'+'<param name="menu" value="false"/>'+'<param name="wmode" value="transparent"/>'+'<param name="flashvars" value="'+a+'"/>'+"</object>";e=l.firstChild;l=null;J(e).ZeroClipboard=_;t.replaceChild(e,o)}if(!e){e=h[x.swfObjectId];if(e&&(s=e.length))e=e[s-1];if(!e&&t)e=t.firstChild}b.bridge=e||null}}function H(){_.clearData(),_.blur(),_.emit("destroy");var n,r=b.bridge;r&&((n=E(r))&&("activex"===b.pluginType&&"readyState"in r?(r.style.display="none",function e(){if(4===r.readyState){for(var t in r)"function"==typeof r[t]&&(r[t]=null);r.parentNode&&r.parentNode.removeChild(r),n.parentNode&&n.parentNode.removeChild(n)}else f(e,10)}()):(r.parentNode&&r.parentNode.removeChild(r),n.parentNode&&n.parentNode.removeChild(n))),b.ready=null,b.bridge=null,b.deactivated=null),_.off()}function M(e){if(void 0===e){var t=C;if(t)for(var n in t)y.call(t,n)&&delete t[n];T=null}else"string"==typeof e&&y.call(C,e)&&delete C[e]}function P(e){if(e&&1===e.nodeType){s&&(k(s,x.activeClass),s!==e&&k(s,x.hoverClass)),de(s=e,x.hoverClass);var t=e.getAttribute("title")||x.title;"string"!=typeof t||!t||(n=E(b.bridge))&&n.setAttribute("title",t);var n=!0===x.forceHandCursor||"pointer"===function(e,t){var n=d(e).css(t);if(t==="cursor")if(!n||n==="auto")if(e.nodeName==="A")return"pointer";return n}(e,"cursor");if(b.ready===true)if(b.bridge&&typeof b.bridge.setHandCursor==="function")b.bridge.setHandCursor(n);else b.ready=false;if(s&&(t=E(b.bridge))){e=ye(s);m(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+j(x.zIndex)})}}}function r(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t)return!e.target&&/^(copy|aftercopy|_click)$/.test(t.toLowerCase())&&(e.target=c),m(e,{type:t.toLowerCase(),target:e.target||s||null,relatedTarget:e.relatedTarget||null,currentTarget:b&&b.bridge||null,timeStamp:e.timeStamp||U()||null}),t=ne[e.type],(t="error"===e.type&&e.name&&t?t[e.name]:t)&&(e.message=t),"ready"===e.type&&m(e,{target:null,version:b.version}),"error"===e.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(e.name)&&m(e,{target:null,minimumVersion:te}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(e.name)&&m(e,{version:b.version})),"copy"===e.type&&(e.clipboardData={setData:_.setData,clearData:_.clearData}),(e="aftercopy"===e.type?se(e,T):e).target&&!e.relatedTarget&&(e.relatedTarget=re(e.target)),ae(e)}function l(e){if(null==e||""===e)return null;if(""===(e=e.replace(/^\s+|\s+$/g,"")))return null;var t=e.indexOf("//"),n=(e=-1===t?e:e.slice(t+2)).indexOf("/");return(!(e=-1===n?e:-1===t||0===n?null:e.slice(0,n))||".swf"!==e.slice(-4).toLowerCase())&&e||null}var s,c,n,e,d=t("wiki-common:widget/lib/jquery/jquery"),p=window,h=p.document,a=p.navigator,f=p.setTimeout,u=p.encodeURIComponent,t=p.ActiveXObject,R=p.Error,Z=p.Number.parseInt||p.parseInt,i=p.Number.parseFloat||p.parseFloat,K=p.Number.isNaN||p.isNaN,o=p.Math.round,U=p.Date.now,V=p.Object.keys,q=p.Object.defineProperty,y=p.Object.prototype.hasOwnProperty,G=p.Array.prototype.slice,J=function(){var e=function(e){return e};if("function"==typeof p.wrap&&"function"==typeof p.unwrap)try{var t=h.createElement("div"),n=p.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=p.unwrap)}catch(e){}return e}(),v=function(e){return G.call(e,0)},m=function(){for(var e,t,n,r=v(arguments),a=r[0]||{},i=1,o=r.length;i<o;i++)if(null!=(e=r[i]))for(t in e)y.call(e,t)&&(a[t],a!==(n=e[t])&&void 0!==n&&(a[t]=n));return a},g=function(e){var t,n,r,a;if("object"!=typeof e||null==e)t=e;else if("number"==typeof e.length)for(t=[],n=0,r=e.length;n<r;n++)y.call(e,n)&&(t[n]=g(e[n]));else for(a in t={},e)y.call(e,a)&&(t[a]=g(e[a]));return t},W=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0}while(e=e.parentNode);return!1},Q=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},ee=function(){var e,t,n,r;try{throw new R}catch(e){t=e}return e=t?t.sourceURL||t.fileName||(t=t.stack,n="string"==typeof t&&t&&((r=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&r[1]||(r=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&r[1])?r[1]:n):e},b={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},te="11.0.0",w={},C={},T=null,ne={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},x={swfPath:(Q(function(){var e,t,n;if(h.currentScript&&(e=h.currentScript.src))return e;if(1===(t=h.getElementsByTagName("script")).length)return t[0].src||void 0;if("readyState"in t[0])for(n=t.length;n--;)if("interactive"===t[n].readyState&&(e=t[n].src))return e;return"loading"===h.readyState&&(e=t[t.length-1].src)||(e=ee())?e:void 0}())||function(){for(var e,t,n=h.getElementsByTagName("script"),r=n.length;r--;){if(!(t=n[r].src)){e=null;break}if(t=Q(t),null==e)e=t;else if(e!==t){e=null;break}}return e||void 0}()||"")+"ZeroClipboard.swf",trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},re=function(e){e=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return e?h.getElementById(e):null},ae=function(e){var t,n,r,a,i,o,l,s,c,f,u;return e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)&&(t=e.target,n="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:void 0,r="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:void 0,l=ye(t),a=p.screenLeft||p.screenX||0,i=p.screenTop||p.screenY||0,o=h.body.scrollLeft+h.documentElement.scrollLeft,c=h.body.scrollTop+h.documentElement.scrollTop,s=a+(o=(a=l.left+("number"==typeof e._stageX?e._stageX:0))-o),c=i+(l=(i=l.top+("number"==typeof e._stageY?e._stageY:0))-c),f="number"==typeof e.movementX?e.movementX:0,u="number"==typeof e.movementY?e.movementY:0,delete e._stageX,delete e._stageY,m(e,{srcElement:t,fromElement:n,toElement:r,screenX:s,screenY:c,pageX:a,pageY:i,clientX:o,clientY:l,x:o,y:l,movementX:f,movementY:u,offsetX:0,offsetY:0,layerX:0,layerY:0})),e},ie=function(e){e=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},oe=function(e,t,n,r){r?f(function(){e.apply(t,n)},0):e.apply(t,n)},D=function(e){var t,n,r;e&&"string"==typeof e.type&&e&&(r={view:(n=(t=e.target||null)&&t.ownerDocument||h).defaultView||p,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:n.createEvent?0:1},r=m(r,e),t&&n.createEvent&&t.dispatchEvent&&(r=[r.type,r.canBubble,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget],(e=n.createEvent("MouseEvents")).initMouseEvent&&(e.initMouseEvent.apply(e,r),e._source="js",t.dispatchEvent(e))))},le=function(){var e=h.createElement("div");return e.id=x.containerId,e.className=x.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+j(x.zIndex),e},E=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},se=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n,r={};for(n in e)if(y.call(e,n))if("success"!==n&&"data"!==n)r[n]=e[n];else{r[n]={};var a,i=e[n];for(a in i)a&&y.call(i,a)&&y.call(t,a)&&(r[n][t[a]]=i[a])}return r},ce=function(e,t){return null==t||t&&!0===t.cacheBust?(-1===e.indexOf("?")?"?":"&")+"noCache="+U():""},fe=function(e){var t,n,r,a,i="",o=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?a=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(a=e.trustedDomains)),a&&a.length)for(t=0,n=a.length;t<n;t++)if(y.call(a,t)&&a[t]&&"string"==typeof a[t]&&(r=l(a[t]))){if("*"===r){o.length=0,o.push(r);break}o.push.apply(o,[r,"//"+r,p.location.protocol+"//"+r])}return o.length&&(i+="trustedOrigins="+u(o.join(","))),!0===e.forceEnhancedClipboard&&(i+=(i?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(i+=(i?"&":"")+"swfObjectId="+u(e.swfObjectId)),i},ue=function(e,t){var n=l(t.swfPath),t=(null===n&&(n=e),function(e){var t,n,r,a=[];if("object"!=typeof(e="string"==typeof e?[e]:e)||!e||"number"!=typeof e.length)return a;for(t=0,n=e.length;t<n;t++)if(y.call(e,t)&&(r=l(e[t]))){if("*"===r){a.length=0,a.push("*");break}-1===d.inArray(r,a)&&a.push(r)}return a}(t.trustedDomains)),r=t.length;if(0<r){if(1===r&&"*"===t[0])return"always";if(-1!==d.inArray(e,t))return 1===r&&e===n?"sameDomain":"always"}return"never"},pe=function(){try{return h.activeElement}catch(e){return null}},de=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var r=" "+e.className+" ",a=e.className,i=0,o=n.length;i<o;i++)r.indexOf(" "+n[i]+" ")<0&&(a+=" "+n[i]);e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},k=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if("string"==typeof t&&t){var n=t.split(/\s+/);if(1===e.nodeType&&e.className){for(var r=(" "+e.className+" ").replace(/[\n\t]/g," "),a=0,i=n.length;a<i;a++)r=r.replace(" "+n[a]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}}return e},he=function(){var e,t,n=1;return"function"==typeof h.body.getBoundingClientRect&&(e=(e=h.body.getBoundingClientRect()).right-e.left,t=h.body.offsetWidth,n=o(e/t*100)/100),n},ye=function(e){var t,n,r,a,i={left:0,top:0,width:0,height:0};return e.getBoundingClientRect&&(e=e.getBoundingClientRect(),n="pageXOffset"in p&&"pageYOffset"in p?(t=p.pageXOffset,p.pageYOffset):(n=he(),t=o(h.documentElement.scrollLeft/n),o(h.documentElement.scrollTop/n)),r=h.documentElement.clientLeft||0,a=h.documentElement.clientTop||0,i.left=e.left+t-r,i.top=e.top+n-a,i.width="width"in e?e.width:e.right-e.left,i.height="height"in e?e.height:e.bottom-e.top),i},j=function(e){return/^(?:auto|inherit)$/.test(e)?e:("number"!=typeof e||K(e)?"string"==typeof e&&(t=j(Z(e,10))):t=e,"number"==typeof t?t:"auto");var t},I=!1,N=!1,ve=!1,A="";function z(e){e=e.match(/[\d]+/g);return e.length=3,e.join(".")}function me(e){e&&(I=!0,!(A=e.version?z(e.version):A)&&e.description&&(A=z(e.description)),e.filename&&(e=e.filename,ve=!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))))}if(a.plugins&&a.plugins.length)me(a.plugins["Shockwave Flash"]),a.plugins["Shockwave Flash 2.0"]&&(I=!0,A="2.0.0.11");else if(a.mimeTypes&&a.mimeTypes.length)me((e=a.mimeTypes["application/x-shockwave-flash"])&&e.enabledPlugin);else if(void 0!==t){N=!0;try{n=new t("ShockwaveFlash.ShockwaveFlash.7"),I=!0,A=z(n.GetVariable("$version"))}catch(e){try{n=new t("ShockwaveFlash.ShockwaveFlash.6"),I=!0,A="6.0.21"}catch(e){try{n=new t("ShockwaveFlash.ShockwaveFlash"),I=!0,A=z(n.GetVariable("$version"))}catch(e){N=!1}}}}b.disabled=!0!==I,b.outdated=A&&i(A)<i(te),b.version=A||"0.0.0",b.pluginType=ve?"pepper":N?"activex":I?"netscape":"unknown";var _=function(){if(!(this instanceof _))return new _;"function"==typeof _._createClient&&_._createClient.apply(this,v(arguments))};try{q(_,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0})}catch(e){_.version="2.1.6"}_.config=function(){return function(e){if("object"==typeof e&&null!==e)for(var t in e)if(y.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))x[t]=e[t];else if(null==b.bridge)if("containerId"===t||"swfObjectId"===t){if("string"!=typeof(n=e[t])||!n||!/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(n))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");x[t]=e[t]}else x[t]=e[t];var n;return"string"==typeof e&&e?y.call(x,e)?x[e]:void 0:g(x)}.apply(this,v(arguments))},_.state=function(){return Y.apply(this,v(arguments))},_.isFlashUnusable=function(){return function(){return!!(b.disabled||b.outdated||b.unavailable||b.deactivated)}.apply(this,v(arguments))},_.on=function(){return function(e,t){var n,r={};if("string"==typeof e&&e)n=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(i in e)y.call(e,i)&&"string"==typeof i&&i&&"function"==typeof e[i]&&_.on(i,e[i]);if(n&&n.length){for(i=0,o=n.length;i<o;i++)r[e=n[i].replace(/^on/,"")]=!0,w[e]||(w[e]=[]),w[e].push(t);if(r.ready&&b.ready&&_.emit({type:"ready"}),r.error)for(var a=["disabled","outdated","unavailable","deactivated","overdue"],i=0,o=a.length;i<o;i++)if(!0===b[a[i]]){_.emit({type:"error",name:"flash-"+a[i]});break}}return _}.apply(this,v(arguments))},_.off=function(){return function(e,t){var n,r,a,i,o;if(0===arguments.length)i=V(w);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)y.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&_.off(n,e[n]);if(i&&i.length)for(n=0,r=i.length;n<r;n++)if(e=i[n].toLowerCase().replace(/^on/,""),(o=w[e])&&o.length)if(t)for(a=d.inArray(t,o);-1!==a;)o.splice(a,1),a=d.inArray(t,o,a);else o.length=0;return _}.apply(this,v(arguments))},_.handlers=function(){return function(e){e="string"==typeof e&&e?g(w[e])||null:g(w);return e}.apply(this,v(arguments))},_.emit=function(){return $.apply(this,v(arguments))},_.create=function(){return B.apply(this,v(arguments))},_.destroy=function(){return H.apply(this,v(arguments))},_.setData=function(){return function(e,t){var n,r;if("object"==typeof e&&e&&void 0===t)n=e,_.clearData();else{if("string"!=typeof e||!e)return;(n={})[e]=t}for(r in n)"string"==typeof r&&r&&y.call(n,r)&&"string"==typeof n[r]&&n[r]&&(C[r]=n[r])}.apply(this,v(arguments))},_.clearData=function(){return M.apply(this,v(arguments))},_.getData=function(){return function(e){return void 0===e?g(C):"string"==typeof e&&y.call(C,e)?C[e]:void 0}.apply(this,v(arguments))},_.focus=_.activate=function(){return P.apply(this,v(arguments))},_.blur=_.deactivate=function(){return function(){var e=E(b.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.top="1px"),s&&(k(s,x.hoverClass),k(s,x.activeClass),s=null)}.apply(this,v(arguments))},_.activeElement=function(){return function(){return s||null}.apply(this,v(arguments))};function ge(e){return function(e){if(!(e&&e.type))return false;if(e.client&&e.client!==this)return false;var t=L[this.id]&&L[this.id].elements,n=!!t&&t.length>0,r=!e.target||n&&d.inArray(e.target,t)!==-1,a=e.relatedTarget&&n&&d.inArray(e.relatedTarget,t)!==-1,i=e.client&&e.client===this;return r||a||i?!0:!1}.call(this,e)&&("object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=m({},e)),e=m({},r(e),{client:this}),function(e){if("object"==typeof e&&e&&e.type){var t=ie(e),n=L[this.id]&&L[this.id].handlers["*"]||[],r=L[this.id]&&L[this.id].handlers[e.type]||[],a=n.concat(r);if(a&&a.length)for(var i,o,l,s,c,f=this,i=0,o=a.length;i<o;i++)s=this,"function"==typeof(l="object"==typeof(l="string"==typeof(l=a[i])&&"function"==typeof p[l]?p[l]:l)&&l&&"function"==typeof l.handleEvent?(s=l).handleEvent:l)&&(c=m({},e),oe(l,s,[c],t));return this}}.call(this,e)),this}function be(e){e=Ce(e);for(var t,n=0;n<e.length;n++)y.call(e,n)&&e[n]&&1===e[n].nodeType&&(e[n].zcClippingId?-1===d.inArray(this.id,O[e[n].zcClippingId])&&O[e[n].zcClippingId].push(this.id):(e[n].zcClippingId="zcClippingId_"+xe++,O[e[n].zcClippingId]=[this.id],!0===x.autoActivate&&function(t){var n,e;t&&1===t.nodeType&&(n=function(e){(e=e||p.event)&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},e=function(e){(e=e||p.event)&&(n(e),_.focus(t))},d(t).on("mouseover",e),d(t).on("mouseout",n),d(t).on("mouseenter",n),d(t).on("mouseleave",n),d(t).on("mousemove",n),S[t.zcClippingId]={mouseover:e,mouseout:n,mouseenter:n,mouseleave:n,mousemove:n})}(e[n])),t=L[this.id]&&L[this.id].elements,-1===d.inArray(e[n],t)&&t.push(e[n]));return this}function we(e){var t=L[this.id];if(!t)return this;for(var n,r=t.elements,a=(e=void 0===e?r.slice(0):Ce(e)).length;a--;)if(y.call(e,a)&&e[a]&&1===e[a].nodeType){for(n=0;-1!==(n=d.inArray(e[a],r,n));)r.splice(n,1);var i=O[e[a].zcClippingId];if(i){for(n=0;-1!==(n=d.inArray(this.id,i,n));)i.splice(n,1);if(0===i.length){if(!0===x.autoActivate){p=u=f=c=s=l=void 0;var o=e[a];if(o&&1===o.nodeType){var l=S[o.zcClippingId];if("object"==typeof l&&l){for(var s,c,f=["move","leave","enter","out","over"],u=0,p=f.length;u<p;u++)"function"==typeof(c=l[s="mouse"+f[u]])&&d(o).off(s,c);delete S[o.zcClippingId]}}}delete e[a].zcClippingId}}}return this}function Ce(e){return"number"!=typeof(e="string"==typeof e?[]:e).length?[e]:e}var Te=0,L={},xe=0,O={},S={};m(x,{autoActivate:!0});_._createClient=function(){!function(e){var t=this;t.id=""+Te++,L[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),_.on("*",function(e){return t.emit(e)}),_.on("destroy",function(){t.destroy()}),_.create()}.apply(this,v(arguments))},_.prototype.on=function(){return function(e,t){var n,r={},a=L[this.id]&&L[this.id].handlers;if("string"==typeof e&&e)n=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(o in e)y.call(e,o)&&"string"==typeof o&&o&&"function"==typeof e[o]&&this.on(o,e[o]);if(n&&n.length){for(o=0,l=n.length;o<l;o++)r[e=n[o].replace(/^on/,"")]=!0,a[e]||(a[e]=[]),a[e].push(t);if(r.ready&&b.ready&&this.emit({type:"ready",client:this}),r.error)for(var i=["disabled","outdated","unavailable","deactivated","overdue"],o=0,l=i.length;o<l;o++)if(b[i[o]]){this.emit({type:"error",name:"flash-"+i[o],client:this});break}}return this}.apply(this,v(arguments))},_.prototype.off=function(){return function(e,t){var n,r,a,i,o,l=L[this.id]&&L[this.id].handlers;if(0===arguments.length)i=V(l);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)y.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(i&&i.length)for(n=0,r=i.length;n<r;n++)if((o=l[e=i[n].toLowerCase().replace(/^on/,"")])&&o.length)if(t)for(a=d.inArray(t,o);-1!==a;)o.splice(a,1),a=d.inArray(t,o,a);else o.length=0;return this}.apply(this,v(arguments))},_.prototype.handlers=function(){return function(e){var t=null,n=L[this.id]&&L[this.id].handlers;return t=n?"string"==typeof e&&e?n[e]?n[e].slice(0):[]:g(n):t}.apply(this,v(arguments))},_.prototype.emit=function(){return ge.apply(this,v(arguments))},_.prototype.clip=function(){return be.apply(this,v(arguments))},_.prototype.unclip=function(){return we.apply(this,v(arguments))},_.prototype.elements=function(){return function(){var e=L[this.id];return e&&e.elements?e.elements.slice(0):[]}.apply(this,v(arguments))},_.prototype.destroy=function(){return function(){this.unclip(),this.off(),delete L[this.id]}.apply(this,v(arguments))},_.prototype.setText=function(e){return _.setData("text/plain",e),this},_.prototype.setHtml=function(e){return _.setData("text/html",e),this},_.prototype.setRichText=function(e){return _.setData("application/rtf",e),this},_.prototype.setData=function(){return _.setData.apply(this,v(arguments)),this},_.prototype.clearData=function(){return _.clearData.apply(this,v(arguments)),this},_.prototype.getData=function(){return _.getData.apply(this,v(arguments))},_.config({swfPath:"/static/wiki-common/flash/zeroClipboard_f55bd38.swf"}),X.exports=_});